const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-CDoOsur7.js","assets/webworkerAll-BtdZrcuU.js","assets/colorToUniform-KTpA7KSL.js","assets/CanvasPool-BUevWJsC.js","assets/WebGPURenderer-5BzZ1_F2.js","assets/SharedSystems-KMt548PA.js","assets/WebGLRenderer-DoiR9NKy.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function ua(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var _c={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zm;function U1(){if(Zm)return Ur;Zm=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:c,ref:l!==void 0?l:null,props:u}}return Ur.Fragment=t,Ur.jsx=i,Ur.jsxs=i,Ur}var Qm;function B1(){return Qm||(Qm=1,_c.exports=U1()),_c.exports}var $=B1(),Sc={exports:{}},Br={},wc={exports:{}},Ac={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function H1(){return $m||($m=1,function(s){function t(b,T){var R=b.length;b.push(T);t:for(;0<R;){var k=R-1>>>1,w=b[k];if(0<l(w,T))b[k]=T,b[R]=w,R=k;else break t}}function i(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var T=b[0],R=b.pop();if(R!==T){b[0]=R;t:for(var k=0,w=b.length,D=w>>>1;k<D;){var G=2*(k+1)-1,X=b[G],K=G+1,J=b[K];if(0>l(X,R))K<w&&0>l(J,X)?(b[k]=J,b[K]=R,k=K):(b[k]=X,b[G]=R,k=G);else if(K<w&&0>l(J,R))b[k]=J,b[K]=R,k=K;else break t}}return T}function l(b,T){var R=b.sortIndex-T.sortIndex;return R!==0?R:b.id-T.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var p=[],m=[],g=1,v=null,_=3,x=!1,C=!1,O=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(b){for(var T=i(m);T!==null;){if(T.callback===null)r(m);else if(T.startTime<=b)r(m),T.sortIndex=T.expirationTime,t(p,T);else break;T=i(m)}}function j(b){if(O=!1,q(b),!C)if(i(p)!==null)C=!0,W||(W=!0,ft());else{var T=i(m);T!==null&&kt(j,T.startTime-b)}}var W=!1,Z=-1,rt=5,it=-1;function tt(){return A?!0:!(s.unstable_now()-it<rt)}function nt(){if(A=!1,W){var b=s.unstable_now();it=b;var T=!0;try{t:{C=!1,O&&(O=!1,z(Z),Z=-1),x=!0;var R=_;try{e:{for(q(b),v=i(p);v!==null&&!(v.expirationTime>b&&tt());){var k=v.callback;if(typeof k=="function"){v.callback=null,_=v.priorityLevel;var w=k(v.expirationTime<=b);if(b=s.unstable_now(),typeof w=="function"){v.callback=w,q(b),T=!0;break e}v===i(p)&&r(p),q(b)}else r(p);v=i(p)}if(v!==null)T=!0;else{var D=i(m);D!==null&&kt(j,D.startTime-b),T=!1}}break t}finally{v=null,_=R,x=!1}T=void 0}}finally{T?ft():W=!1}}}var ft;if(typeof B=="function")ft=function(){B(nt)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,Nt=bt.port2;bt.port1.onmessage=nt,ft=function(){Nt.postMessage(null)}}else ft=function(){M(nt,0)};function kt(b,T){Z=M(function(){b(s.unstable_now())},T)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(b){b.callback=null},s.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<b?Math.floor(1e3/b):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(b){switch(_){case 1:case 2:case 3:var T=3;break;default:T=_}var R=_;_=T;try{return b()}finally{_=R}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var R=_;_=b;try{return T()}finally{_=R}},s.unstable_scheduleCallback=function(b,T,R){var k=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?k+R:k):R=k,b){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=R+w,b={id:g++,callback:T,priorityLevel:b,startTime:R,expirationTime:w,sortIndex:-1},R>k?(b.sortIndex=R,t(m,b),i(p)===null&&b===i(m)&&(O?(z(Z),Z=-1):O=!0,kt(j,R-k))):(b.sortIndex=w,t(p,b),C||x||(C=!0,W||(W=!0,ft()))),b},s.unstable_shouldYield=tt,s.unstable_wrapCallback=function(b){var T=_;return function(){var R=_;_=T;try{return b.apply(this,arguments)}finally{_=R}}}}(Ac)),Ac}var Km;function G1(){return Km||(Km=1,wc.exports=H1()),wc.exports}var Cc={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function N1(){if(Jm)return dt;Jm=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function A(w,D,G){this.props=w,this.context=D,this.refs=O,this.updater=G||x}A.prototype.isReactComponent={},A.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function M(){}M.prototype=A.prototype;function z(w,D,G){this.props=w,this.context=D,this.refs=O,this.updater=G||x}var B=z.prototype=new M;B.constructor=z,C(B,A.prototype),B.isPureReactComponent=!0;var q=Array.isArray,j={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function Z(w,D,G,X,K,J){return G=J.ref,{$$typeof:s,type:w,key:D,ref:G!==void 0?G:null,props:J}}function rt(w,D){return Z(w.type,D,void 0,void 0,void 0,w.props)}function it(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function tt(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(G){return D[G]})}var nt=/\/+/g;function ft(w,D){return typeof w=="object"&&w!==null&&w.key!=null?tt(""+w.key):D.toString(36)}function bt(){}function Nt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(bt,bt):(w.status="pending",w.then(function(D){w.status==="pending"&&(w.status="fulfilled",w.value=D)},function(D){w.status==="pending"&&(w.status="rejected",w.reason=D)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function kt(w,D,G,X,K){var J=typeof w;(J==="undefined"||J==="boolean")&&(w=null);var et=!1;if(w===null)et=!0;else switch(J){case"bigint":case"string":case"number":et=!0;break;case"object":switch(w.$$typeof){case s:case t:et=!0;break;case g:return et=w._init,kt(et(w._payload),D,G,X,K)}}if(et)return K=K(w),et=X===""?"."+ft(w,0):X,q(K)?(G="",et!=null&&(G=et.replace(nt,"$&/")+"/"),kt(K,D,G,"",function(Et){return Et})):K!=null&&(it(K)&&(K=rt(K,G+(K.key==null||w&&w.key===K.key?"":(""+K.key).replace(nt,"$&/")+"/")+et)),D.push(K)),1;et=0;var ht=X===""?".":X+":";if(q(w))for(var at=0;at<w.length;at++)X=w[at],J=ht+ft(X,at),et+=kt(X,D,G,J,K);else if(at=_(w),typeof at=="function")for(w=at.call(w),at=0;!(X=w.next()).done;)X=X.value,J=ht+ft(X,at++),et+=kt(X,D,G,J,K);else if(J==="object"){if(typeof w.then=="function")return kt(Nt(w),D,G,X,K);throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return et}function b(w,D,G){if(w==null)return w;var X=[],K=0;return kt(w,X,"","",function(J){return D.call(G,J,K++)}),X}function T(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(G){(w._status===0||w._status===-1)&&(w._status=1,w._result=G)},function(G){(w._status===0||w._status===-1)&&(w._status=2,w._result=G)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var R=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function k(){}return dt.Children={map:b,forEach:function(w,D,G){b(w,function(){D.apply(this,arguments)},G)},count:function(w){var D=0;return b(w,function(){D++}),D},toArray:function(w){return b(w,function(D){return D})||[]},only:function(w){if(!it(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},dt.Component=A,dt.Fragment=i,dt.Profiler=l,dt.PureComponent=z,dt.StrictMode=r,dt.Suspense=p,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,dt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return j.H.useMemoCache(w)}},dt.cache=function(w){return function(){return w.apply(null,arguments)}},dt.cloneElement=function(w,D,G){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=C({},w.props),K=w.key,J=void 0;if(D!=null)for(et in D.ref!==void 0&&(J=void 0),D.key!==void 0&&(K=""+D.key),D)!W.call(D,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&D.ref===void 0||(X[et]=D[et]);var et=arguments.length-2;if(et===1)X.children=G;else if(1<et){for(var ht=Array(et),at=0;at<et;at++)ht[at]=arguments[at+2];X.children=ht}return Z(w.type,K,void 0,void 0,J,X)},dt.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},dt.createElement=function(w,D,G){var X,K={},J=null;if(D!=null)for(X in D.key!==void 0&&(J=""+D.key),D)W.call(D,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(K[X]=D[X]);var et=arguments.length-2;if(et===1)K.children=G;else if(1<et){for(var ht=Array(et),at=0;at<et;at++)ht[at]=arguments[at+2];K.children=ht}if(w&&w.defaultProps)for(X in et=w.defaultProps,et)K[X]===void 0&&(K[X]=et[X]);return Z(w,J,void 0,void 0,null,K)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(w){return{$$typeof:f,render:w}},dt.isValidElement=it,dt.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:T}},dt.memo=function(w,D){return{$$typeof:m,type:w,compare:D===void 0?null:D}},dt.startTransition=function(w){var D=j.T,G={};j.T=G;try{var X=w(),K=j.S;K!==null&&K(G,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(k,R)}catch(J){R(J)}finally{j.T=D}},dt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},dt.use=function(w){return j.H.use(w)},dt.useActionState=function(w,D,G){return j.H.useActionState(w,D,G)},dt.useCallback=function(w,D){return j.H.useCallback(w,D)},dt.useContext=function(w){return j.H.useContext(w)},dt.useDebugValue=function(){},dt.useDeferredValue=function(w,D){return j.H.useDeferredValue(w,D)},dt.useEffect=function(w,D,G){var X=j.H;if(typeof G=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(w,D)},dt.useId=function(){return j.H.useId()},dt.useImperativeHandle=function(w,D,G){return j.H.useImperativeHandle(w,D,G)},dt.useInsertionEffect=function(w,D){return j.H.useInsertionEffect(w,D)},dt.useLayoutEffect=function(w,D){return j.H.useLayoutEffect(w,D)},dt.useMemo=function(w,D){return j.H.useMemo(w,D)},dt.useOptimistic=function(w,D){return j.H.useOptimistic(w,D)},dt.useReducer=function(w,D,G){return j.H.useReducer(w,D,G)},dt.useRef=function(w){return j.H.useRef(w)},dt.useState=function(w){return j.H.useState(w)},dt.useSyncExternalStore=function(w,D,G){return j.H.useSyncExternalStore(w,D,G)},dt.useTransition=function(){return j.H.useTransition()},dt.version="19.1.0",dt}var tg;function Ph(){return tg||(tg=1,Cc.exports=N1()),Cc.exports}var Tc={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg;function k1(){if(eg)return pe;eg=1;var s=Ph();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:g}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pe.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,g)},pe.flushSync=function(p){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=g,r.d.f()}},pe.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},pe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},pe.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):g==="script"&&r.d.X(p,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pe.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},pe.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pe.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},pe.requestFormReset=function(p){r.d.r(p)},pe.unstable_batchedUpdates=function(p,m){return p(m)},pe.useFormState=function(p,m,g){return c.H.useFormState(p,m,g)},pe.useFormStatus=function(){return c.H.useHostTransitionStatus()},pe.version="19.1.0",pe}var ng;function P1(){if(ng)return Tc.exports;ng=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Tc.exports=k1(),Tc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ig;function Y1(){if(ig)return Br;ig=1;var s=G1(),t=Ph(),i=P1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return f(h),e;if(d===o)return f(h),n;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=d;else{for(var y=!1,S=h.child;S;){if(S===a){y=!0,a=h,o=d;break}if(S===o){y=!0,o=h,a=d;break}S=S.sibling}if(!y){for(S=d.child;S;){if(S===a){y=!0,a=d,o=h;break}if(S===o){y=!0,o=d,a=h;break}S=S.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case A:return"Profiler";case O:return"StrictMode";case j:return"Suspense";case W:return"SuspenseList";case it:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case B:return(e.displayName||"Context")+".Provider";case z:return(e._context.displayName||"Context")+".Consumer";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z:return n=e.displayName||null,n!==null?n:Nt(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return Nt(e(n))}catch{}}return null}var kt=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},k=[],w=-1;function D(e){return{current:e}}function G(e){0>w||(e.current=k[w],k[w]=null,w--)}function X(e,n){w++,k[w]=e.current,e.current=n}var K=D(null),J=D(null),et=D(null),ht=D(null);function at(e,n){switch(X(et,n),X(J,e),X(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wm(n),e=Am(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}G(K),X(K,e)}function Et(){G(K),G(J),G(et)}function _t(e){e.memoizedState!==null&&X(ht,e);var n=K.current,a=Am(n,e.type);n!==a&&(X(J,e),X(K,a))}function ve(e){J.current===e&&(G(K),G(J)),ht.current===e&&(G(ht),Er._currentValue=R)}var le=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,be=s.unstable_cancelCallback,pt=s.unstable_shouldYield,St=s.unstable_requestPaint,Ee=s.unstable_now,lo=s.unstable_getCurrentPriorityLevel,oo=s.unstable_ImmediatePriority,sf=s.unstable_UserBlockingPriority,da=s.unstable_NormalPriority,pv=s.unstable_LowPriority,rf=s.unstable_IdlePriority,mv=s.log,gv=s.unstable_setDisableYieldValue,Gs=null,Re=null;function Ln(e){if(typeof mv=="function"&&gv(e),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Gs,e)}catch{}}var Oe=Math.clz32?Math.clz32:xv,yv=Math.log,vv=Math.LN2;function xv(e){return e>>>=0,e===0?32:31-(yv(e)/vv|0)|0}var pa=256,ma=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~d,o!==0?h=mi(o):(y&=S,y!==0?h=mi(y):a||(a=S&~e,a!==0&&(h=mi(a))))):(S=o&~d,S!==0?h=mi(S):y!==0?h=mi(y):a||(a=o&~e,a!==0&&(h=mi(a)))),h===0?0:n!==0&&n!==h&&(n&d)===0&&(d=h&-h,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:h}function Ns(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function bv(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function af(){var e=pa;return pa<<=1,(pa&4194048)===0&&(pa=256),e}function lf(){var e=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),e}function uo(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ks(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function _v(e,n,a,o,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,E=e.expirationTimes,P=e.hiddenUpdates;for(a=y&~a;0<a;){var V=31-Oe(a),Q=1<<V;S[V]=0,E[V]=-1;var Y=P[V];if(Y!==null)for(P[V]=null,V=0;V<Y.length;V++){var F=Y[V];F!==null&&(F.lane&=-536870913)}a&=~Q}o!==0&&of(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~n))}function of(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Oe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function uf(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Oe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function co(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ho(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cf(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:Fm(e.type))}function Sv(e,n){var a=T.p;try{return T.p=e,n()}finally{T.p=a}}var Xn=Math.random().toString(36).slice(2),fe="__reactFiber$"+Xn,_e="__reactProps$"+Xn,Xi="__reactContainer$"+Xn,fo="__reactEvents$"+Xn,wv="__reactListeners$"+Xn,Av="__reactHandles$"+Xn,hf="__reactResources$"+Xn,Ps="__reactMarker$"+Xn;function po(e){delete e[fe],delete e[_e],delete e[fo],delete e[wv],delete e[Av]}function Fi(e){var n=e[fe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Xi]||a[fe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Em(e);e!==null;){if(a=e[fe])return a;e=Em(e)}return n}e=a,a=e.parentNode}return null}function qi(e){if(e=e[fe]||e[Xi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ys(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ji(e){var n=e[hf];return n||(n=e[hf]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ne(e){e[Ps]=!0}var ff=new Set,df={};function gi(e,n){Vi(e,n),Vi(e+"Capture",n)}function Vi(e,n){for(df[e]=n,e=0;e<n.length;e++)ff.add(n[e])}var Cv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pf={},mf={};function Tv(e){return le.call(mf,e)?!0:le.call(pf,e)?!1:Cv.test(e)?mf[e]=!0:(pf[e]=!0,!1)}function ya(e,n,a){if(Tv(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function va(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function yn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var mo,gf;function Ii(e){if(mo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);mo=n&&n[1]||"",gf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+e+gf}var go=!1;function yo(e,n){if(!e||go)return"";go=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(F){var Y=F}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(F){Y=F}e.call(Q.prototype)}}else{try{throw Error()}catch(F){Y=F}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(F){if(F&&Y&&typeof F.stack=="string")return[F.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],S=d[1];if(y&&S){var E=y.split(`
`),P=S.split(`
`);for(h=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===E.length||h===P.length)for(o=E.length-1,h=P.length-1;1<=o&&0<=h&&E[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(E[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||E[o]!==P[h]){var V=`
`+E[o].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ii(a):""}function Mv(e){switch(e.tag){case 26:case 27:case 5:return Ii(e.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return yo(e.type,!1);case 11:return yo(e.type.render,!1);case 1:return yo(e.type,!0);case 31:return Ii("Activity");default:return""}}function yf(e){try{var n="";do n+=Mv(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ev(e){var n=vf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function xa(e){e._valueTracker||(e._valueTracker=Ev(e))}function xf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=vf(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rv=/[\n"\\]/g;function Xe(e){return e.replace(Rv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function vo(e,n,a,o,h,d,y,S){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?xo(e,y,Le(n)):a!=null?xo(e,y,Le(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Le(S):e.removeAttribute("name")}function bf(e,n,a,o,h,d,y,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Le(a):"",n=n!=null?""+Le(n):a,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function xo(e,n,a){n==="number"&&ba(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Wi(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Le(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function _f(e,n,a){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Le(a):""}function Sf(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(kt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Le(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Zi(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Ov=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wf(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Ov.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Af(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&wf(e,h,o)}else for(var d in n)n.hasOwnProperty(d)&&wf(e,d,n[d])}function bo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return Dv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var _o=null;function So(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,$i=null;function Cf(e){var n=qi(e);if(n&&(e=n.stateNode)){var a=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(vo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[_e]||null;if(!h)throw Error(r(90));vo(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&xf(o)}break t;case"textarea":_f(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Wi(e,!!a.multiple,n,!1)}}}var wo=!1;function Tf(e,n,a){if(wo)return e(n,a);wo=!0;try{var o=e(n);return o}finally{if(wo=!1,(Qi!==null||$i!==null)&&(al(),Qi&&(n=Qi,e=$i,$i=Qi=null,Cf(n),e)))for(n=0;n<e.length;n++)Cf(e[n])}}function Ls(e,n){var a=e.stateNode;if(a===null)return null;var o=a[_e]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ao=!1;if(vn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Ao=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Ao=!1}var Fn=null,Co=null,Sa=null;function Mf(){if(Sa)return Sa;var e,n=Co,a=n.length,o,h="value"in Fn?Fn.value:Fn.textContent,d=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[d-o];o++);return Sa=h.slice(e,1<o?1-o:void 0)}function wa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Aa(){return!0}function Ef(){return!1}function Se(e){function n(a,o,h,d,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Aa:Ef,this.isPropagationStopped=Ef,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),n}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Se(yi),Fs=g({},yi,{view:0,detail:0}),Uv=Se(Fs),To,Mo,qs,Ta=g({},Fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(To=e.screenX-qs.screenX,Mo=e.screenY-qs.screenY):Mo=To=0,qs=e),To)},movementY:function(e){return"movementY"in e?e.movementY:Mo}}),Rf=Se(Ta),Bv=g({},Ta,{dataTransfer:0}),Hv=Se(Bv),Gv=g({},Fs,{relatedTarget:0}),Eo=Se(Gv),Nv=g({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),kv=Se(Nv),Pv=g({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yv=Se(Pv),Lv=g({},yi,{data:0}),Of=Se(Lv),Xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jv(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=qv[e])?!!n[e]:!1}function Ro(){return jv}var Vv=g({},Fs,{key:function(e){if(e.key){var n=Xv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Fv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iv=Se(Vv),Wv=g({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zf=Se(Wv),Zv=g({},Fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro}),Qv=Se(Zv),$v=g({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kv=Se($v),Jv=g({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tx=Se(Jv),ex=g({},yi,{newState:0,oldState:0}),nx=Se(ex),ix=[9,13,27,32],Oo=vn&&"CompositionEvent"in window,js=null;vn&&"documentMode"in document&&(js=document.documentMode);var sx=vn&&"TextEvent"in window&&!js,Df=vn&&(!Oo||js&&8<js&&11>=js),Uf=" ",Bf=!1;function Hf(e,n){switch(e){case"keyup":return ix.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function rx(e,n){switch(e){case"compositionend":return Gf(n);case"keypress":return n.which!==32?null:(Bf=!0,Uf);case"textInput":return e=n.data,e===Uf&&Bf?null:e;default:return null}}function ax(e,n){if(Ki)return e==="compositionend"||!Oo&&Hf(e,n)?(e=Mf(),Sa=Co=Fn=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Df&&n.locale!=="ko"?null:n.data;default:return null}}var lx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!lx[e.type]:n==="textarea"}function kf(e,n,a,o){Qi?$i?$i.push(o):$i=[o]:Qi=o,n=fl(n,"onChange"),0<n.length&&(a=new Ca("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Vs=null,Is=null;function ox(e){vm(e,0)}function Ma(e){var n=Ys(e);if(xf(n))return e}function Pf(e,n){if(e==="change")return n}var Yf=!1;if(vn){var zo;if(vn){var Do="oninput"in document;if(!Do){var Lf=document.createElement("div");Lf.setAttribute("oninput","return;"),Do=typeof Lf.oninput=="function"}zo=Do}else zo=!1;Yf=zo&&(!document.documentMode||9<document.documentMode)}function Xf(){Vs&&(Vs.detachEvent("onpropertychange",Ff),Is=Vs=null)}function Ff(e){if(e.propertyName==="value"&&Ma(Is)){var n=[];kf(n,Is,e,So(e)),Tf(ox,n)}}function ux(e,n,a){e==="focusin"?(Xf(),Vs=n,Is=a,Vs.attachEvent("onpropertychange",Ff)):e==="focusout"&&Xf()}function cx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(Is)}function hx(e,n){if(e==="click")return Ma(n)}function fx(e,n){if(e==="input"||e==="change")return Ma(n)}function dx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ze=typeof Object.is=="function"?Object.is:dx;function Ws(e,n){if(ze(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!le.call(n,h)||!ze(e[h],n[h]))return!1}return!0}function qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jf(e,n){var a=qf(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qf(a)}}function Vf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function If(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ba(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ba(e.document)}return n}function Uo(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var px=vn&&"documentMode"in document&&11>=document.documentMode,Ji=null,Bo=null,Zs=null,Ho=!1;function Wf(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ho||Ji==null||Ji!==ba(o)||(o=Ji,"selectionStart"in o&&Uo(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zs&&Ws(Zs,o)||(Zs=o,o=fl(Bo,"onSelect"),0<o.length&&(n=new Ca("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=Ji)))}function vi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ts={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Go={},Zf={};vn&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete ts.animationend.animation,delete ts.animationiteration.animation,delete ts.animationstart.animation),"TransitionEvent"in window||delete ts.transitionend.transition);function xi(e){if(Go[e])return Go[e];if(!ts[e])return e;var n=ts[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Zf)return Go[e]=n[a];return e}var Qf=xi("animationend"),$f=xi("animationiteration"),Kf=xi("animationstart"),mx=xi("transitionrun"),gx=xi("transitionstart"),yx=xi("transitioncancel"),Jf=xi("transitionend"),td=new Map,No="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");No.push("scrollEnd");function Je(e,n){td.set(e,n),gi(n,[e])}var ed=new WeakMap;function Fe(e,n){if(typeof e=="object"&&e!==null){var a=ed.get(e);return a!==void 0?a:(n={value:e,source:n,stack:yf(n)},ed.set(e,n),n)}return{value:e,source:n,stack:yf(n)}}var qe=[],es=0,ko=0;function Ea(){for(var e=es,n=ko=es=0;n<e;){var a=qe[n];qe[n++]=null;var o=qe[n];qe[n++]=null;var h=qe[n];qe[n++]=null;var d=qe[n];if(qe[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}d!==0&&nd(a,h,d)}}function Ra(e,n,a,o){qe[es++]=e,qe[es++]=n,qe[es++]=a,qe[es++]=o,ko|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Po(e,n,a,o){return Ra(e,n,a,o),Oa(e)}function ns(e,n){return Ra(e,null,null,n),Oa(e)}function nd(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&n!==null&&(h=31-Oe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),d):null}function Oa(e){if(50<br)throw br=0,ju=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var is={};function vx(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(e,n,a,o){return new vx(e,n,a,o)}function Yo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,n){var a=e.alternate;return a===null?(a=De(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function id(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function za(e,n,a,o,h,d){var y=0;if(o=e,typeof e=="function")Yo(e)&&(y=1);else if(typeof e=="string")y=b1(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case it:return e=De(31,a,n,h),e.elementType=it,e.lanes=d,e;case C:return bi(a.children,h,d,n);case O:y=8,h|=24;break;case A:return e=De(12,a,n,h|2),e.elementType=A,e.lanes=d,e;case j:return e=De(13,a,n,h),e.elementType=j,e.lanes=d,e;case W:return e=De(19,a,n,h),e.elementType=W,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:case B:y=10;break t;case z:y=9;break t;case q:y=11;break t;case Z:y=14;break t;case rt:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=De(y,a,n,h),n.elementType=e,n.type=o,n.lanes=d,n}function bi(e,n,a,o){return e=De(7,e,o,n),e.lanes=a,e}function Lo(e,n,a){return e=De(6,e,null,n),e.lanes=a,e}function Xo(e,n,a){return n=De(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ss=[],rs=0,Da=null,Ua=0,je=[],Ve=0,_i=null,bn=1,_n="";function Si(e,n){ss[rs++]=Ua,ss[rs++]=Da,Da=e,Ua=n}function sd(e,n,a){je[Ve++]=bn,je[Ve++]=_n,je[Ve++]=_i,_i=e;var o=bn;e=_n;var h=32-Oe(o)-1;o&=~(1<<h),a+=1;var d=32-Oe(n)+h;if(30<d){var y=h-h%5;d=(o&(1<<y)-1).toString(32),o>>=y,h-=y,bn=1<<32-Oe(n)+h|a<<h|o,_n=d+e}else bn=1<<d|a<<h|o,_n=e}function Fo(e){e.return!==null&&(Si(e,1),sd(e,1,0))}function qo(e){for(;e===Da;)Da=ss[--rs],ss[rs]=null,Ua=ss[--rs],ss[rs]=null;for(;e===_i;)_i=je[--Ve],je[Ve]=null,_n=je[--Ve],je[Ve]=null,bn=je[--Ve],je[Ve]=null}var ge=null,qt=null,Mt=!1,wi=null,an=!1,jo=Error(r(519));function Ai(e){var n=Error(r(418,""));throw Ks(Fe(n,e)),jo}function rd(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[fe]=e,n[_e]=o,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Sr.length;a++)xt(Sr[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),bf(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),xa(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),Sf(n,o.value,o.defaultValue,o.children),xa(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Sm(n.textContent,a)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=dl),n=!0):n=!1,n||Ai(e)}function ad(e){for(ge=e.return;ge;)switch(ge.tag){case 5:case 13:an=!1;return;case 27:case 3:an=!0;return;default:ge=ge.return}}function Qs(e){if(e!==ge)return!1;if(!Mt)return ad(e),Mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||lc(e.type,e.memoizedProps)),a=!a),a&&qt&&Ai(e),ad(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){qt=en(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}qt=null}}else n===27?(n=qt,ri(e.type)?(e=hc,hc=null,qt=e):qt=n):qt=ge?en(e.stateNode.nextSibling):null;return!0}function $s(){qt=ge=null,Mt=!1}function ld(){var e=wi;return e!==null&&(Ce===null?Ce=e:Ce.push.apply(Ce,e),wi=null),e}function Ks(e){wi===null?wi=[e]:wi.push(e)}var Vo=D(null),Ci=null,Sn=null;function qn(e,n,a){X(Vo,n._currentValue),n._currentValue=a}function wn(e){e._currentValue=Vo.current,G(Vo)}function Io(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Wo(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=h;for(var E=0;E<n.length;E++)if(S.context===n[E]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Io(d.return,a,e),o||(y=null);break t}d=S.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Io(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Js(e,n,a,o){e=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var S=h.type;ze(h.pendingProps.value,y.value)||(e!==null?e.push(S):e=[S])}}else if(h===ht.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Er):e=[Er])}h=h.return}e!==null&&Wo(n,e,a,o),n.flags|=262144}function Ba(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ci=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function de(e){return od(Ci,e)}function Ha(e,n){return Ci===null&&Ti(e),od(e,n)}function od(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Sn===null){if(e===null)throw Error(r(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return a}var xx=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},bx=s.unstable_scheduleCallback,_x=s.unstable_NormalPriority,te={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zo(){return{controller:new xx,data:new Map,refCount:0}}function tr(e){e.refCount--,e.refCount===0&&bx(_x,function(){e.controller.abort()})}var er=null,Qo=0,as=0,ls=null;function Sx(e,n){if(er===null){var a=er=[];Qo=0,as=Ku(),ls={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Qo++,n.then(ud,ud),n}function ud(){if(--Qo===0&&er!==null){ls!==null&&(ls.status="fulfilled");var e=er;er=null,as=0,ls=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function wx(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var cd=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Sx(e,n),cd!==null&&cd(e,n)};var Mi=D(null);function $o(){var e=Mi.current;return e!==null?e:Pt.pooledCache}function Ga(e,n){n===null?X(Mi,Mi.current):X(Mi,n.pool)}function hd(){var e=$o();return e===null?null:{parent:te._currentValue,pool:e}}var nr=Error(r(460)),fd=Error(r(474)),Na=Error(r(542)),Ko={then:function(){}};function dd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ka(){}function pd(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(ka,ka),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gd(e),e;default:if(typeof n.status=="string")n.then(ka,ka);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,gd(e),e}throw ir=n,nr}}var ir=null;function md(){if(ir===null)throw Error(r(459));var e=ir;return ir=null,e}function gd(e){if(e===nr||e===Na)throw Error(r(483))}var jn=!1;function Jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Vn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Rt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Oa(e),nd(e,null,a),n}return Ra(e,o,n,a),Oa(e)}function sr(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,uf(e,a)}}function eu(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var nu=!1;function rr(){if(nu){var e=ls;if(e!==null)throw e}}function ar(e,n,a,o){nu=!1;var h=e.updateQueue;jn=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var E=S,P=E.next;E.next=null,y===null?d=P:y.next=P,y=E;var V=e.alternate;V!==null&&(V=V.updateQueue,S=V.lastBaseUpdate,S!==y&&(S===null?V.firstBaseUpdate=P:S.next=P,V.lastBaseUpdate=E))}if(d!==null){var Q=h.baseState;y=0,V=P=E=null,S=d;do{var Y=S.lane&-536870913,F=Y!==S.lane;if(F?(wt&Y)===Y:(o&Y)===Y){Y!==0&&Y===as&&(nu=!0),V!==null&&(V=V.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ct=e,ot=S;Y=n;var Bt=a;switch(ot.tag){case 1:if(ct=ot.payload,typeof ct=="function"){Q=ct.call(Bt,Q,Y);break t}Q=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=ot.payload,Y=typeof ct=="function"?ct.call(Bt,Q,Y):ct,Y==null)break t;Q=g({},Q,Y);break t;case 2:jn=!0}}Y=S.callback,Y!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[Y]:F.push(Y))}else F={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},V===null?(P=V=F,E=Q):V=V.next=F,y|=Y;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;F=S,S=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);V===null&&(E=Q),h.baseState=E,h.firstBaseUpdate=P,h.lastBaseUpdate=V,d===null&&(h.shared.lanes=0),ei|=y,e.lanes=y,e.memoizedState=Q}}function yd(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function vd(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)yd(a[e],n)}var os=D(null),Pa=D(0);function xd(e,n){e=On,X(Pa,e),X(os,n),On=e|n.baseLanes}function iu(){X(Pa,On),X(os,os.current)}function su(){On=Pa.current,G(os),G(Pa)}var Wn=0,gt=null,Dt=null,Qt=null,Ya=!1,us=!1,Ei=!1,La=0,lr=0,cs=null,Ax=0;function Wt(){throw Error(r(321))}function ru(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!ze(e[a],n[a]))return!1;return!0}function au(e,n,a,o,h,d){return Wn=d,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?np:ip,Ei=!1,d=a(o,h),Ei=!1,us&&(d=_d(n,a,o,h)),bd(e),d}function bd(e){b.H=Ia;var n=Dt!==null&&Dt.next!==null;if(Wn=0,Qt=Dt=gt=null,Ya=!1,lr=0,cs=null,n)throw Error(r(300));e===null||ie||(e=e.dependencies,e!==null&&Ba(e)&&(ie=!0))}function _d(e,n,a,o){gt=e;var h=0;do{if(us&&(cs=null),lr=0,us=!1,25<=h)throw Error(r(301));if(h+=1,Qt=Dt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=zx,d=n(a,o)}while(us);return d}function Cx(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?or(n):n,e=e.useState()[0],(Dt!==null?Dt.memoizedState:null)!==e&&(gt.flags|=1024),n}function lu(){var e=La!==0;return La=0,e}function ou(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function uu(e){if(Ya){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ya=!1}Wn=0,Qt=Dt=gt=null,us=!1,lr=La=0,cs=null}function we(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?gt.memoizedState=Qt=e:Qt=Qt.next=e,Qt}function $t(){if(Dt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var n=Qt===null?gt.memoizedState:Qt.next;if(n!==null)Qt=n,Dt=e;else{if(e===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},Qt===null?gt.memoizedState=Qt=e:Qt=Qt.next=e}return Qt}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function or(e){var n=lr;return lr+=1,cs===null&&(cs=[]),e=pd(cs,e,n),n=gt,(Qt===null?n.memoizedState:Qt.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?np:ip),e}function Xa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return or(e);if(e.$$typeof===B)return de(e)}throw Error(r(438,String(e)))}function hu(e){var n=null,a=gt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=cu(),gt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=tt;return n.index++,a}function An(e,n){return typeof n=="function"?n(e):n}function Fa(e){var n=$t();return fu(n,Dt,e)}function fu(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}n.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{n=h.next;var S=y=null,E=null,P=n,V=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(wt&Q)===Q:(Wn&Q)===Q){var Y=P.revertLane;if(Y===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===as&&(V=!0);else if((Wn&Y)===Y){P=P.next,Y===as&&(V=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},E===null?(S=E=Q,y=d):E=E.next=Q,gt.lanes|=Y,ei|=Y;Q=P.action,Ei&&a(d,Q),d=P.hasEagerState?P.eagerState:a(d,Q)}else Y={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},E===null?(S=E=Y,y=d):E=E.next=Y,gt.lanes|=Q,ei|=Q;P=P.next}while(P!==null&&P!==n);if(E===null?y=d:E.next=S,!ze(d,e.memoizedState)&&(ie=!0,V&&(a=ls,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=E,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function du(e){var n=$t(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);ze(d,n.memoizedState)||(ie=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function Sd(e,n,a){var o=gt,h=$t(),d=Mt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!ze((Dt||h).memoizedState,a);y&&(h.memoizedState=a,ie=!0),h=h.queue;var S=Cd.bind(null,o,h,e);if(ur(2048,8,S,[e]),h.getSnapshot!==n||y||Qt!==null&&Qt.memoizedState.tag&1){if(o.flags|=2048,hs(9,qa(),Ad.bind(null,o,h,a,n),null),Pt===null)throw Error(r(349));d||(Wn&124)!==0||wd(o,n,a)}return a}function wd(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=gt.updateQueue,n===null?(n=cu(),gt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Ad(e,n,a,o){n.value=a,n.getSnapshot=o,Td(n)&&Md(e)}function Cd(e,n,a){return a(function(){Td(n)&&Md(e)})}function Td(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!ze(e,a)}catch{return!0}}function Md(e){var n=ns(e,2);n!==null&&Ne(n,e,2)}function pu(e){var n=we();if(typeof e=="function"){var a=e;if(e=a(),Ei){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},n}function Ed(e,n,a,o){return e.baseState=a,fu(e,Dt,typeof o=="function"?o:An)}function Tx(e,n,a,o,h){if(Va(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};b.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Rd(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Rd(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var d=b.T,y={};b.T=y;try{var S=a(h,o),E=b.S;E!==null&&E(y,S),Od(e,n,S)}catch(P){mu(e,n,P)}finally{b.T=d}}else try{d=a(h,o),Od(e,n,d)}catch(P){mu(e,n,P)}}function Od(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){zd(e,n,o)},function(o){return mu(e,n,o)}):zd(e,n,a)}function zd(e,n,a){n.status="fulfilled",n.value=a,Dd(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Rd(e,a)))}function mu(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Dd(n),n=n.next;while(n!==o)}e.action=null}function Dd(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Ud(e,n){return n}function Bd(e,n){if(Mt){var a=Pt.formState;if(a!==null){t:{var o=gt;if(Mt){if(qt){e:{for(var h=qt,d=an;h.nodeType!==8;){if(!d){h=null;break e}if(h=en(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){qt=en(h.nextSibling),o=h.data==="F!";break t}}Ai(o)}o=!1}o&&(n=a[0])}}return a=we(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:n},a.queue=o,a=Jd.bind(null,gt,o),o.dispatch=a,o=pu(!1),d=bu.bind(null,gt,!1,o.queue),o=we(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=Tx.bind(null,gt,h,d,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Hd(e){var n=$t();return Gd(n,Dt,e)}function Gd(e,n,a){if(n=fu(e,n,Ud)[0],e=Fa(An)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=or(n)}catch(y){throw y===nr?Na:y}else o=n;n=$t();var h=n.queue,d=h.dispatch;return a!==n.memoizedState&&(gt.flags|=2048,hs(9,qa(),Mx.bind(null,h,a),null)),[o,d,e]}function Mx(e,n){e.action=n}function Nd(e){var n=$t(),a=Dt;if(a!==null)return Gd(n,a,e);$t(),n=n.memoizedState,a=$t();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function hs(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=gt.updateQueue,n===null&&(n=cu(),gt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function qa(){return{destroy:void 0,resource:void 0}}function kd(){return $t().memoizedState}function ja(e,n,a,o){var h=we();o=o===void 0?null:o,gt.flags|=e,h.memoizedState=hs(1|n,qa(),a,o)}function ur(e,n,a,o){var h=$t();o=o===void 0?null:o;var d=h.memoizedState.inst;Dt!==null&&o!==null&&ru(o,Dt.memoizedState.deps)?h.memoizedState=hs(n,d,a,o):(gt.flags|=e,h.memoizedState=hs(1|n,d,a,o))}function Pd(e,n){ja(8390656,8,e,n)}function Yd(e,n){ur(2048,8,e,n)}function Ld(e,n){return ur(4,2,e,n)}function Xd(e,n){return ur(4,4,e,n)}function Fd(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qd(e,n,a){a=a!=null?a.concat([e]):null,ur(4,4,Fd.bind(null,n,e),a)}function gu(){}function jd(e,n){var a=$t();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&ru(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Vd(e,n){var a=$t();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&ru(n,o[1]))return o[0];if(o=e(),Ei){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o}function yu(e,n,a){return a===void 0||(Wn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=Zp(),gt.lanes|=e,ei|=e,a)}function Id(e,n,a,o){return ze(a,n)?a:os.current!==null?(e=yu(e,a,o),ze(e,n)||(ie=!0),e):(Wn&42)===0?(ie=!0,e.memoizedState=a):(e=Zp(),gt.lanes|=e,ei|=e,n)}function Wd(e,n,a,o,h){var d=T.p;T.p=d!==0&&8>d?d:8;var y=b.T,S={};b.T=S,bu(e,!1,n,a);try{var E=h(),P=b.S;if(P!==null&&P(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var V=wx(E,o);cr(e,n,V,Ge(e))}else cr(e,n,o,Ge(e))}catch(Q){cr(e,n,{then:function(){},status:"rejected",reason:Q},Ge())}finally{T.p=d,b.T=y}}function Ex(){}function vu(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Zd(e).queue;Wd(e,h,n,R,a===null?Ex:function(){return Qd(e),a(o)})}function Zd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:R},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qd(e){var n=Zd(e).next.queue;cr(e,n,{},Ge())}function xu(){return de(Er)}function $d(){return $t().memoizedState}function Kd(){return $t().memoizedState}function Rx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ge();e=Vn(a);var o=In(n,e,a);o!==null&&(Ne(o,n,a),sr(o,n,a)),n={cache:Zo()},e.payload=n;return}n=n.return}}function Ox(e,n,a){var o=Ge();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Va(e)?tp(n,a):(a=Po(e,n,a,o),a!==null&&(Ne(a,e,o),ep(a,n,o)))}function Jd(e,n,a){var o=Ge();cr(e,n,a,o)}function cr(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Va(e))tp(n,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,S=d(y,a);if(h.hasEagerState=!0,h.eagerState=S,ze(S,y))return Ra(e,n,h,0),Pt===null&&Ea(),!1}catch{}finally{}if(a=Po(e,n,h,o),a!==null)return Ne(a,e,o),ep(a,n,o),!0}return!1}function bu(e,n,a,o){if(o={lane:2,revertLane:Ku(),action:o,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(n)throw Error(r(479))}else n=Po(e,a,o,2),n!==null&&Ne(n,e,2)}function Va(e){var n=e.alternate;return e===gt||n!==null&&n===gt}function tp(e,n){us=Ya=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function ep(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,uf(e,a)}}var Ia={readContext:de,use:Xa,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},np={readContext:de,use:Xa,useCallback:function(e,n){return we().memoizedState=[e,n===void 0?null:n],e},useContext:de,useEffect:Pd,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,ja(4194308,4,Fd.bind(null,n,e),a)},useLayoutEffect:function(e,n){return ja(4194308,4,e,n)},useInsertionEffect:function(e,n){ja(4,2,e,n)},useMemo:function(e,n){var a=we();n=n===void 0?null:n;var o=e();if(Ei){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=we();if(a!==void 0){var h=a(n);if(Ei){Ln(!0);try{a(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Ox.bind(null,gt,e),[o.memoizedState,e]},useRef:function(e){var n=we();return e={current:e},n.memoizedState=e},useState:function(e){e=pu(e);var n=e.queue,a=Jd.bind(null,gt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:gu,useDeferredValue:function(e,n){var a=we();return yu(a,e,n)},useTransition:function(){var e=pu(!1);return e=Wd.bind(null,gt,e.queue,!0,!1),we().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=gt,h=we();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Pt===null)throw Error(r(349));(wt&124)!==0||wd(o,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Pd(Cd.bind(null,o,d,e),[e]),o.flags|=2048,hs(9,qa(),Ad.bind(null,o,d,a,n),null),a},useId:function(){var e=we(),n=Pt.identifierPrefix;if(Mt){var a=_n,o=bn;a=(o&~(1<<32-Oe(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=La++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=Ax++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:xu,useFormState:Bd,useActionState:Bd,useOptimistic:function(e){var n=we();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=bu.bind(null,gt,!0,a),a.dispatch=n,[e,n]},useMemoCache:hu,useCacheRefresh:function(){return we().memoizedState=Rx.bind(null,gt)}},ip={readContext:de,use:Xa,useCallback:jd,useContext:de,useEffect:Yd,useImperativeHandle:qd,useInsertionEffect:Ld,useLayoutEffect:Xd,useMemo:Vd,useReducer:Fa,useRef:kd,useState:function(){return Fa(An)},useDebugValue:gu,useDeferredValue:function(e,n){var a=$t();return Id(a,Dt.memoizedState,e,n)},useTransition:function(){var e=Fa(An)[0],n=$t().memoizedState;return[typeof e=="boolean"?e:or(e),n]},useSyncExternalStore:Sd,useId:$d,useHostTransitionStatus:xu,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,n){var a=$t();return Ed(a,Dt,e,n)},useMemoCache:hu,useCacheRefresh:Kd},zx={readContext:de,use:Xa,useCallback:jd,useContext:de,useEffect:Yd,useImperativeHandle:qd,useInsertionEffect:Ld,useLayoutEffect:Xd,useMemo:Vd,useReducer:du,useRef:kd,useState:function(){return du(An)},useDebugValue:gu,useDeferredValue:function(e,n){var a=$t();return Dt===null?yu(a,e,n):Id(a,Dt.memoizedState,e,n)},useTransition:function(){var e=du(An)[0],n=$t().memoizedState;return[typeof e=="boolean"?e:or(e),n]},useSyncExternalStore:Sd,useId:$d,useHostTransitionStatus:xu,useFormState:Nd,useActionState:Nd,useOptimistic:function(e,n){var a=$t();return Dt!==null?Ed(a,Dt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:hu,useCacheRefresh:Kd},fs=null,hr=0;function Wa(e){var n=hr;return hr+=1,fs===null&&(fs=[]),pd(fs,e,n)}function fr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Za(e,n){throw n.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sp(e){var n=e._init;return n(e._payload)}function rp(e){function n(H,U){if(e){var N=H.deletions;N===null?(H.deletions=[U],H.flags|=16):N.push(U)}}function a(H,U){if(!e)return null;for(;U!==null;)n(H,U),U=U.sibling;return null}function o(H){for(var U=new Map;H!==null;)H.key!==null?U.set(H.key,H):U.set(H.index,H),H=H.sibling;return U}function h(H,U){return H=xn(H,U),H.index=0,H.sibling=null,H}function d(H,U,N){return H.index=N,e?(N=H.alternate,N!==null?(N=N.index,N<U?(H.flags|=67108866,U):N):(H.flags|=67108866,U)):(H.flags|=1048576,U)}function y(H){return e&&H.alternate===null&&(H.flags|=67108866),H}function S(H,U,N,I){return U===null||U.tag!==6?(U=Lo(N,H.mode,I),U.return=H,U):(U=h(U,N),U.return=H,U)}function E(H,U,N,I){var st=N.type;return st===C?V(H,U,N.props.children,I,N.key):U!==null&&(U.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&sp(st)===U.type)?(U=h(U,N.props),fr(U,N),U.return=H,U):(U=za(N.type,N.key,N.props,null,H.mode,I),fr(U,N),U.return=H,U)}function P(H,U,N,I){return U===null||U.tag!==4||U.stateNode.containerInfo!==N.containerInfo||U.stateNode.implementation!==N.implementation?(U=Xo(N,H.mode,I),U.return=H,U):(U=h(U,N.children||[]),U.return=H,U)}function V(H,U,N,I,st){return U===null||U.tag!==7?(U=bi(N,H.mode,I,st),U.return=H,U):(U=h(U,N),U.return=H,U)}function Q(H,U,N){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Lo(""+U,H.mode,N),U.return=H,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return N=za(U.type,U.key,U.props,null,H.mode,N),fr(N,U),N.return=H,N;case x:return U=Xo(U,H.mode,N),U.return=H,U;case rt:var I=U._init;return U=I(U._payload),Q(H,U,N)}if(kt(U)||ft(U))return U=bi(U,H.mode,N,null),U.return=H,U;if(typeof U.then=="function")return Q(H,Wa(U),N);if(U.$$typeof===B)return Q(H,Ha(H,U),N);Za(H,U)}return null}function Y(H,U,N,I){var st=U!==null?U.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return st!==null?null:S(H,U,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return N.key===st?E(H,U,N,I):null;case x:return N.key===st?P(H,U,N,I):null;case rt:return st=N._init,N=st(N._payload),Y(H,U,N,I)}if(kt(N)||ft(N))return st!==null?null:V(H,U,N,I,null);if(typeof N.then=="function")return Y(H,U,Wa(N),I);if(N.$$typeof===B)return Y(H,U,Ha(H,N),I);Za(H,N)}return null}function F(H,U,N,I,st){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return H=H.get(N)||null,S(U,H,""+I,st);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _:return H=H.get(I.key===null?N:I.key)||null,E(U,H,I,st);case x:return H=H.get(I.key===null?N:I.key)||null,P(U,H,I,st);case rt:var yt=I._init;return I=yt(I._payload),F(H,U,N,I,st)}if(kt(I)||ft(I))return H=H.get(N)||null,V(U,H,I,st,null);if(typeof I.then=="function")return F(H,U,N,Wa(I),st);if(I.$$typeof===B)return F(H,U,N,Ha(U,I),st);Za(U,I)}return null}function ct(H,U,N,I){for(var st=null,yt=null,lt=U,ut=U=0,re=null;lt!==null&&ut<N.length;ut++){lt.index>ut?(re=lt,lt=null):re=lt.sibling;var Tt=Y(H,lt,N[ut],I);if(Tt===null){lt===null&&(lt=re);break}e&&lt&&Tt.alternate===null&&n(H,lt),U=d(Tt,U,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt,lt=re}if(ut===N.length)return a(H,lt),Mt&&Si(H,ut),st;if(lt===null){for(;ut<N.length;ut++)lt=Q(H,N[ut],I),lt!==null&&(U=d(lt,U,ut),yt===null?st=lt:yt.sibling=lt,yt=lt);return Mt&&Si(H,ut),st}for(lt=o(lt);ut<N.length;ut++)re=F(lt,H,ut,N[ut],I),re!==null&&(e&&re.alternate!==null&&lt.delete(re.key===null?ut:re.key),U=d(re,U,ut),yt===null?st=re:yt.sibling=re,yt=re);return e&&lt.forEach(function(ci){return n(H,ci)}),Mt&&Si(H,ut),st}function ot(H,U,N,I){if(N==null)throw Error(r(151));for(var st=null,yt=null,lt=U,ut=U=0,re=null,Tt=N.next();lt!==null&&!Tt.done;ut++,Tt=N.next()){lt.index>ut?(re=lt,lt=null):re=lt.sibling;var ci=Y(H,lt,Tt.value,I);if(ci===null){lt===null&&(lt=re);break}e&&lt&&ci.alternate===null&&n(H,lt),U=d(ci,U,ut),yt===null?st=ci:yt.sibling=ci,yt=ci,lt=re}if(Tt.done)return a(H,lt),Mt&&Si(H,ut),st;if(lt===null){for(;!Tt.done;ut++,Tt=N.next())Tt=Q(H,Tt.value,I),Tt!==null&&(U=d(Tt,U,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt);return Mt&&Si(H,ut),st}for(lt=o(lt);!Tt.done;ut++,Tt=N.next())Tt=F(lt,H,ut,Tt.value,I),Tt!==null&&(e&&Tt.alternate!==null&&lt.delete(Tt.key===null?ut:Tt.key),U=d(Tt,U,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt);return e&&lt.forEach(function(D1){return n(H,D1)}),Mt&&Si(H,ut),st}function Bt(H,U,N,I){if(typeof N=="object"&&N!==null&&N.type===C&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _:t:{for(var st=N.key;U!==null;){if(U.key===st){if(st=N.type,st===C){if(U.tag===7){a(H,U.sibling),I=h(U,N.props.children),I.return=H,H=I;break t}}else if(U.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&sp(st)===U.type){a(H,U.sibling),I=h(U,N.props),fr(I,N),I.return=H,H=I;break t}a(H,U);break}else n(H,U);U=U.sibling}N.type===C?(I=bi(N.props.children,H.mode,I,N.key),I.return=H,H=I):(I=za(N.type,N.key,N.props,null,H.mode,I),fr(I,N),I.return=H,H=I)}return y(H);case x:t:{for(st=N.key;U!==null;){if(U.key===st)if(U.tag===4&&U.stateNode.containerInfo===N.containerInfo&&U.stateNode.implementation===N.implementation){a(H,U.sibling),I=h(U,N.children||[]),I.return=H,H=I;break t}else{a(H,U);break}else n(H,U);U=U.sibling}I=Xo(N,H.mode,I),I.return=H,H=I}return y(H);case rt:return st=N._init,N=st(N._payload),Bt(H,U,N,I)}if(kt(N))return ct(H,U,N,I);if(ft(N)){if(st=ft(N),typeof st!="function")throw Error(r(150));return N=st.call(N),ot(H,U,N,I)}if(typeof N.then=="function")return Bt(H,U,Wa(N),I);if(N.$$typeof===B)return Bt(H,U,Ha(H,N),I);Za(H,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,U!==null&&U.tag===6?(a(H,U.sibling),I=h(U,N),I.return=H,H=I):(a(H,U),I=Lo(N,H.mode,I),I.return=H,H=I),y(H)):a(H,U)}return function(H,U,N,I){try{hr=0;var st=Bt(H,U,N,I);return fs=null,st}catch(lt){if(lt===nr||lt===Na)throw lt;var yt=De(29,lt,null,H.mode);return yt.lanes=I,yt.return=H,yt}finally{}}}var ds=rp(!0),ap=rp(!1),Ie=D(null),ln=null;function Zn(e){var n=e.alternate;X(ee,ee.current&1),X(Ie,e),ln===null&&(n===null||os.current!==null||n.memoizedState!==null)&&(ln=e)}function lp(e){if(e.tag===22){if(X(ee,ee.current),X(Ie,e),ln===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ln=e)}}else Qn()}function Qn(){X(ee,ee.current),X(Ie,Ie.current)}function Cn(e){G(Ie),ln===e&&(ln=null),G(ee)}var ee=D(0);function Qa(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cc(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _u(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:g({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Su={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Ge(),h=Vn(o);h.payload=n,a!=null&&(h.callback=a),n=In(e,h,o),n!==null&&(Ne(n,e,o),sr(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Ge(),h=Vn(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=In(e,h,o),n!==null&&(Ne(n,e,o),sr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ge(),o=Vn(a);o.tag=2,n!=null&&(o.callback=n),n=In(e,o,a),n!==null&&(Ne(n,e,a),sr(n,e,a))}};function op(e,n,a,o,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(a,o)||!Ws(h,d):!0}function up(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Su.enqueueReplaceState(n,n.state,null)}function Ri(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=g({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var $a=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cp(e){$a(e)}function hp(e){console.error(e)}function fp(e){$a(e)}function Ka(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function dp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function wu(e,n,a){return a=Vn(a),a.tag=3,a.payload={element:null},a.callback=function(){Ka(e,n)},a}function pp(e){return e=Vn(e),e.tag=3,e}function mp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){dp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){dp(n,a,o),typeof h!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Dx(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Js(n,a,h,!0),a=Ie.current,a!==null){switch(a.tag){case 13:return ln===null?Iu():a.alternate===null&&jt===0&&(jt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Ko?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Zu(e,o,h)),!1;case 22:return a.flags|=65536,o===Ko?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Zu(e,o,h)),!1}throw Error(r(435,a.tag))}return Zu(e,o,h),Iu(),!1}if(Mt)return n=Ie.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==jo&&(e=Error(r(422),{cause:o}),Ks(Fe(e,a)))):(o!==jo&&(n=Error(r(423),{cause:o}),Ks(Fe(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Fe(o,a),h=wu(e.stateNode,o,h),eu(e,h),jt!==4&&(jt=2)),!1;var d=Error(r(520),{cause:o});if(d=Fe(d,a),xr===null?xr=[d]:xr.push(d),jt!==4&&(jt=2),n===null)return!0;o=Fe(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=wu(a.stateNode,o,e),eu(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ni===null||!ni.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=pp(h),mp(h,e,a,o),eu(a,h),!1}a=a.return}while(a!==null);return!1}var gp=Error(r(461)),ie=!1;function oe(e,n,a,o){n.child=e===null?ap(n,null,a,o):ds(n,e.child,a,o)}function yp(e,n,a,o,h){a=a.render;var d=n.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return Ti(n),o=au(e,n,a,y,d,h),S=lu(),e!==null&&!ie?(ou(e,n,h),Tn(e,n,h)):(Mt&&S&&Fo(n),n.flags|=1,oe(e,n,o,h),n.child)}function vp(e,n,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Yo(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,xp(e,n,d,o,h)):(e=za(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!zu(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ws,a(y,o)&&e.ref===n.ref)return Tn(e,n,h)}return n.flags|=1,e=xn(d,o),e.ref=n.ref,e.return=n,n.child=e}function xp(e,n,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ws(d,o)&&e.ref===n.ref)if(ie=!1,n.pendingProps=o=d,zu(e,h))(e.flags&131072)!==0&&(ie=!0);else return n.lanes=e.lanes,Tn(e,n,h)}return Au(e,n,a,o,h)}function bp(e,n,a){var o=n.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=n.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return _p(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ga(n,d!==null?d.cachePool:null),d!==null?xd(n,d):iu(),lp(n);else return n.lanes=n.childLanes=536870912,_p(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(Ga(n,d.cachePool),xd(n,d),Qn(),n.memoizedState=null):(e!==null&&Ga(n,null),iu(),Qn());return oe(e,n,h,a),n.child}function _p(e,n,a,o){var h=$o();return h=h===null?null:{parent:te._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ga(n,null),iu(),lp(n),e!==null&&Js(e,n,o,!0),null}function Ja(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Au(e,n,a,o,h){return Ti(n),a=au(e,n,a,o,void 0,h),o=lu(),e!==null&&!ie?(ou(e,n,h),Tn(e,n,h)):(Mt&&o&&Fo(n),n.flags|=1,oe(e,n,a,h),n.child)}function Sp(e,n,a,o,h,d){return Ti(n),n.updateQueue=null,a=_d(n,o,a,h),bd(e),o=lu(),e!==null&&!ie?(ou(e,n,d),Tn(e,n,d)):(Mt&&o&&Fo(n),n.flags|=1,oe(e,n,a,d),n.child)}function wp(e,n,a,o,h){if(Ti(n),n.stateNode===null){var d=is,y=a.contextType;typeof y=="object"&&y!==null&&(d=de(y)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Su,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Jo(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?de(y):is,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(_u(n,a,y,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Su.enqueueReplaceState(d,d.state,null),ar(n,o,d,h),rr(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var S=n.memoizedProps,E=Ri(a,S);d.props=E;var P=d.context,V=a.contextType;y=is,typeof V=="object"&&V!==null&&(y=de(V));var Q=a.getDerivedStateFromProps;V=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||P!==y)&&up(n,d,o,y),jn=!1;var Y=n.memoizedState;d.state=Y,ar(n,o,d,h),rr(),P=n.memoizedState,S||Y!==P||jn?(typeof Q=="function"&&(_u(n,a,Q,o),P=n.memoizedState),(E=jn||op(n,a,E,o,Y,P,y))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),d.props=o,d.state=P,d.context=y,o=E):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,tu(e,n),y=n.memoizedProps,V=Ri(a,y),d.props=V,Q=n.pendingProps,Y=d.context,P=a.contextType,E=is,typeof P=="object"&&P!==null&&(E=de(P)),S=a.getDerivedStateFromProps,(P=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Q||Y!==E)&&up(n,d,o,E),jn=!1,Y=n.memoizedState,d.state=Y,ar(n,o,d,h),rr();var F=n.memoizedState;y!==Q||Y!==F||jn||e!==null&&e.dependencies!==null&&Ba(e.dependencies)?(typeof S=="function"&&(_u(n,a,S,o),F=n.memoizedState),(V=jn||op(n,a,V,o,Y,F,E)||e!==null&&e.dependencies!==null&&Ba(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,F,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,F,E)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),d.props=o,d.state=F,d.context=E,o=V):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,Ja(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=ds(n,e.child,null,h),n.child=ds(n,null,a,h)):oe(e,n,a,h),n.memoizedState=d.state,e=n.child):e=Tn(e,n,h),e}function Ap(e,n,a,o){return $s(),n.flags|=256,oe(e,n,a,o),n.child}var Cu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tu(e){return{baseLanes:e,cachePool:hd()}}function Mu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=We),e}function Cp(e,n,a){var o=n.pendingProps,h=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(ee.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Zn(n):Qn(),Mt){var S=qt,E;if(E=S){t:{for(E=S,S=an;E.nodeType!==8;){if(!S){S=null;break t}if(E=en(E.nextSibling),E===null){S=null;break t}}S=E}S!==null?(n.memoizedState={dehydrated:S,treeContext:_i!==null?{id:bn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},E=De(18,null,null,0),E.stateNode=S,E.return=n,n.child=E,ge=n,qt=null,E=!0):E=!1}E||Ai(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return cc(S)?n.lanes=32:n.lanes=536870912,null;Cn(n)}return S=o.children,o=o.fallback,h?(Qn(),h=n.mode,S=tl({mode:"hidden",children:S},h),o=bi(o,h,a,null),S.return=n,o.return=n,S.sibling=o,n.child=S,h=n.child,h.memoizedState=Tu(a),h.childLanes=Mu(e,y,a),n.memoizedState=Cu,o):(Zn(n),Eu(n,S))}if(E=e.memoizedState,E!==null&&(S=E.dehydrated,S!==null)){if(d)n.flags&256?(Zn(n),n.flags&=-257,n=Ru(e,n,a)):n.memoizedState!==null?(Qn(),n.child=e.child,n.flags|=128,n=null):(Qn(),h=o.fallback,S=n.mode,o=tl({mode:"visible",children:o.children},S),h=bi(h,S,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ds(n,e.child,null,a),o=n.child,o.memoizedState=Tu(a),o.childLanes=Mu(e,y,a),n.memoizedState=Cu,n=h);else if(Zn(n),cc(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var P=y.dgst;y=P,o=Error(r(419)),o.stack="",o.digest=y,Ks({value:o,source:null,stack:null}),n=Ru(e,n,a)}else if(ie||Js(e,n,a,!1),y=(a&e.childLanes)!==0,ie||y){if(y=Pt,y!==null&&(o=a&-a,o=(o&42)!==0?1:co(o),o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,ns(e,o),Ne(y,e,o),gp;S.data==="$?"||Iu(),n=Ru(e,n,a)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,qt=en(S.nextSibling),ge=n,Mt=!0,wi=null,an=!1,e!==null&&(je[Ve++]=bn,je[Ve++]=_n,je[Ve++]=_i,bn=e.id,_n=e.overflow,_i=n),n=Eu(n,o.children),n.flags|=4096);return n}return h?(Qn(),h=o.fallback,S=n.mode,E=e.child,P=E.sibling,o=xn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,P!==null?h=xn(P,h):(h=bi(h,S,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,S=e.child.memoizedState,S===null?S=Tu(a):(E=S.cachePool,E!==null?(P=te._currentValue,E=E.parent!==P?{parent:P,pool:P}:E):E=hd(),S={baseLanes:S.baseLanes|a,cachePool:E}),h.memoizedState=S,h.childLanes=Mu(e,y,a),n.memoizedState=Cu,o):(Zn(n),a=e.child,e=a.sibling,a=xn(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Eu(e,n){return n=tl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tl(e,n){return e=De(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ru(e,n,a){return ds(n,e.child,null,a),e=Eu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Tp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Io(e.return,n,a)}function Ou(e,n,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Mp(e,n,a){var o=n.pendingProps,h=o.revealOrder,d=o.tail;if(oe(e,n,o.children,a),o=ee.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tp(e,a,n);else if(e.tag===19)Tp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(X(ee,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Qa(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Ou(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Qa(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Ou(n,!0,a,null,d);break;case"together":Ou(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Tn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ei|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Js(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=xn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function zu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ba(e)))}function Ux(e,n,a){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),qn(n,te,e.memoizedState.cache),$s();break;case 27:case 5:_t(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:qn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Zn(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Cp(e,n,a):(Zn(n),e=Tn(e,n,a),e!==null?e.sibling:null);Zn(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Js(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Mp(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(ee,ee.current),o)break;return null;case 22:case 23:return n.lanes=0,bp(e,n,a);case 24:qn(n,te,e.memoizedState.cache)}return Tn(e,n,a)}function Ep(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ie=!0;else{if(!zu(e,a)&&(n.flags&128)===0)return ie=!1,Ux(e,n,a);ie=(e.flags&131072)!==0}else ie=!1,Mt&&(n.flags&1048576)!==0&&sd(n,Ua,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Yo(o)?(e=Ri(o,e),n.tag=1,n=wp(null,n,o,e,a)):(n.tag=0,n=Au(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===q){n.tag=11,n=yp(null,n,o,e,a);break t}else if(h===Z){n.tag=14,n=vp(null,n,o,e,a);break t}}throw n=Nt(o)||o,Error(r(306,n,""))}}return n;case 0:return Au(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ri(o,n.pendingProps),wp(e,n,o,h,a);case 3:t:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;h=d.element,tu(e,n),ar(n,o,null,a);var y=n.memoizedState;if(o=y.cache,qn(n,te,o),o!==d.cache&&Wo(n,[te],a,!0),rr(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Ap(e,n,o,a);break t}else if(o!==h){h=Fe(Error(r(424)),n),Ks(h),n=Ap(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(qt=en(e.firstChild),ge=n,Mt=!0,wi=null,an=!0,a=ap(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if($s(),o===h){n=Tn(e,n,a);break t}oe(e,n,o,a)}n=n.child}return n;case 26:return Ja(e,n),e===null?(a=Dm(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,e=n.pendingProps,o=pl(et.current).createElement(a),o[fe]=n,o[_e]=e,ce(o,a,e),ne(o),n.stateNode=o):n.memoizedState=Dm(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _t(n),e===null&&Mt&&(o=n.stateNode=Rm(n.type,n.pendingProps,et.current),ge=n,an=!0,h=qt,ri(n.type)?(hc=h,qt=en(o.firstChild)):qt=h),oe(e,n,n.pendingProps.children,a),Ja(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=qt)&&(o=l1(o,n.type,n.pendingProps,an),o!==null?(n.stateNode=o,ge=n,qt=en(o.firstChild),an=!1,h=!0):h=!1),h||Ai(n)),_t(n),h=n.type,d=n.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,lc(h,d)?o=null:y!==null&&lc(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=au(e,n,Cx,null,null,a),Er._currentValue=h),Ja(e,n),oe(e,n,o,a),n.child;case 6:return e===null&&Mt&&((e=a=qt)&&(a=o1(a,n.pendingProps,an),a!==null?(n.stateNode=a,ge=n,qt=null,e=!0):e=!1),e||Ai(n)),null;case 13:return Cp(e,n,a);case 4:return at(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ds(n,null,o,a):oe(e,n,o,a),n.child;case 11:return yp(e,n,n.type,n.pendingProps,a);case 7:return oe(e,n,n.pendingProps,a),n.child;case 8:return oe(e,n,n.pendingProps.children,a),n.child;case 12:return oe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,qn(n,n.type,o.value),oe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ti(n),h=de(h),o=o(h),n.flags|=1,oe(e,n,o,a),n.child;case 14:return vp(e,n,n.type,n.pendingProps,a);case 15:return xp(e,n,n.type,n.pendingProps,a);case 19:return Mp(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=tl(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xn(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return bp(e,n,a);case 24:return Ti(n),o=de(te),e===null?(h=$o(),h===null&&(h=Pt,d=Zo(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:o,cache:h},Jo(n),qn(n,te,h)):((e.lanes&a)!==0&&(tu(e,n),ar(n,null,null,a),rr()),h=e.memoizedState,d=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),qn(n,te,o)):(o=d.cache,qn(n,te,o),o!==h.cache&&Wo(n,[te],a,!0))),oe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mn(e){e.flags|=4}function Rp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Nm(n)){if(n=Ie.current,n!==null&&((wt&4194048)===wt?ln!==null:(wt&62914560)!==wt&&(wt&536870912)===0||n!==ln))throw ir=Ko,fd;e.flags|=8192}}function el(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lf():536870912,e.lanes|=n,ys|=n)}function dr(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function Bx(e,n,a){var o=n.pendingProps;switch(qo(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Lt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wn(te),Et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Qs(n)?Mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ld())),Lt(n),null;case 26:return a=n.memoizedState,e===null?(Mn(n),a!==null?(Lt(n),Rp(n,a)):(Lt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mn(n),Lt(n),Rp(n,a)):(Lt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Mn(n),Lt(n),n.flags&=-16777217),null;case 27:ve(n),a=et.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Lt(n),null}e=K.current,Qs(n)?rd(n):(e=Rm(h,o,a),n.stateNode=e,Mn(n))}return Lt(n),null;case 5:if(ve(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Lt(n),null}if(e=K.current,Qs(n))rd(n);else{switch(h=pl(et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[fe]=n,e[_e]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ce(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mn(n)}}return Lt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=et.current,Qs(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[fe]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Sm(e.nodeValue,a)),e||Ai(n)}else e=pl(e).createTextNode(o),e[fe]=n,n.stateNode=e}return Lt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Qs(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[fe]=n}else $s(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Lt(n),h=!1}else h=ld(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}if(Cn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),el(n,n.updateQueue),Lt(n),null;case 4:return Et(),e===null&&nc(n.stateNode.containerInfo),Lt(n),null;case 10:return wn(n.type),Lt(n),null;case 19:if(G(ee),h=n.memoizedState,h===null)return Lt(n),null;if(o=(n.flags&128)!==0,d=h.rendering,d===null)if(o)dr(h,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Qa(e),d!==null){for(n.flags|=128,dr(h,!1),e=d.updateQueue,n.updateQueue=e,el(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)id(a,e),a=a.sibling;return X(ee,ee.current&1|2),n.child}e=e.sibling}h.tail!==null&&Ee()>sl&&(n.flags|=128,o=!0,dr(h,!1),n.lanes=4194304)}else{if(!o)if(e=Qa(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,el(n,e),dr(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Mt)return Lt(n),null}else 2*Ee()-h.renderingStartTime>sl&&a!==536870912&&(n.flags|=128,o=!0,dr(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(e=h.last,e!==null?e.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Ee(),n.sibling=null,e=ee.current,X(ee,o?e&1|2:e&1),n):(Lt(n),null);case 22:case 23:return Cn(n),su(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Lt(n),n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),a=n.updateQueue,a!==null&&el(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&G(Mi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wn(te),Lt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Hx(e,n){switch(qo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wn(te),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ve(n),null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));$s()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return G(ee),null;case 4:return Et(),null;case 10:return wn(n.type),null;case 22:case 23:return Cn(n),su(),e!==null&&G(Mi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wn(te),null;case 25:return null;default:return null}}function Op(e,n){switch(qo(n),n.tag){case 3:wn(te),Et();break;case 26:case 27:case 5:ve(n);break;case 4:Et();break;case 13:Cn(n);break;case 19:G(ee);break;case 10:wn(n.type);break;case 22:case 23:Cn(n),su(),e!==null&&G(Mi);break;case 24:wn(te)}}function pr(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==h)}}catch(S){Ht(n,n.return,S)}}function $n(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,h=n;var E=a,P=S;try{P()}catch(V){Ht(h,E,V)}}}o=o.next}while(o!==d)}}catch(V){Ht(n,n.return,V)}}function zp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{vd(n,a)}catch(o){Ht(e,e.return,o)}}}function Dp(e,n,a){a.props=Ri(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Ht(e,n,o)}}function mr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Ht(e,n,h)}}function on(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ht(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ht(e,n,h)}else a.current=null}function Up(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ht(e,e.return,h)}}function Du(e,n,a){try{var o=e.stateNode;n1(o,e.type,a,n),o[_e]=n}catch(h){Ht(e,e.return,h)}}function Bp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ri(e.type)||e.tag===4}function Uu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Bp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ri(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=dl));else if(o!==4&&(o===27&&ri(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Bu(e,n,a),e=e.sibling;e!==null;)Bu(e,n,a),e=e.sibling}function nl(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&ri(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nl(e,n,a),e=e.sibling;e!==null;)nl(e,n,a),e=e.sibling}function Hp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ce(n,o,a),n[fe]=e,n[_e]=a}catch(d){Ht(e,e.return,d)}}var En=!1,Zt=!1,Hu=!1,Gp=typeof WeakSet=="function"?WeakSet:Set,se=null;function Gx(e,n){if(e=e.containerInfo,rc=bl,e=If(e),Uo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,S=-1,E=-1,P=0,V=0,Q=e,Y=null;e:for(;;){for(var F;Q!==a||h!==0&&Q.nodeType!==3||(S=y+h),Q!==d||o!==0&&Q.nodeType!==3||(E=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(F=Q.firstChild)!==null;)Y=Q,Q=F;for(;;){if(Q===e)break e;if(Y===a&&++P===h&&(S=y),Y===d&&++V===o&&(E=y),(F=Q.nextSibling)!==null)break;Q=Y,Y=Q.parentNode}Q=F}a=S===-1||E===-1?null:{start:S,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(ac={focusedElem:e,selectionRange:a},bl=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){switch(n=se,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ct=Ri(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(ct,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ot){Ht(a,a.return,ot)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)uc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}}function Np(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Kn(e,a),o&4&&pr(5,a);break;case 1:if(Kn(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Ht(a,a.return,y)}else{var h=Ri(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Ht(a,a.return,y)}}o&64&&zp(a),o&512&&mr(a,a.return);break;case 3:if(Kn(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{vd(e,n)}catch(y){Ht(a,a.return,y)}}break;case 27:n===null&&o&4&&Hp(a);case 26:case 5:Kn(e,a),n===null&&o&4&&Up(a),o&512&&mr(a,a.return);break;case 12:Kn(e,a);break;case 13:Kn(e,a),o&4&&Yp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=jx.bind(null,a),u1(e,a))));break;case 22:if(o=a.memoizedState!==null||En,!o){n=n!==null&&n.memoizedState!==null||Zt,h=En;var d=Zt;En=o,(Zt=n)&&!d?Jn(e,a,(a.subtreeFlags&8772)!==0):Kn(e,a),En=h,Zt=d}break;case 30:break;default:Kn(e,a)}}function kp(e){var n=e.alternate;n!==null&&(e.alternate=null,kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&po(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Yt=null,Ae=!1;function Rn(e,n,a){for(a=a.child;a!==null;)Pp(e,n,a),a=a.sibling}function Pp(e,n,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Gs,a)}catch{}switch(a.tag){case 26:Zt||on(a,n),Rn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||on(a,n);var o=Yt,h=Ae;ri(a.type)&&(Yt=a.stateNode,Ae=!1),Rn(e,n,a),Ar(a.stateNode),Yt=o,Ae=h;break;case 5:Zt||on(a,n);case 6:if(o=Yt,h=Ae,Yt=null,Rn(e,n,a),Yt=o,Ae=h,Yt!==null)if(Ae)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(a.stateNode)}catch(d){Ht(a,n,d)}else try{Yt.removeChild(a.stateNode)}catch(d){Ht(a,n,d)}break;case 18:Yt!==null&&(Ae?(e=Yt,Mm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dr(e)):Mm(Yt,a.stateNode));break;case 4:o=Yt,h=Ae,Yt=a.stateNode.containerInfo,Ae=!0,Rn(e,n,a),Yt=o,Ae=h;break;case 0:case 11:case 14:case 15:Zt||$n(2,a,n),Zt||$n(4,a,n),Rn(e,n,a);break;case 1:Zt||(on(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dp(a,n,o)),Rn(e,n,a);break;case 21:Rn(e,n,a);break;case 22:Zt=(o=Zt)||a.memoizedState!==null,Rn(e,n,a),Zt=o;break;default:Rn(e,n,a)}}function Yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dr(e)}catch(a){Ht(n,n.return,a)}}function Nx(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Gp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Gp),n;default:throw Error(r(435,e.tag))}}function Gu(e,n){var a=Nx(e);n.forEach(function(o){var h=Vx.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Ue(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,y=n,S=y;t:for(;S!==null;){switch(S.tag){case 27:if(ri(S.type)){Yt=S.stateNode,Ae=!1;break t}break;case 5:Yt=S.stateNode,Ae=!1;break t;case 3:case 4:Yt=S.stateNode.containerInfo,Ae=!0;break t}S=S.return}if(Yt===null)throw Error(r(160));Pp(d,y,h),Yt=null,Ae=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Lp(n,e),n=n.sibling}var tn=null;function Lp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ue(n,e),Be(e),o&4&&($n(3,e,e.return),pr(3,e),$n(5,e,e.return));break;case 1:Ue(n,e),Be(e),o&512&&(Zt||a===null||on(a,a.return)),o&64&&En&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=tn;if(Ue(n,e),Be(e),o&512&&(Zt||a===null||on(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ps]||d[fe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),ce(d,o,a),d[fe]=e,ne(d),o=d;break t;case"link":var y=Hm("link","href",h).get(o+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(d=y[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break e}}d=h.createElement(o),ce(d,o,a),h.head.appendChild(d);break;case"meta":if(y=Hm("meta","content",h).get(o+(a.content||""))){for(S=0;S<y.length;S++)if(d=y[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break e}}d=h.createElement(o),ce(d,o,a),h.head.appendChild(d);break;default:throw Error(r(468,o))}d[fe]=e,ne(d),o=d}e.stateNode=o}else Gm(h,e.type,e.stateNode);else e.stateNode=Bm(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?Gm(h,e.type,e.stateNode):Bm(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Du(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ue(n,e),Be(e),o&512&&(Zt||a===null||on(a,a.return)),a!==null&&o&4&&Du(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ue(n,e),Be(e),o&512&&(Zt||a===null||on(a,a.return)),e.flags&32){h=e.stateNode;try{Zi(h,"")}catch(F){Ht(e,e.return,F)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Du(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Hu=!0);break;case 6:if(Ue(n,e),Be(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(F){Ht(e,e.return,F)}}break;case 3:if(yl=null,h=tn,tn=ml(n.containerInfo),Ue(n,e),tn=h,Be(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Dr(n.containerInfo)}catch(F){Ht(e,e.return,F)}Hu&&(Hu=!1,Xp(e));break;case 4:o=tn,tn=ml(e.stateNode.containerInfo),Ue(n,e),Be(e),tn=o;break;case 12:Ue(n,e),Be(e);break;case 13:Ue(n,e),Be(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Xu=Ee()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:h=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,P=En,V=Zt;if(En=P||h,Zt=V||E,Ue(n,e),Zt=V,En=P,Be(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||E||En||Zt||Oi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(d=E.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=E.stateNode;var Q=E.memoizedProps.style,Y=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(F){Ht(E,E.return,F)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=h?"":E.memoizedProps}catch(F){Ht(E,E.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Gu(e,a))));break;case 19:Ue(n,e),Be(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:Ue(n,e),Be(e)}}function Be(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Bp(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Uu(e);nl(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(Zi(y,""),a.flags&=-33);var S=Uu(e);nl(e,S,y);break;case 3:case 4:var E=a.stateNode.containerInfo,P=Uu(e);Bu(e,P,E);break;default:throw Error(r(161))}}catch(V){Ht(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Xp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Xp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Kn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Np(e,n.alternate,n),n=n.sibling}function Oi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$n(4,n,n.return),Oi(n);break;case 1:on(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Dp(n,n.return,a),Oi(n);break;case 27:Ar(n.stateNode);case 26:case 5:on(n,n.return),Oi(n);break;case 22:n.memoizedState===null&&Oi(n);break;case 30:Oi(n);break;default:Oi(n)}e=e.sibling}}function Jn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Jn(h,d,a),pr(4,d);break;case 1:if(Jn(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ht(o,o.return,P)}if(o=d,h=o.updateQueue,h!==null){var S=o.stateNode;try{var E=h.shared.hiddenCallbacks;if(E!==null)for(h.shared.hiddenCallbacks=null,h=0;h<E.length;h++)yd(E[h],S)}catch(P){Ht(o,o.return,P)}}a&&y&64&&zp(d),mr(d,d.return);break;case 27:Hp(d);case 26:case 5:Jn(h,d,a),a&&o===null&&y&4&&Up(d),mr(d,d.return);break;case 12:Jn(h,d,a);break;case 13:Jn(h,d,a),a&&y&4&&Yp(h,d);break;case 22:d.memoizedState===null&&Jn(h,d,a),mr(d,d.return);break;case 30:break;default:Jn(h,d,a)}n=n.sibling}}function Nu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tr(a))}function ku(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e))}function un(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(e,n,a,o),n=n.sibling}function Fp(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:un(e,n,a,o),h&2048&&pr(9,n);break;case 1:un(e,n,a,o);break;case 3:un(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e)));break;case 12:if(h&2048){un(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,y=d.id,S=d.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Ht(n,n.return,E)}}else un(e,n,a,o);break;case 13:un(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?un(e,n,a,o):gr(e,n):d._visibility&2?un(e,n,a,o):(d._visibility|=2,ps(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Nu(y,n);break;case 24:un(e,n,a,o),h&2048&&ku(n.alternate,n);break;default:un(e,n,a,o)}}function ps(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,y=n,S=a,E=o,P=y.flags;switch(y.tag){case 0:case 11:case 15:ps(d,y,S,E,h),pr(8,y);break;case 23:break;case 22:var V=y.stateNode;y.memoizedState!==null?V._visibility&2?ps(d,y,S,E,h):gr(d,y):(V._visibility|=2,ps(d,y,S,E,h)),h&&P&2048&&Nu(y.alternate,y);break;case 24:ps(d,y,S,E,h),h&&P&2048&&ku(y.alternate,y);break;default:ps(d,y,S,E,h)}n=n.sibling}}function gr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:gr(a,o),h&2048&&Nu(o.alternate,o);break;case 24:gr(a,o),h&2048&&ku(o.alternate,o);break;default:gr(a,o)}n=n.sibling}}var yr=8192;function ms(e){if(e.subtreeFlags&yr)for(e=e.child;e!==null;)qp(e),e=e.sibling}function qp(e){switch(e.tag){case 26:ms(e),e.flags&yr&&e.memoizedState!==null&&S1(tn,e.memoizedState,e.memoizedProps);break;case 5:ms(e);break;case 3:case 4:var n=tn;tn=ml(e.stateNode.containerInfo),ms(e),tn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=yr,yr=16777216,ms(e),yr=n):ms(e));break;default:ms(e)}}function jp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function vr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];se=o,Ip(o,e)}jp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vp(e),e=e.sibling}function Vp(e){switch(e.tag){case 0:case 11:case 15:vr(e),e.flags&2048&&$n(9,e,e.return);break;case 3:vr(e);break;case 12:vr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,il(e)):vr(e);break;default:vr(e)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];se=o,Ip(o,e)}jp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$n(8,n,n.return),il(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,il(n));break;default:il(n)}e=e.sibling}}function Ip(e,n){for(;se!==null;){var a=se;switch(a.tag){case 0:case 11:case 15:$n(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tr(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,se=o;else t:for(a=e;se!==null;){o=se;var h=o.sibling,d=o.return;if(kp(o),o===a){se=null;break t}if(h!==null){h.return=d,se=h;break t}se=d}}}var kx={getCacheForType:function(e){var n=de(te),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Px=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Pt=null,vt=null,wt=0,Ot=0,He=null,ti=!1,gs=!1,Pu=!1,On=0,jt=0,ei=0,zi=0,Yu=0,We=0,ys=0,xr=null,Ce=null,Lu=!1,Xu=0,sl=1/0,rl=null,ni=null,ue=0,ii=null,vs=null,xs=0,Fu=0,qu=null,Wp=null,br=0,ju=null;function Ge(){if((Rt&2)!==0&&wt!==0)return wt&-wt;if(b.T!==null){var e=as;return e!==0?e:Ku()}return cf()}function Zp(){We===0&&(We=(wt&536870912)===0||Mt?af():536870912);var e=Ie.current;return e!==null&&(e.flags|=32),We}function Ne(e,n,a){(e===Pt&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(bs(e,0),si(e,wt,We,!1)),ks(e,a),((Rt&2)===0||e!==Pt)&&(e===Pt&&((Rt&2)===0&&(zi|=a),jt===4&&si(e,wt,We,!1)),cn(e))}function Qp(e,n,a){if((Rt&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Ns(e,n),h=o?Xx(e,n):Wu(e,n,!0),d=o;do{if(h===0){gs&&!o&&si(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!Yx(a)){h=Wu(e,n,!1),d=!1;continue}if(h===2){if(d=n,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var S=e;h=xr;var E=S.current.memoizedState.isDehydrated;if(E&&(bs(S,y).flags|=256),y=Wu(S,y,!1),y!==2){if(Pu&&!E){S.errorRecoveryDisabledLanes|=d,zi|=d,h=4;break t}d=Ce,Ce=h,d!==null&&(Ce===null?Ce=d:Ce.push.apply(Ce,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){bs(e,0),si(e,n,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:si(o,n,We,!ti);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Xu+300-Ee(),10<h)){if(si(o,n,We,!ti),ga(o,0,!0)!==0)break t;o.timeoutHandle=Cm($p.bind(null,o,a,Ce,rl,Lu,n,We,zi,ys,ti,d,2,-0,0),h);break t}$p(o,a,Ce,rl,Lu,n,We,zi,ys,ti,d,0,-0,0)}}break}while(!0);cn(e)}function $p(e,n,a,o,h,d,y,S,E,P,V,Q,Y,F){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Mr={stylesheets:null,count:0,unsuspend:_1},qp(n),Q=w1(),Q!==null)){e.cancelPendingCommit=Q(sm.bind(null,e,n,d,a,o,h,y,S,E,V,1,Y,F)),si(e,d,y,!P);return}sm(e,n,d,a,o,h,y,S,E)}function Yx(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!ze(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function si(e,n,a,o){n&=~Yu,n&=~zi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var d=31-Oe(h),y=1<<d;o[d]=-1,h&=~y}a!==0&&of(e,a,n)}function al(){return(Rt&6)===0?(_r(0),!1):!0}function Vu(){if(vt!==null){if(Ot===0)var e=vt.return;else e=vt,Sn=Ci=null,uu(e),fs=null,hr=0,e=vt;for(;e!==null;)Op(e.alternate,e),e=e.return;vt=null}}function bs(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,s1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Vu(),Pt=e,vt=a=xn(e.current,null),wt=n,Ot=0,He=null,ti=!1,gs=Ns(e,n),Pu=!1,ys=We=Yu=zi=ei=jt=0,Ce=xr=null,Lu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Oe(o),d=1<<h;n|=e[h],o&=~d}return On=n,Ea(),a}function Kp(e,n){gt=null,b.H=Ia,n===nr||n===Na?(n=md(),Ot=3):n===fd?(n=md(),Ot=4):Ot=n===gp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,He=n,vt===null&&(jt=1,Ka(e,Fe(n,e.current)))}function Jp(){var e=b.H;return b.H=Ia,e===null?Ia:e}function tm(){var e=b.A;return b.A=kx,e}function Iu(){jt=4,ti||(wt&4194048)!==wt&&Ie.current!==null||(gs=!0),(ei&134217727)===0&&(zi&134217727)===0||Pt===null||si(Pt,wt,We,!1)}function Wu(e,n,a){var o=Rt;Rt|=2;var h=Jp(),d=tm();(Pt!==e||wt!==n)&&(rl=null,bs(e,n)),n=!1;var y=jt;t:do try{if(Ot!==0&&vt!==null){var S=vt,E=He;switch(Ot){case 8:Vu(),y=6;break t;case 3:case 2:case 9:case 6:Ie.current===null&&(n=!0);var P=Ot;if(Ot=0,He=null,_s(e,S,E,P),a&&gs){y=0;break t}break;default:P=Ot,Ot=0,He=null,_s(e,S,E,P)}}Lx(),y=jt;break}catch(V){Kp(e,V)}while(!0);return n&&e.shellSuspendCounter++,Sn=Ci=null,Rt=o,b.H=h,b.A=d,vt===null&&(Pt=null,wt=0,Ea()),y}function Lx(){for(;vt!==null;)em(vt)}function Xx(e,n){var a=Rt;Rt|=2;var o=Jp(),h=tm();Pt!==e||wt!==n?(rl=null,sl=Ee()+500,bs(e,n)):gs=Ns(e,n);t:do try{if(Ot!==0&&vt!==null){n=vt;var d=He;e:switch(Ot){case 1:Ot=0,He=null,_s(e,n,d,1);break;case 2:case 9:if(dd(d)){Ot=0,He=null,nm(n);break}n=function(){Ot!==2&&Ot!==9||Pt!==e||(Ot=7),cn(e)},d.then(n,n);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:dd(d)?(Ot=0,He=null,nm(n)):(Ot=0,He=null,_s(e,n,d,7));break;case 5:var y=null;switch(vt.tag){case 26:y=vt.memoizedState;case 5:case 27:var S=vt;if(!y||Nm(y)){Ot=0,He=null;var E=S.sibling;if(E!==null)vt=E;else{var P=S.return;P!==null?(vt=P,ll(P)):vt=null}break e}}Ot=0,He=null,_s(e,n,d,5);break;case 6:Ot=0,He=null,_s(e,n,d,6);break;case 8:Vu(),jt=6;break t;default:throw Error(r(462))}}Fx();break}catch(V){Kp(e,V)}while(!0);return Sn=Ci=null,b.H=o,b.A=h,Rt=a,vt!==null?0:(Pt=null,wt=0,Ea(),jt)}function Fx(){for(;vt!==null&&!pt();)em(vt)}function em(e){var n=Ep(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?ll(e):vt=n}function nm(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Sp(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=Sp(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:uu(n);default:Op(a,n),n=vt=id(n,On),n=Ep(a,n,On)}e.memoizedProps=e.pendingProps,n===null?ll(e):vt=n}function _s(e,n,a,o){Sn=Ci=null,uu(n),fs=null,hr=0;var h=n.return;try{if(Dx(e,h,n,a,wt)){jt=1,Ka(e,Fe(a,e.current)),vt=null;return}}catch(d){if(h!==null)throw vt=h,d;jt=1,Ka(e,Fe(a,e.current)),vt=null;return}n.flags&32768?(Mt||o===1?e=!0:gs||(wt&536870912)!==0?e=!1:(ti=e=!0,(o===2||o===9||o===3||o===6)&&(o=Ie.current,o!==null&&o.tag===13&&(o.flags|=16384))),im(n,e)):ll(n)}function ll(e){var n=e;do{if((n.flags&32768)!==0){im(n,ti);return}e=n.return;var a=Bx(n.alternate,n,On);if(a!==null){vt=a;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);jt===0&&(jt=5)}function im(e,n){do{var a=Hx(e.alternate,e);if(a!==null){a.flags&=32767,vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){vt=e;return}vt=e=a}while(e!==null);jt=6,vt=null}function sm(e,n,a,o,h,d,y,S,E){e.cancelPendingCommit=null;do ol();while(ue!==0);if((Rt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=ko,_v(e,a,d,y,S,E),e===Pt&&(vt=Pt=null,wt=0),vs=n,ii=e,xs=a,Fu=d,qu=h,Wp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ix(da,function(){return um(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=b.T,b.T=null,h=T.p,T.p=2,y=Rt,Rt|=4;try{Gx(e,n,a)}finally{Rt=y,T.p=h,b.T=o}}ue=1,rm(),am(),lm()}}function rm(){if(ue===1){ue=0;var e=ii,n=vs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=b.T,b.T=null;var o=T.p;T.p=2;var h=Rt;Rt|=4;try{Lp(n,e);var d=ac,y=If(e.containerInfo),S=d.focusedElem,E=d.selectionRange;if(y!==S&&S&&S.ownerDocument&&Vf(S.ownerDocument.documentElement,S)){if(E!==null&&Uo(S)){var P=E.start,V=E.end;if(V===void 0&&(V=P),"selectionStart"in S)S.selectionStart=P,S.selectionEnd=Math.min(V,S.value.length);else{var Q=S.ownerDocument||document,Y=Q&&Q.defaultView||window;if(Y.getSelection){var F=Y.getSelection(),ct=S.textContent.length,ot=Math.min(E.start,ct),Bt=E.end===void 0?ot:Math.min(E.end,ct);!F.extend&&ot>Bt&&(y=Bt,Bt=ot,ot=y);var H=jf(S,ot),U=jf(S,Bt);if(H&&U&&(F.rangeCount!==1||F.anchorNode!==H.node||F.anchorOffset!==H.offset||F.focusNode!==U.node||F.focusOffset!==U.offset)){var N=Q.createRange();N.setStart(H.node,H.offset),F.removeAllRanges(),ot>Bt?(F.addRange(N),F.extend(U.node,U.offset)):(N.setEnd(U.node,U.offset),F.addRange(N))}}}}for(Q=[],F=S;F=F.parentNode;)F.nodeType===1&&Q.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Q.length;S++){var I=Q[S];I.element.scrollLeft=I.left,I.element.scrollTop=I.top}}bl=!!rc,ac=rc=null}finally{Rt=h,T.p=o,b.T=a}}e.current=n,ue=2}}function am(){if(ue===2){ue=0;var e=ii,n=vs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=b.T,b.T=null;var o=T.p;T.p=2;var h=Rt;Rt|=4;try{Np(e,n.alternate,n)}finally{Rt=h,T.p=o,b.T=a}}ue=3}}function lm(){if(ue===4||ue===3){ue=0,St();var e=ii,n=vs,a=xs,o=Wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ue=5:(ue=0,vs=ii=null,om(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ni=null),ho(a),n=n.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Gs,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=b.T,h=T.p,T.p=2,b.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var S=o[y];d(S.value,{componentStack:S.stack})}}finally{b.T=n,T.p=h}}(xs&3)!==0&&ol(),cn(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===ju?br++:(br=0,ju=e):br=0,_r(0)}}function om(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tr(n)))}function ol(e){return rm(),am(),lm(),um()}function um(){if(ue!==5)return!1;var e=ii,n=Fu;Fu=0;var a=ho(xs),o=b.T,h=T.p;try{T.p=32>a?32:a,b.T=null,a=qu,qu=null;var d=ii,y=xs;if(ue=0,vs=ii=null,xs=0,(Rt&6)!==0)throw Error(r(331));var S=Rt;if(Rt|=4,Vp(d.current),Fp(d,d.current,y,a),Rt=S,_r(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Gs,d)}catch{}return!0}finally{T.p=h,b.T=o,om(e,n)}}function cm(e,n,a){n=Fe(a,n),n=wu(e.stateNode,n,2),e=In(e,n,2),e!==null&&(ks(e,2),cn(e))}function Ht(e,n,a){if(e.tag===3)cm(e,e,a);else for(;n!==null;){if(n.tag===3){cm(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ni===null||!ni.has(o))){e=Fe(a,e),a=pp(2),o=In(n,a,2),o!==null&&(mp(a,o,n,e),ks(o,2),cn(o));break}}n=n.return}}function Zu(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Px;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Pu=!0,h.add(a),e=qx.bind(null,e,n,a),n.then(e,e))}function qx(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pt===e&&(wt&a)===a&&(jt===4||jt===3&&(wt&62914560)===wt&&300>Ee()-Xu?(Rt&2)===0&&bs(e,0):Yu|=a,ys===wt&&(ys=0)),cn(e)}function hm(e,n){n===0&&(n=lf()),e=ns(e,n),e!==null&&(ks(e,n),cn(e))}function jx(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),hm(e,a)}function Vx(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),hm(e,a)}function Ix(e,n){return xe(e,n)}var ul=null,Ss=null,Qu=!1,cl=!1,$u=!1,Di=0;function cn(e){e!==Ss&&e.next===null&&(Ss===null?ul=Ss=e:Ss=Ss.next=e),cl=!0,Qu||(Qu=!0,Zx())}function _r(e,n){if(!$u&&cl){$u=!0;do for(var a=!1,o=ul;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var y=o.suspendedLanes,S=o.pingedLanes;d=(1<<31-Oe(42|e)+1)-1,d&=h&~(y&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mm(o,d))}else d=wt,d=ga(o,o===Pt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Ns(o,d)||(a=!0,mm(o,d));o=o.next}while(a);$u=!1}}function Wx(){fm()}function fm(){cl=Qu=!1;var e=0;Di!==0&&(i1()&&(e=Di),Di=0);for(var n=Ee(),a=null,o=ul;o!==null;){var h=o.next,d=dm(o,n);d===0?(o.next=null,a===null?ul=h:a.next=h,h===null&&(Ss=a)):(a=o,(e!==0||(d&3)!==0)&&(cl=!0)),o=h}_r(e)}function dm(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Oe(d),S=1<<y,E=h[y];E===-1?((S&a)===0||(S&o)!==0)&&(h[y]=bv(S,n)):E<=n&&(e.expiredLanes|=S),d&=~S}if(n=Pt,a=wt,a=ga(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&be(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Ns(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&be(o),ho(a)){case 2:case 8:a=sf;break;case 32:a=da;break;case 268435456:a=rf;break;default:a=da}return o=pm.bind(null,e),a=xe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&be(o),e.callbackPriority=2,e.callbackNode=null,2}function pm(e,n){if(ue!==0&&ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ol()&&e.callbackNode!==a)return null;var o=wt;return o=ga(e,e===Pt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Qp(e,o,n),dm(e,Ee()),e.callbackNode!=null&&e.callbackNode===a?pm.bind(null,e):null)}function mm(e,n){if(ol())return null;Qp(e,n,!0)}function Zx(){r1(function(){(Rt&6)!==0?xe(oo,Wx):fm()})}function Ku(){return Di===0&&(Di=af()),Di}function gm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function ym(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Qx(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var d=gm((h[_e]||null).action),y=o.submitter;y&&(n=(n=y[_e]||null)?gm(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var S=new Ca("action","action",null,o,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Di!==0){var E=y?ym(h,y):new FormData(h);vu(a,{pending:!0,data:E,method:h.method,action:d},null,E)}}else typeof d=="function"&&(S.preventDefault(),E=y?ym(h,y):new FormData(h),vu(a,{pending:!0,data:E,method:h.method,action:d},d,E))},currentTarget:h}]})}}for(var Ju=0;Ju<No.length;Ju++){var tc=No[Ju],$x=tc.toLowerCase(),Kx=tc[0].toUpperCase()+tc.slice(1);Je($x,"on"+Kx)}Je(Qf,"onAnimationEnd"),Je($f,"onAnimationIteration"),Je(Kf,"onAnimationStart"),Je("dblclick","onDoubleClick"),Je("focusin","onFocus"),Je("focusout","onBlur"),Je(mx,"onTransitionRun"),Je(gx,"onTransitionStart"),Je(yx,"onTransitionCancel"),Je(Jf,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sr));function vm(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var S=o[y],E=S.instance,P=S.currentTarget;if(S=S.listener,E!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=P;try{d(h)}catch(V){$a(V)}h.currentTarget=null,d=E}else for(y=0;y<o.length;y++){if(S=o[y],E=S.instance,P=S.currentTarget,S=S.listener,E!==d&&h.isPropagationStopped())break t;d=S,h.currentTarget=P;try{d(h)}catch(V){$a(V)}h.currentTarget=null,d=E}}}}function xt(e,n){var a=n[fo];a===void 0&&(a=n[fo]=new Set);var o=e+"__bubble";a.has(o)||(xm(n,e,2,!1),a.add(o))}function ec(e,n,a){var o=0;n&&(o|=4),xm(a,e,o,n)}var hl="_reactListening"+Math.random().toString(36).slice(2);function nc(e){if(!e[hl]){e[hl]=!0,ff.forEach(function(a){a!=="selectionchange"&&(Jx.has(a)||ec(a,!1,e),ec(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hl]||(n[hl]=!0,ec("selectionchange",!1,n))}}function xm(e,n,a,o){switch(Fm(n)){case 2:var h=T1;break;case 8:h=M1;break;default:h=gc}a=h.bind(null,n,a,e),h=void 0,!Ao||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function ic(e,n,a,o,h){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===h)break;if(y===4)for(y=o.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;S!==null;){if(y=Fi(S),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){o=d=y;continue t}S=S.parentNode}}o=o.return}Tf(function(){var P=d,V=So(a),Q=[];t:{var Y=td.get(e);if(Y!==void 0){var F=Ca,ct=e;switch(e){case"keypress":if(wa(a)===0)break t;case"keydown":case"keyup":F=Iv;break;case"focusin":ct="focus",F=Eo;break;case"focusout":ct="blur",F=Eo;break;case"beforeblur":case"afterblur":F=Eo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Hv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Qv;break;case Qf:case $f:case Kf:F=kv;break;case Jf:F=Kv;break;case"scroll":case"scrollend":F=Uv;break;case"wheel":F=tx;break;case"copy":case"cut":case"paste":F=Yv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=zf;break;case"toggle":case"beforetoggle":F=nx}var ot=(n&4)!==0,Bt=!ot&&(e==="scroll"||e==="scrollend"),H=ot?Y!==null?Y+"Capture":null:Y;ot=[];for(var U=P,N;U!==null;){var I=U;if(N=I.stateNode,I=I.tag,I!==5&&I!==26&&I!==27||N===null||H===null||(I=Ls(U,H),I!=null&&ot.push(wr(U,I,N))),Bt)break;U=U.return}0<ot.length&&(Y=new F(Y,ct,null,a,V),Q.push({event:Y,listeners:ot}))}}if((n&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",Y&&a!==_o&&(ct=a.relatedTarget||a.fromElement)&&(Fi(ct)||ct[Xi]))break t;if((F||Y)&&(Y=V.window===V?V:(Y=V.ownerDocument)?Y.defaultView||Y.parentWindow:window,F?(ct=a.relatedTarget||a.toElement,F=P,ct=ct?Fi(ct):null,ct!==null&&(Bt=u(ct),ot=ct.tag,ct!==Bt||ot!==5&&ot!==27&&ot!==6)&&(ct=null)):(F=null,ct=P),F!==ct)){if(ot=Rf,I="onMouseLeave",H="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(ot=zf,I="onPointerLeave",H="onPointerEnter",U="pointer"),Bt=F==null?Y:Ys(F),N=ct==null?Y:Ys(ct),Y=new ot(I,U+"leave",F,a,V),Y.target=Bt,Y.relatedTarget=N,I=null,Fi(V)===P&&(ot=new ot(H,U+"enter",ct,a,V),ot.target=N,ot.relatedTarget=Bt,I=ot),Bt=I,F&&ct)e:{for(ot=F,H=ct,U=0,N=ot;N;N=ws(N))U++;for(N=0,I=H;I;I=ws(I))N++;for(;0<U-N;)ot=ws(ot),U--;for(;0<N-U;)H=ws(H),N--;for(;U--;){if(ot===H||H!==null&&ot===H.alternate)break e;ot=ws(ot),H=ws(H)}ot=null}else ot=null;F!==null&&bm(Q,Y,F,ot,!1),ct!==null&&Bt!==null&&bm(Q,Bt,ct,ot,!0)}}t:{if(Y=P?Ys(P):window,F=Y.nodeName&&Y.nodeName.toLowerCase(),F==="select"||F==="input"&&Y.type==="file")var st=Pf;else if(Nf(Y))if(Yf)st=fx;else{st=cx;var yt=ux}else F=Y.nodeName,!F||F.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?P&&bo(P.elementType)&&(st=Pf):st=hx;if(st&&(st=st(e,P))){kf(Q,st,a,V);break t}yt&&yt(e,Y,P),e==="focusout"&&P&&Y.type==="number"&&P.memoizedProps.value!=null&&xo(Y,"number",Y.value)}switch(yt=P?Ys(P):window,e){case"focusin":(Nf(yt)||yt.contentEditable==="true")&&(Ji=yt,Bo=P,Zs=null);break;case"focusout":Zs=Bo=Ji=null;break;case"mousedown":Ho=!0;break;case"contextmenu":case"mouseup":case"dragend":Ho=!1,Wf(Q,a,V);break;case"selectionchange":if(px)break;case"keydown":case"keyup":Wf(Q,a,V)}var lt;if(Oo)t:{switch(e){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else Ki?Hf(e,a)&&(ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(Df&&a.locale!=="ko"&&(Ki||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&Ki&&(lt=Mf()):(Fn=V,Co="value"in Fn?Fn.value:Fn.textContent,Ki=!0)),yt=fl(P,ut),0<yt.length&&(ut=new Of(ut,e,null,a,V),Q.push({event:ut,listeners:yt}),lt?ut.data=lt:(lt=Gf(a),lt!==null&&(ut.data=lt)))),(lt=sx?rx(e,a):ax(e,a))&&(ut=fl(P,"onBeforeInput"),0<ut.length&&(yt=new Of("onBeforeInput","beforeinput",null,a,V),Q.push({event:yt,listeners:ut}),yt.data=lt)),Qx(Q,e,P,a,V)}vm(Q,n)})}function wr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fl(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ls(e,a),h!=null&&o.unshift(wr(e,h,d)),h=Ls(e,n),h!=null&&o.push(wr(e,h,d))),e.tag===3)return o;e=e.return}return[]}function ws(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function bm(e,n,a,o,h){for(var d=n._reactName,y=[];a!==null&&a!==o;){var S=a,E=S.alternate,P=S.stateNode;if(S=S.tag,E!==null&&E===o)break;S!==5&&S!==26&&S!==27||P===null||(E=P,h?(P=Ls(a,d),P!=null&&y.unshift(wr(a,P,E))):h||(P=Ls(a,d),P!=null&&y.push(wr(a,P,E)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var t1=/\r\n?/g,e1=/\u0000|\uFFFD/g;function _m(e){return(typeof e=="string"?e:""+e).replace(t1,`
`).replace(e1,"")}function Sm(e,n){return n=_m(n),_m(e)===n}function dl(){}function Ut(e,n,a,o,h,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Zi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Zi(e,""+o);break;case"className":va(e,"class",o);break;case"tabIndex":va(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":va(e,a,o);break;case"style":Af(e,o,d);break;case"data":if(n!=="object"){va(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Ut(e,n,"name",h.name,h,null),Ut(e,n,"formEncType",h.formEncType,h,null),Ut(e,n,"formMethod",h.formMethod,h,null),Ut(e,n,"formTarget",h.formTarget,h,null)):(Ut(e,n,"encType",h.encType,h,null),Ut(e,n,"method",h.method,h,null),Ut(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=dl);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ya(e,"popover",o);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zv.get(a)||a,ya(e,a,o))}}function sc(e,n,a,o,h,d){switch(a){case"style":Af(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Zi(e,o):(typeof o=="number"||typeof o=="bigint")&&Zi(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=dl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!df.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ya(e,a,o)}}}function ce(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ut(e,n,d,y,a,null)}}h&&Ut(e,n,"srcSet",a.srcSet,a,null),o&&Ut(e,n,"src",a.src,a,null);return;case"input":xt("invalid",e);var S=d=y=h=null,E=null,P=null;for(o in a)if(a.hasOwnProperty(o)){var V=a[o];if(V!=null)switch(o){case"name":h=V;break;case"type":y=V;break;case"checked":E=V;break;case"defaultChecked":P=V;break;case"value":d=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,n));break;default:Ut(e,n,o,V,a,null)}}bf(e,d,S,E,P,y,h,!1),xa(e);return;case"select":xt("invalid",e),o=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:Ut(e,n,h,S,a,null)}n=d,a=y,e.multiple=!!o,n!=null?Wi(e,!!o,n,!1):a!=null&&Wi(e,!!o,a,!0);return;case"textarea":xt("invalid",e),d=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ut(e,n,y,S,a,null)}Sf(e,o,h,d),xa(e);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(o=a[E],o!=null))switch(E){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ut(e,n,E,o,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<Sr.length;o++)xt(Sr[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(o=a[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ut(e,n,P,o,a,null)}return;default:if(bo(n)){for(V in a)a.hasOwnProperty(V)&&(o=a[V],o!==void 0&&sc(e,n,V,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&Ut(e,n,S,o,a,null))}function n1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,S=null,E=null,P=null,V=null;for(F in a){var Q=a[F];if(a.hasOwnProperty(F)&&Q!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":E=Q;default:o.hasOwnProperty(F)||Ut(e,n,F,null,o,Q)}}for(var Y in o){var F=o[Y];if(Q=a[Y],o.hasOwnProperty(Y)&&(F!=null||Q!=null))switch(Y){case"type":d=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":V=F;break;case"value":y=F;break;case"defaultValue":S=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Q&&Ut(e,n,Y,F,o,Q)}}vo(e,y,S,E,P,V,d,h);return;case"select":F=y=S=Y=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":F=E;default:o.hasOwnProperty(d)||Ut(e,n,d,null,o,E)}for(h in o)if(d=o[h],E=a[h],o.hasOwnProperty(h)&&(d!=null||E!=null))switch(h){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":y=d;default:d!==E&&Ut(e,n,h,d,o,E)}n=S,a=y,o=F,Y!=null?Wi(e,!!a,Y,!1):!!o!=!!a&&(n!=null?Wi(e,!!a,n,!0):Wi(e,!!a,a?[]:"",!1));return;case"textarea":F=Y=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ut(e,n,S,null,o,h)}for(y in o)if(h=o[y],d=a[y],o.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":Y=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&Ut(e,n,y,h,o,d)}_f(e,Y,F);return;case"option":for(var ct in a)if(Y=a[ct],a.hasOwnProperty(ct)&&Y!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Ut(e,n,ct,null,o,Y)}for(E in o)if(Y=o[E],F=a[E],o.hasOwnProperty(E)&&Y!==F&&(Y!=null||F!=null))switch(E){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ut(e,n,E,Y,o,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in a)Y=a[ot],a.hasOwnProperty(ot)&&Y!=null&&!o.hasOwnProperty(ot)&&Ut(e,n,ot,null,o,Y);for(P in o)if(Y=o[P],F=a[P],o.hasOwnProperty(P)&&Y!==F&&(Y!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Ut(e,n,P,Y,o,F)}return;default:if(bo(n)){for(var Bt in a)Y=a[Bt],a.hasOwnProperty(Bt)&&Y!==void 0&&!o.hasOwnProperty(Bt)&&sc(e,n,Bt,void 0,o,Y);for(V in o)Y=o[V],F=a[V],!o.hasOwnProperty(V)||Y===F||Y===void 0&&F===void 0||sc(e,n,V,Y,o,F);return}}for(var H in a)Y=a[H],a.hasOwnProperty(H)&&Y!=null&&!o.hasOwnProperty(H)&&Ut(e,n,H,null,o,Y);for(Q in o)Y=o[Q],F=a[Q],!o.hasOwnProperty(Q)||Y===F||Y==null&&F==null||Ut(e,n,Q,Y,o,F)}var rc=null,ac=null;function pl(e){return e.nodeType===9?e:e.ownerDocument}function wm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Am(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function lc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var oc=null;function i1(){var e=window.event;return e&&e.type==="popstate"?e===oc?!1:(oc=e,!0):(oc=null,!1)}var Cm=typeof setTimeout=="function"?setTimeout:void 0,s1=typeof clearTimeout=="function"?clearTimeout:void 0,Tm=typeof Promise=="function"?Promise:void 0,r1=typeof queueMicrotask=="function"?queueMicrotask:typeof Tm<"u"?function(e){return Tm.resolve(null).then(e).catch(a1)}:Cm;function a1(e){setTimeout(function(){throw e})}function ri(e){return e==="head"}function Mm(e,n){var a=n,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var y=e.ownerDocument;if(a&1&&Ar(y.documentElement),a&2&&Ar(y.body),a&4)for(a=y.head,Ar(a),y=a.firstChild;y;){var S=y.nextSibling,E=y.nodeName;y[Ps]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}if(h===0){e.removeChild(d),Dr(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Dr(n)}function uc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":uc(a),po(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function l1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ps])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function o1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=en(e.nextSibling),e===null))return null;return e}function cc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function u1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var hc=null;function Em(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Rm(e,n,a){switch(n=pl(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ar(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);po(e)}var Ze=new Map,Om=new Set;function ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=T.d;T.d={f:c1,r:h1,D:f1,C:d1,L:p1,m:m1,X:y1,S:g1,M:v1};function c1(){var e=zn.f(),n=al();return e||n}function h1(e){var n=qi(e);n!==null&&n.tag===5&&n.type==="form"?Qd(n):zn.r(e)}var As=typeof document>"u"?null:document;function zm(e,n,a){var o=As;if(o&&typeof n=="string"&&n){var h=Xe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Om.has(h)||(Om.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ce(n,"link",e),ne(n),o.head.appendChild(n)))}}function f1(e){zn.D(e),zm("dns-prefetch",e,null)}function d1(e,n){zn.C(e,n),zm("preconnect",e,n)}function p1(e,n,a){zn.L(e,n,a);var o=As;if(o&&e&&n){var h='link[rel="preload"][as="'+Xe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Xe(a.imageSizes)+'"]')):h+='[href="'+Xe(e)+'"]';var d=h;switch(n){case"style":d=Cs(e);break;case"script":d=Ts(e)}Ze.has(d)||(e=g({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ze.set(d,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Cr(d))||n==="script"&&o.querySelector(Tr(d))||(n=o.createElement("link"),ce(n,"link",e),ne(n),o.head.appendChild(n)))}}function m1(e,n){zn.m(e,n);var a=As;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Xe(o)+'"][href="'+Xe(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ts(e)}if(!Ze.has(d)&&(e=g({rel:"modulepreload",href:e},n),Ze.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tr(d)))return}o=a.createElement("link"),ce(o,"link",e),ne(o),a.head.appendChild(o)}}}function g1(e,n,a){zn.S(e,n,a);var o=As;if(o&&e){var h=ji(o).hoistableStyles,d=Cs(e);n=n||"default";var y=h.get(d);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(Cr(d)))S.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ze.get(d))&&fc(e,a);var E=y=o.createElement("link");ne(E),ce(E,"link",e),E._p=new Promise(function(P,V){E.onload=P,E.onerror=V}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,gl(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:S},h.set(d,y)}}}function y1(e,n){zn.X(e,n);var a=As;if(a&&e){var o=ji(a).hoistableScripts,h=Ts(e),d=o.get(h);d||(d=a.querySelector(Tr(h)),d||(e=g({src:e,async:!0},n),(n=Ze.get(h))&&dc(e,n),d=a.createElement("script"),ne(d),ce(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function v1(e,n){zn.M(e,n);var a=As;if(a&&e){var o=ji(a).hoistableScripts,h=Ts(e),d=o.get(h);d||(d=a.querySelector(Tr(h)),d||(e=g({src:e,async:!0,type:"module"},n),(n=Ze.get(h))&&dc(e,n),d=a.createElement("script"),ne(d),ce(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Dm(e,n,a,o){var h=(h=et.current)?ml(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Cs(a.href),a=ji(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Cs(a.href);var d=ji(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(Cr(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Ze.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ze.set(e,a),d||x1(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ts(a),a=ji(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Cs(e){return'href="'+Xe(e)+'"'}function Cr(e){return'link[rel="stylesheet"]['+e+"]"}function Um(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function x1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ce(n,"link",a),ne(n),e.head.appendChild(n))}function Ts(e){return'[src="'+Xe(e)+'"]'}function Tr(e){return"script[async]"+e}function Bm(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Xe(a.href)+'"]');if(o)return n.instance=o,ne(o),o;var h=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ne(o),ce(o,"style",h),gl(o,a.precedence,e),n.instance=o;case"stylesheet":h=Cs(a.href);var d=e.querySelector(Cr(h));if(d)return n.state.loading|=4,n.instance=d,ne(d),d;o=Um(a),(h=Ze.get(h))&&fc(o,h),d=(e.ownerDocument||e).createElement("link"),ne(d);var y=d;return y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),ce(d,"link",o),n.state.loading|=4,gl(d,a.precedence,e),n.instance=d;case"script":return d=Ts(a.src),(h=e.querySelector(Tr(d)))?(n.instance=h,ne(h),h):(o=a,(h=Ze.get(d))&&(o=g({},a),dc(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ne(h),ce(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gl(o,a.precedence,e));return n.instance}function gl(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===n)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function fc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function dc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yl=null;function Hm(e,n,a){if(yl===null){var o=new Map,h=yl=new Map;h.set(a,o)}else h=yl,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Ps]||d[fe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=e+y;var S=o.get(y);S?S.push(d):o.set(y,[d])}}return o}function Gm(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function b1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Nm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Mr=null;function _1(){}function S1(e,n,a){if(Mr===null)throw Error(r(475));var o=Mr;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Cs(a.href),d=e.querySelector(Cr(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=vl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,ne(d);return}d=e.ownerDocument||e,a=Um(a),(h=Ze.get(h))&&fc(a,h),d=d.createElement("link"),ne(d);var y=d;y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),ce(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=vl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function w1(){if(Mr===null)throw Error(r(475));var e=Mr;return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function vl(){if(this.count--,this.count===0){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xl=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xl=new Map,n.forEach(A1,e),xl=null,vl.call(e))}function A1(e,n){if(!(n.state.loading&4)){var a=xl.get(e);if(a)var o=a.get(null);else{a=new Map,xl.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,h),a.set(y,h),this.count++,o=vl.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Er={$$typeof:B,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function C1(e,n,a,o,h,d,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uo(0),this.hiddenUpdates=uo(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function km(e,n,a,o,h,d,y,S,E,P,V,Q){return e=new C1(e,n,a,y,S,E,P,Q),n=1,d===!0&&(n|=24),d=De(3,null,null,n),e.current=d,d.stateNode=e,n=Zo(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},Jo(d),e}function Pm(e){return e?(e=is,e):is}function Ym(e,n,a,o,h,d){h=Pm(h),o.context===null?o.context=h:o.pendingContext=h,o=Vn(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=In(e,o,n),a!==null&&(Ne(a,e,n),sr(a,e,n))}function Lm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function mc(e,n){Lm(e,n),(e=e.alternate)&&Lm(e,n)}function Xm(e){if(e.tag===13){var n=ns(e,67108864);n!==null&&Ne(n,e,67108864),mc(e,67108864)}}var bl=!0;function T1(e,n,a,o){var h=b.T;b.T=null;var d=T.p;try{T.p=2,gc(e,n,a,o)}finally{T.p=d,b.T=h}}function M1(e,n,a,o){var h=b.T;b.T=null;var d=T.p;try{T.p=8,gc(e,n,a,o)}finally{T.p=d,b.T=h}}function gc(e,n,a,o){if(bl){var h=yc(o);if(h===null)ic(e,n,o,_l,a),qm(e,o);else if(R1(h,e,n,a,o))o.stopPropagation();else if(qm(e,o),n&4&&-1<E1.indexOf(e)){for(;h!==null;){var d=qi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=mi(d.pendingLanes);if(y!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var E=1<<31-Oe(y);S.entanglements[1]|=E,y&=~E}cn(d),(Rt&6)===0&&(sl=Ee()+500,_r(0))}}break;case 13:S=ns(d,2),S!==null&&Ne(S,d,2),al(),mc(d,2)}if(d=yc(o),d===null&&ic(e,n,o,_l,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else ic(e,n,o,null,a)}}function yc(e){return e=So(e),vc(e)}var _l=null;function vc(e){if(_l=null,e=Fi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=c(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _l=e,null}function Fm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lo()){case oo:return 2;case sf:return 8;case da:case pv:return 32;case rf:return 268435456;default:return 32}default:return 32}}var xc=!1,ai=null,li=null,oi=null,Rr=new Map,Or=new Map,ui=[],E1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,n){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":li=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Rr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(n.pointerId)}}function zr(e,n,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},n!==null&&(n=qi(n),n!==null&&Xm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function R1(e,n,a,o,h){switch(n){case"focusin":return ai=zr(ai,e,n,a,o,h),!0;case"dragenter":return li=zr(li,e,n,a,o,h),!0;case"mouseover":return oi=zr(oi,e,n,a,o,h),!0;case"pointerover":var d=h.pointerId;return Rr.set(d,zr(Rr.get(d)||null,e,n,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Or.set(d,zr(Or.get(d)||null,e,n,a,o,h)),!0}return!1}function jm(e){var n=Fi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=c(a),n!==null){e.blockedOn=n,Sv(e.priority,function(){if(a.tag===13){var o=Ge();o=co(o);var h=ns(a,o);h!==null&&Ne(h,a,o),mc(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=yc(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);_o=o,a.target.dispatchEvent(o),_o=null}else return n=qi(a),n!==null&&Xm(n),e.blockedOn=a,!1;n.shift()}return!0}function Vm(e,n,a){Sl(e)&&a.delete(n)}function O1(){xc=!1,ai!==null&&Sl(ai)&&(ai=null),li!==null&&Sl(li)&&(li=null),oi!==null&&Sl(oi)&&(oi=null),Rr.forEach(Vm),Or.forEach(Vm)}function wl(e,n){e.blockedOn===n&&(e.blockedOn=null,xc||(xc=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,O1)))}var Al=null;function Im(e){Al!==e&&(Al=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Al===e&&(Al=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(vc(o||a)===null)continue;break}var d=qi(a);d!==null&&(e.splice(n,3),n-=3,vu(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Dr(e){function n(E){return wl(E,e)}ai!==null&&wl(ai,e),li!==null&&wl(li,e),oi!==null&&wl(oi,e),Rr.forEach(n),Or.forEach(n);for(var a=0;a<ui.length;a++){var o=ui[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ui.length&&(a=ui[0],a.blockedOn===null);)jm(a),a.blockedOn===null&&ui.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],y=h[_e]||null;if(typeof d=="function")y||Im(a);else if(y){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[_e]||null)S=y.formAction;else if(vc(h)!==null)continue}else S=y.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Im(a)}}}function bc(e){this._internalRoot=e}Cl.prototype.render=bc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Ge();Ym(a,o,e,n,null,null)},Cl.prototype.unmount=bc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ym(e.current,2,null,e,null,null),al(),n[Xi]=null}};function Cl(e){this._internalRoot=e}Cl.prototype.unstable_scheduleHydration=function(e){if(e){var n=cf();e={blockedOn:null,target:e,priority:n};for(var a=0;a<ui.length&&n!==0&&n<ui[a].priority;a++);ui.splice(a,0,e),a===0&&jm(e)}};var Wm=t.version;if(Wm!=="19.1.0")throw Error(r(527,Wm,"19.1.0"));T.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var z1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{Gs=Tl.inject(z1),Re=Tl}catch{}}return Br.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=cp,d=hp,y=fp,S=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=km(e,1,!1,null,null,a,o,h,d,y,S,null),e[Xi]=n.current,nc(e),new bc(n)},Br.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",d=cp,y=hp,S=fp,E=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=km(e,1,!0,n,a??null,o,h,d,y,S,E,P),n.context=Pm(null),a=n.current,o=Ge(),o=co(o),h=Vn(o),h.callback=null,In(a,h,o),a=o,n.current.lanes=a,ks(n,a),cn(n),e[Xi]=n.current,nc(e),new Cl(n)},Br.version="19.1.0",Br}var sg;function L1(){if(sg)return Sc.exports;sg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Sc.exports=Y1(),Sc.exports}var X1=L1();const F1=ua(X1);var L=Ph();const me=ua(L);var Hr={},rg;function q1(){if(rg)return Hr;rg=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.parse=c,Hr.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,x){const C=new u,O=_.length;if(O<2)return C;const A=(x==null?void 0:x.decode)||g;let M=0;do{const z=_.indexOf("=",M);if(z===-1)break;const B=_.indexOf(";",M),q=B===-1?O:B;if(z>q){M=_.lastIndexOf(";",z-1)+1;continue}const j=f(_,M,z),W=p(_,z,j),Z=_.slice(j,W);if(C[Z]===void 0){let rt=f(_,z+1,q),it=p(_,q,rt);const tt=A(_.slice(rt,it));C[Z]=tt}M=q+1}while(M<O);return C}function f(_,x,C){do{const O=_.charCodeAt(x);if(O!==32&&O!==9)return x}while(++x<C);return C}function p(_,x,C){for(;x>C;){const O=_.charCodeAt(--x);if(O!==32&&O!==9)return x+1}return C}function m(_,x,C){const O=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=O(x);if(!t.test(A))throw new TypeError(`argument val is invalid: ${x}`);let M=_+"="+A;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return l.call(_)==="[object Date]"}return Hr}q1();var ag="popstate";function j1(s={}){function t(r,l){let{pathname:u,search:c,hash:f}=r.location;return hh("",{pathname:u,search:c,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function i(r,l){return typeof l=="string"?l:ea(l)}return I1(t,i,null,s)}function Ft(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function dn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function V1(){return Math.random().toString(36).substring(2,10)}function lg(s,t){return{usr:s.state,key:s.key,idx:t}}function hh(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Bs(t):t,state:i,key:t&&t.key||r||V1()}}function ea({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Bs(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function I1(s,t,i,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,c=l.history,f="POP",p=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let A=g(),M=A==null?null:A-m;m=A,p&&p({action:f,location:O.location,delta:M})}function _(A,M){f="PUSH";let z=hh(O.location,A,M);m=g()+1;let B=lg(z,m),q=O.createHref(z);try{c.pushState(B,"",q)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;l.location.assign(q)}u&&p&&p({action:f,location:O.location,delta:1})}function x(A,M){f="REPLACE";let z=hh(O.location,A,M);m=g();let B=lg(z,m),q=O.createHref(z);c.replaceState(B,"",q),u&&p&&p({action:f,location:O.location,delta:0})}function C(A){let M=l.location.origin!=="null"?l.location.origin:l.location.href,z=typeof A=="string"?A:ea(A);return z=z.replace(/ $/,"%20"),Ft(M,`No window.location.(origin|href) available to create URL for href: ${z}`),new URL(z,M)}let O={get action(){return f},get location(){return s(l,c)},listen(A){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(ag,v),p=A,()=>{l.removeEventListener(ag,v),p=null}},createHref(A){return t(l,A)},createURL:C,encodeLocation(A){let M=C(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:x,go(A){return c.go(A)}};return O}function Sy(s,t,i="/"){return W1(s,t,i,!1)}function W1(s,t,i,r){let l=typeof t=="string"?Bs(t):t,u=Nn(l.pathname||"/",i);if(u==null)return null;let c=wy(s);Z1(c);let f=null;for(let p=0;f==null&&p<c.length;++p){let m=ab(u);f=sb(c[p],m,r)}return f}function wy(s,t=[],i=[],r=""){let l=(u,c,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};p.relativePath.startsWith("/")&&(Ft(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=Bn([r,p.relativePath]),g=i.concat(p);u.children&&u.children.length>0&&(Ft(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),wy(u.children,t,g,m)),!(u.path==null&&!u.index)&&t.push({path:m,score:nb(m,u.index),routesMeta:g})};return s.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,c);else for(let p of Ay(u.path))l(u,c,p)}),t}function Ay(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let c=Ay(r.join("/")),f=[];return f.push(...c.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...c),f.map(p=>s.startsWith("/")&&p===""?"/":p)}function Z1(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:ib(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var Q1=/^:[\w-]+$/,$1=3,K1=2,J1=1,tb=10,eb=-2,og=s=>s==="*";function nb(s,t){let i=s.split("/"),r=i.length;return i.some(og)&&(r+=eb),t&&(r+=K1),i.filter(l=>!og(l)).reduce((l,u)=>l+(Q1.test(u)?$1:u===""?J1:tb),r)}function ib(s,t){return s.length===t.length&&s.slice(0,-1).every((r,l)=>r===t[l])?s[s.length-1]-t[t.length-1]:0}function sb(s,t,i=!1){let{routesMeta:r}=s,l={},u="/",c=[];for(let f=0;f<r.length;++f){let p=r[f],m=f===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=Vl({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),_=p.route;if(!v&&m&&i&&!r[r.length-1].route.index&&(v=Vl({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!v)return null;Object.assign(l,v.params),c.push({params:l,pathname:Bn([u,v.pathname]),pathnameBase:cb(Bn([u,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(u=Bn([u,v.pathnameBase]))}return c}function Vl(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=rb(s.path,s.caseSensitive,s.end),l=t.match(i);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},_)=>{if(g==="*"){let C=f[_]||"";c=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const x=f[_];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:s}}function rb(s,t=!1,i=!0){dn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function ab(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Nn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function lb(s,t="/"){let{pathname:i,search:r="",hash:l=""}=typeof s=="string"?Bs(s):s;return{pathname:i?i.startsWith("/")?i:ob(i,t):t,search:hb(r),hash:fb(l)}}function ob(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Mc(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ub(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Cy(s){let t=ub(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Ty(s,t,i,r=!1){let l;typeof s=="string"?l=Bs(s):(l={...s},Ft(!l.pathname||!l.pathname.includes("?"),Mc("?","pathname","search",l)),Ft(!l.pathname||!l.pathname.includes("#"),Mc("#","pathname","hash",l)),Ft(!l.search||!l.search.includes("#"),Mc("#","search","hash",l)));let u=s===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=i;else{let v=t.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;l.pathname=_.join("/")}f=v>=0?t[v]:"/"}let p=lb(l,f),m=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var Bn=s=>s.join("/").replace(/\/\/+/g,"/"),cb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),hb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,fb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function db(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var My=["POST","PUT","PATCH","DELETE"];new Set(My);var pb=["GET",...My];new Set(pb);var Hs=L.createContext(null);Hs.displayName="DataRouter";var Zl=L.createContext(null);Zl.displayName="DataRouterState";var Ey=L.createContext({isTransitioning:!1});Ey.displayName="ViewTransition";var mb=L.createContext(new Map);mb.displayName="Fetchers";var gb=L.createContext(null);gb.displayName="Await";var pn=L.createContext(null);pn.displayName="Navigation";var ca=L.createContext(null);ca.displayName="Location";var mn=L.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var Yh=L.createContext(null);Yh.displayName="RouteError";function yb(s,{relative:t}={}){Ft(ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=L.useContext(pn),{hash:l,pathname:u,search:c}=fa(s,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Bn([i,u])),r.createHref({pathname:f,search:c,hash:l})}function ha(){return L.useContext(ca)!=null}function pi(){return Ft(ha(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(ca).location}var Ry="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Oy(s){L.useContext(pn).static||L.useLayoutEffect(s)}function vb(){let{isDataRoute:s}=L.useContext(mn);return s?zb():xb()}function xb(){Ft(ha(),"useNavigate() may be used only in the context of a <Router> component.");let s=L.useContext(Hs),{basename:t,navigator:i}=L.useContext(pn),{matches:r}=L.useContext(mn),{pathname:l}=pi(),u=JSON.stringify(Cy(r)),c=L.useRef(!1);return Oy(()=>{c.current=!0}),L.useCallback((p,m={})=>{if(dn(c.current,Ry),!c.current)return;if(typeof p=="number"){i.go(p);return}let g=Ty(p,JSON.parse(u),l,m.relative==="path");s==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Bn([t,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[t,i,u,l,s])}L.createContext(null);function zy(){let{matches:s}=L.useContext(mn),t=s[s.length-1];return t?t.params:{}}function fa(s,{relative:t}={}){let{matches:i}=L.useContext(mn),{pathname:r}=pi(),l=JSON.stringify(Cy(i));return L.useMemo(()=>Ty(s,JSON.parse(l),r,t==="path"),[s,l,r,t])}function bb(s,t){return Dy(s,t)}function Dy(s,t,i,r){var z;Ft(ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=L.useContext(pn),{matches:c}=L.useContext(mn),f=c[c.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let B=v&&v.path||"";Uy(m,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=pi(),x;if(t){let B=typeof t=="string"?Bs(t):t;Ft(g==="/"||((z=B.pathname)==null?void 0:z.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=_;let C=x.pathname||"/",O=C;if(g!=="/"){let B=g.replace(/^\//,"").split("/");O="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let A=!u&&i&&i.matches&&i.matches.length>0?i.matches:Sy(s,{pathname:O});dn(v||A!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),dn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Cb(A&&A.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Bn([g,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Bn([g,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),c,i,r);return t&&M?L.createElement(ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function _b(){let s=Ob(),t=db(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),i?L.createElement("pre",{style:l},i):null,c)}var Sb=L.createElement(_b,null),wb=class extends L.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?L.createElement(mn.Provider,{value:this.props.routeContext},L.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ab({routeContext:s,match:t,children:i}){let r=L.useContext(Hs);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(mn.Provider,{value:s},i)}function Cb(s,t=[],i=null,r=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let l=s,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);Ft(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,f=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:g,errors:v}=i,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||_){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,g)=>{let v,_=!1,x=null,C=null;i&&(v=u&&m.route.id?u[m.route.id]:void 0,x=m.route.errorElement||Sb,c&&(f<0&&g===0?(Uy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):f===g&&(_=!0,C=m.route.hydrateFallbackElement||null)));let O=t.concat(l.slice(0,g+1)),A=()=>{let M;return v?M=x:_?M=C:m.route.Component?M=L.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=p,L.createElement(Ab,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:i!=null},children:M})};return i&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?L.createElement(wb,{location:i.location,revalidation:i.revalidation,component:x,error:v,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):A()},null)}function Lh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tb(s){let t=L.useContext(Hs);return Ft(t,Lh(s)),t}function Mb(s){let t=L.useContext(Zl);return Ft(t,Lh(s)),t}function Eb(s){let t=L.useContext(mn);return Ft(t,Lh(s)),t}function Xh(s){let t=Eb(s),i=t.matches[t.matches.length-1];return Ft(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Rb(){return Xh("useRouteId")}function Ob(){var r;let s=L.useContext(Yh),t=Mb("useRouteError"),i=Xh("useRouteError");return s!==void 0?s:(r=t.errors)==null?void 0:r[i]}function zb(){let{router:s}=Tb("useNavigate"),t=Xh("useNavigate"),i=L.useRef(!1);return Oy(()=>{i.current=!0}),L.useCallback(async(l,u={})=>{dn(i.current,Ry),i.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:t,...u}))},[s,t])}var ug={};function Uy(s,t,i){!t&&!ug[s]&&(ug[s]=!0,dn(!1,i))}L.memo(Db);function Db({routes:s,future:t,state:i}){return Dy(s,void 0,i,t)}function qr(s){Ft(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ub({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:l,static:u=!1}){Ft(!ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),f=L.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof i=="string"&&(i=Bs(i));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:_="default"}=i,x=L.useMemo(()=>{let C=Nn(p,c);return C==null?null:{location:{pathname:C,search:m,hash:g,state:v,key:_},navigationType:r}},[c,p,m,g,v,_,r]);return dn(x!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(pn.Provider,{value:f},L.createElement(ca.Provider,{children:t,value:x}))}function Bb({children:s,location:t}){return bb(fh(s),t)}function fh(s,t=[]){let i=[];return L.Children.forEach(s,(r,l)=>{if(!L.isValidElement(r))return;let u=[...t,l];if(r.type===L.Fragment){i.push.apply(i,fh(r.props.children,u));return}Ft(r.type===qr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ft(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=fh(r.props.children,u)),i.push(c)}),i}var Pl="get",Yl="application/x-www-form-urlencoded";function Ql(s){return s!=null&&typeof s.tagName=="string"}function Hb(s){return Ql(s)&&s.tagName.toLowerCase()==="button"}function Gb(s){return Ql(s)&&s.tagName.toLowerCase()==="form"}function Nb(s){return Ql(s)&&s.tagName.toLowerCase()==="input"}function kb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Pb(s,t){return s.button===0&&(!t||t==="_self")&&!kb(s)}var Ml=null;function Yb(){if(Ml===null)try{new FormData(document.createElement("form"),0),Ml=!1}catch{Ml=!0}return Ml}var Lb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ec(s){return s!=null&&!Lb.has(s)?(dn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yl}"`),null):s}function Xb(s,t){let i,r,l,u,c;if(Gb(s)){let f=s.getAttribute("action");r=f?Nn(f,t):null,i=s.getAttribute("method")||Pl,l=Ec(s.getAttribute("enctype"))||Yl,u=new FormData(s)}else if(Hb(s)||Nb(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||f.getAttribute("action");if(r=p?Nn(p,t):null,i=s.getAttribute("formmethod")||f.getAttribute("method")||Pl,l=Ec(s.getAttribute("formenctype"))||Ec(f.getAttribute("enctype"))||Yl,u=new FormData(f,s),!Yb()){let{name:m,type:g,value:v}=s;if(g==="image"){let _=m?`${m}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else m&&u.append(m,v)}}else{if(Ql(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Pl,r=null,l=Yl,c=s}return u&&l==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:l,formData:u,body:c}}function Fh(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function Fb(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function jb(s,t,i){let r=await Promise.all(s.map(async l=>{let u=t.routes[l.route.id];if(u){let c=await Fb(u,i);return c.links?c.links():[]}return[]}));return Zb(r.flat(1).filter(qb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function cg(s,t,i,r,l,u){let c=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,f=(p,m)=>{var g;return i[m].pathname!==p.pathname||((g=i[m].route.path)==null?void 0:g.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,m)=>c(p,m)||f(p,m)):u==="data"?t.filter((p,m)=>{var v;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(c(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Vb(s,t,{includeHydrateFallback:i}={}){return Ib(s.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Ib(s){return[...new Set(s)]}function Wb(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function Zb(s,t){let i=new Set;return new Set(t),s.reduce((r,l)=>{let u=JSON.stringify(Wb(l));return i.has(u)||(i.add(u),r.push({key:u,link:l})),r},[])}var Qb=new Set([100,101,204,205]);function $b(s,t){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":t&&Nn(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function By(){let s=L.useContext(Hs);return Fh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Kb(){let s=L.useContext(Zl);return Fh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var qh=L.createContext(void 0);qh.displayName="FrameworkContext";function Hy(){let s=L.useContext(qh);return Fh(s,"You must render this element inside a <HydratedRouter> element"),s}function Jb(s,t){let i=L.useContext(qh),[r,l]=L.useState(!1),[u,c]=L.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,_=L.useRef(null);L.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let O=M=>{M.forEach(z=>{c(z.isIntersecting)})},A=new IntersectionObserver(O,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[s]),L.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let x=()=>{l(!0)},C=()=>{l(!1),c(!1)};return i?s!=="intent"?[u,_,{}]:[u,_,{onFocus:Gr(f,x),onBlur:Gr(p,C),onMouseEnter:Gr(m,x),onMouseLeave:Gr(g,C),onTouchStart:Gr(v,x)}]:[!1,_,{}]}function Gr(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function t_({page:s,...t}){let{router:i}=By(),r=L.useMemo(()=>Sy(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?L.createElement(n_,{page:s,matches:r,...t}):null}function e_(s){let{manifest:t,routeModules:i}=Hy(),[r,l]=L.useState([]);return L.useEffect(()=>{let u=!1;return jb(s,t,i).then(c=>{u||l(c)}),()=>{u=!0}},[s,t,i]),r}function n_({page:s,matches:t,...i}){let r=pi(),{manifest:l,routeModules:u}=Hy(),{basename:c}=By(),{loaderData:f,matches:p}=Kb(),m=L.useMemo(()=>cg(s,t,p,l,r,"data"),[s,t,p,l,r]),g=L.useMemo(()=>cg(s,t,p,l,r,"assets"),[s,t,p,l,r]),v=L.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let C=new Set,O=!1;if(t.forEach(M=>{var B;let z=l.routes[M.route.id];!z||!z.hasLoader||(!m.some(q=>q.route.id===M.route.id)&&M.route.id in f&&((B=u[M.route.id])!=null&&B.shouldRevalidate)||z.hasClientLoader?O=!0:C.add(M.route.id))}),C.size===0)return[];let A=$b(s,c);return O&&C.size>0&&A.searchParams.set("_routes",t.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[c,f,r,l,m,t,s,u]),_=L.useMemo(()=>Vb(g,l),[g,l]),x=e_(g);return L.createElement(L.Fragment,null,v.map(C=>L.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),_.map(C=>L.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),x.map(({key:C,link:O})=>L.createElement("link",{key:C,...O})))}function i_(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gy&&(window.__reactRouterVersion="7.5.2")}catch{}function s_({basename:s,children:t,window:i}){let r=L.useRef();r.current==null&&(r.current=j1({window:i,v5Compat:!0}));let l=r.current,[u,c]=L.useState({action:l.action,location:l.location}),f=L.useCallback(p=>{L.startTransition(()=>c(p))},[c]);return L.useLayoutEffect(()=>l.listen(f),[l,f]),L.createElement(Ub,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:l})}var Ny=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zs=L.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:l,reloadDocument:u,replace:c,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,..._},x){let{basename:C}=L.useContext(pn),O=typeof m=="string"&&Ny.test(m),A,M=!1;if(typeof m=="string"&&O&&(A=m,Gy))try{let it=new URL(window.location.href),tt=m.startsWith("//")?new URL(it.protocol+m):new URL(m),nt=Nn(tt.pathname,C);tt.origin===it.origin&&nt!=null?m=nt+tt.search+tt.hash:M=!0}catch{dn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=yb(m,{relative:l}),[B,q,j]=Jb(r,_),W=o_(m,{replace:c,state:f,target:p,preventScrollReset:g,relative:l,viewTransition:v});function Z(it){t&&t(it),it.defaultPrevented||W(it)}let rt=L.createElement("a",{..._,...j,href:A||z,onClick:M||u?t:Z,ref:i_(x,q),target:p,"data-discover":!O&&i==="render"?"true":void 0});return B&&!O?L.createElement(L.Fragment,null,rt,L.createElement(t_,{page:z})):rt});zs.displayName="Link";var r_=L.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:c,viewTransition:f,children:p,...m},g){let v=fa(c,{relative:m.relative}),_=pi(),x=L.useContext(Zl),{navigator:C,basename:O}=L.useContext(pn),A=x!=null&&d_(v)&&f===!0,M=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,z=_.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(z=z.toLowerCase(),B=B?B.toLowerCase():null,M=M.toLowerCase()),B&&O&&(B=Nn(B,O)||B);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let j=z===M||!l&&z.startsWith(M)&&z.charAt(q)==="/",W=B!=null&&(B===M||!l&&B.startsWith(M)&&B.charAt(M.length)==="/"),Z={isActive:j,isPending:W,isTransitioning:A},rt=j?t:void 0,it;typeof r=="function"?it=r(Z):it=[r,j?"active":null,W?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let tt=typeof u=="function"?u(Z):u;return L.createElement(zs,{...m,"aria-current":rt,className:it,ref:g,style:tt,to:c,viewTransition:f},typeof p=="function"?p(Z):p)});r_.displayName="NavLink";var a_=L.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:l,state:u,method:c=Pl,action:f,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:v,..._},x)=>{let C=h_(),O=f_(f,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&Ny.test(f),z=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,j=(q==null?void 0:q.getAttribute("formmethod"))||c;C(q||B.currentTarget,{fetcherKey:t,method:j,navigate:i,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:v})};return L.createElement("form",{ref:x,method:A,action:O,onSubmit:r?p:z,..._,"data-discover":!M&&s==="render"?"true":void 0})});a_.displayName="Form";function l_(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ky(s){let t=L.useContext(Hs);return Ft(t,l_(s)),t}function o_(s,{target:t,replace:i,state:r,preventScrollReset:l,relative:u,viewTransition:c}={}){let f=vb(),p=pi(),m=fa(s,{relative:u});return L.useCallback(g=>{if(Pb(g,t)){g.preventDefault();let v=i!==void 0?i:ea(p)===ea(m);f(s,{replace:v,state:r,preventScrollReset:l,relative:u,viewTransition:c})}},[p,f,m,i,r,t,s,l,u,c])}var u_=0,c_=()=>`__${String(++u_)}__`;function h_(){let{router:s}=ky("useSubmit"),{basename:t}=L.useContext(pn),i=Rb();return L.useCallback(async(r,l={})=>{let{action:u,method:c,encType:f,formData:p,body:m}=Xb(r,t);if(l.navigate===!1){let g=l.fetcherKey||c_();await s.fetch(g,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,t,i])}function f_(s,{relative:t}={}){let{basename:i}=L.useContext(pn),r=L.useContext(mn);Ft(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...fa(s||".",{relative:t})},c=pi();if(s==null){u.search=c.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Bn([i,u.pathname])),ea(u)}function d_(s,t={}){let i=L.useContext(Ey);Ft(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ky("useViewTransitionState"),l=fa(s,{relative:t.relative});if(!i.isTransitioning)return!1;let u=Nn(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=Nn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Vl(l.pathname,c)!=null||Vl(l.pathname,u)!=null}new TextEncoder;[...Qb];function p_(){return $.jsx($.Fragment,{children:$.jsx("header",{children:$.jsx("nav",{className:"nav",children:$.jsx("div",{className:"nav-wrapper",children:$.jsx("div",{className:"nav-content-wrapper",children:$.jsxs("div",{className:"nav-content",children:[$.jsx(zs,{to:"/",className:"nav-title",children:"Math Art"}),$.jsxs("div",{className:"nav-menu",children:[$.jsxs("div",{className:"dropdown",children:[$.jsx("div",{className:"nav-item-wrapper",children:$.jsx("button",{className:"nav-item-content",children:"Gallerys"})}),$.jsx("div",{className:"dropdown-content",children:$.jsx(zs,{to:"/gallery/spin",children:"Spin Art"})})]}),$.jsx("div",{className:"nav-item-wrapper",children:$.jsx(zs,{to:"/about",className:"nav-item-content",children:"About"})})]})]})})})})})})}function m_(){return $.jsx("main",{children:$.jsx("section",{className:"featured-display",children:$.jsxs("div",{className:"section-content",children:[$.jsx("h1",{className:"section-head",children:"Welcome to Math Art!"}),$.jsx("p",{children:"This is a place where mathematical art meets interactivity."})]})})})}const g_="modulepreload",y_=function(s){return"/MathArt/"+s},hg={},Il=function(t,i,r){let l=Promise.resolve();if(i&&i.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=c(i.map(m=>{if(m=y_(m),m in hg)return;hg[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":g_,g||(_.as="script"),_.crossOrigin="",_.href=m,p&&_.setAttribute("nonce",p),document.head.appendChild(_),g)return new Promise((x,C)=>{_.addEventListener("load",x),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var zt=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))(zt||{});const dh=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},El=(s,t)=>dh(s).priority??t,$e={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(dh).forEach(t=>{t.type.forEach(i=>{var r,l;return(l=(r=this._removeHandlers)[i])==null?void 0:l.call(r,t)})}),this},add(...s){return s.map(dh).forEach(t=>{t.type.forEach(i=>{var u,c;const r=this._addHandlers,l=this._queue;r[i]?(c=r[i])==null||c.call(r,t):(l[i]=l[i]||[],(u=l[i])==null||u.push(t))})}),this},handle(s,t,i){var c;const r=this._addHandlers,l=this._removeHandlers;if(r[s]||l[s])throw new Error(`Extension type ${s} already has a handler`);r[s]=t,l[s]=i;const u=this._queue;return u[s]&&((c=u[s])==null||c.forEach(f=>t(f)),delete u[s]),this},handleByMap(s,t){return this.handle(s,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByNamedList(s,t,i=-1){return this.handle(s,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,c)=>El(c.value,i)-El(u.value,i)))},r=>{const l=t.findIndex(u=>u.name===r.name);l!==-1&&t.splice(l,1)})},handleByList(s,t,i=-1){return this.handle(s,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((l,u)=>El(u,i)-El(l,i)))},r=>{const l=t.indexOf(r.ref);l!==-1&&t.splice(l,1)})},mixin(s,...t){for(const i of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(i))}},v_={extension:{type:zt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Il(()=>import("./browserAll-CDoOsur7.js"),__vite__mapDeps([0,1,2,3]))}},x_={extension:{type:zt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Il(()=>import("./webworkerAll-BtdZrcuU.js"),__vite__mapDeps([1,2,3]))}};class Pe{constructor(t,i,r){this._x=i||0,this._y=r||0,this._observer=t}clone(t){return new Pe(t??this._observer,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Rc={exports:{}},fg;function b_(){return fg||(fg=1,function(s){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function l(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function u(p,m,g,v,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var x=new l(g,v||p,_),C=i?i+m:m;return p._events[C]?p._events[C].fn?p._events[C]=[p._events[C],x]:p._events[C].push(x):(p._events[C]=x,p._eventsCount++),p}function c(p,m){--p._eventsCount===0?p._events=new r:delete p._events[m]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,v;if(this._eventsCount===0)return m;for(v in g=this._events)t.call(g,v)&&m.push(i?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m){var g=i?i+m:m,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,x=v.length,C=new Array(x);_<x;_++)C[_]=v[_].fn;return C},f.prototype.listenerCount=function(m){var g=i?i+m:m,v=this._events[g];return v?v.fn?1:v.length:0},f.prototype.emit=function(m,g,v,_,x,C){var O=i?i+m:m;if(!this._events[O])return!1;var A=this._events[O],M=arguments.length,z,B;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,v),!0;case 4:return A.fn.call(A.context,g,v,_),!0;case 5:return A.fn.call(A.context,g,v,_,x),!0;case 6:return A.fn.call(A.context,g,v,_,x,C),!0}for(B=1,z=new Array(M-1);B<M;B++)z[B-1]=arguments[B];A.fn.apply(A.context,z)}else{var q=A.length,j;for(B=0;B<q;B++)switch(A[B].once&&this.removeListener(m,A[B].fn,void 0,!0),M){case 1:A[B].fn.call(A[B].context);break;case 2:A[B].fn.call(A[B].context,g);break;case 3:A[B].fn.call(A[B].context,g,v);break;case 4:A[B].fn.call(A[B].context,g,v,_);break;default:if(!z)for(j=1,z=new Array(M-1);j<M;j++)z[j-1]=arguments[j];A[B].fn.apply(A[B].context,z)}}return!0},f.prototype.on=function(m,g,v){return u(this,m,g,v,!1)},f.prototype.once=function(m,g,v){return u(this,m,g,v,!0)},f.prototype.removeListener=function(m,g,v,_){var x=i?i+m:m;if(!this._events[x])return this;if(!g)return c(this,x),this;var C=this._events[x];if(C.fn)C.fn===g&&(!_||C.once)&&(!v||C.context===v)&&c(this,x);else{for(var O=0,A=[],M=C.length;O<M;O++)(C[O].fn!==g||_&&!C[O].once||v&&C[O].context!==v)&&A.push(C[O]);A.length?this._events[x]=A.length===1?A[0]:A:c(this,x)}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=i?i+m:m,this._events[g]&&c(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=i,f.EventEmitter=f,s.exports=f}(Rc)),Rc.exports}var __=b_();const kn=ua(__),S_=Math.PI*2,w_=180/Math.PI,A_=Math.PI/180;class At{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new At(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Oc.x=0,Oc.y=0,Oc}}const Oc=new At;class Ct{constructor(t=1,i=0,r=0,l=1,u=0,c=0){this.array=null,this.a=t,this.b=i,this.c=r,this.d=l,this.tx=u,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,r,l,u,c){return this.a=t,this.b=i,this.c=r,this.d=l,this.tx=u,this.ty=c,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const r=i||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,i){i=i||new At;const r=t.x,l=t.y;return i.x=this.a*r+this.c*l+this.tx,i.y=this.b*r+this.d*l+this.ty,i}applyInverse(t,i){i=i||new At;const r=this.a,l=this.b,u=this.c,c=this.d,f=this.tx,p=this.ty,m=1/(r*c+u*-l),g=t.x,v=t.y;return i.x=c*m*g+-u*m*v+(p*u-f*c)*m,i.y=r*m*v+-l*m*g+(-p*r+f*l)*m,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),r=Math.sin(t),l=this.a,u=this.c,c=this.tx;return this.a=l*i-this.b*r,this.b=l*r+this.b*i,this.c=u*i-this.d*r,this.d=u*r+this.d*i,this.tx=c*i-this.ty*r,this.ty=c*r+this.ty*i,this}append(t){const i=this.a,r=this.b,l=this.c,u=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*r+t.b*u,this.c=t.c*i+t.d*l,this.d=t.c*r+t.d*u,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,i){const r=t.a,l=t.b,u=t.c,c=t.d,f=t.tx,p=t.ty,m=i.a,g=i.b,v=i.c,_=i.d;return this.a=r*m+l*v,this.b=r*g+l*_,this.c=u*m+c*v,this.d=u*g+c*_,this.tx=f*m+p*v+i.tx,this.ty=f*g+p*_+i.ty,this}setTransform(t,i,r,l,u,c,f,p,m){return this.a=Math.cos(f+m)*u,this.b=Math.sin(f+m)*u,this.c=-Math.sin(f-p)*c,this.d=Math.cos(f-p)*c,this.tx=t-(r*this.a+l*this.c),this.ty=i-(r*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,l=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,r=this.b,l=this.c,u=this.d,c=t.pivot,f=-Math.atan2(-l,u),p=Math.atan2(r,i),m=Math.abs(f+p);return m<1e-5||Math.abs(S_-m)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=p),t.scale.x=Math.sqrt(i*i+r*r),t.scale.y=Math.sqrt(l*l+u*u),t.position.x=this.tx+(c.x*i+c.y*l),t.position.y=this.ty+(c.x*r+c.y*u),t}invert(){const t=this.a,i=this.b,r=this.c,l=this.d,u=this.tx,c=t*l-i*r;return this.a=l/c,this.b=-i/c,this.c=-r/c,this.d=t/c,this.tx=(r*this.ty-l*u)/c,this.ty=-(t*this.ty-i*u)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Ct;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return T_.identity()}static get shared(){return C_.identity()}}const C_=new Ct,T_=new Ct,Bi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Hi=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Gi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ni=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ph=[],Py=[],Rl=Math.sign;function M_(){for(let s=0;s<16;s++){const t=[];ph.push(t);for(let i=0;i<16;i++){const r=Rl(Bi[s]*Bi[i]+Gi[s]*Hi[i]),l=Rl(Hi[s]*Bi[i]+Ni[s]*Hi[i]),u=Rl(Bi[s]*Gi[i]+Gi[s]*Ni[i]),c=Rl(Hi[s]*Gi[i]+Ni[s]*Ni[i]);for(let f=0;f<16;f++)if(Bi[f]===r&&Hi[f]===l&&Gi[f]===u&&Ni[f]===c){t.push(f);break}}}for(let s=0;s<16;s++){const t=new Ct;t.set(Bi[s],Hi[s],Gi[s],Ni[s],0,0),Py.push(t)}}M_();const Xt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Bi[s],uY:s=>Hi[s],vX:s=>Gi[s],vY:s=>Ni[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>ph[s][t],sub:(s,t)=>ph[s][Xt.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?Xt.S:Xt.N:Math.abs(t)*2<=Math.abs(s)?s>0?Xt.E:Xt.W:t>0?s>0?Xt.SE:Xt.SW:s>0?Xt.NE:Xt.NW,matrixAppendRotationInv:(s,t,i=0,r=0)=>{const l=Py[Xt.inv(t)];l.tx=i,l.ty=r,s.append(l)}},Ol=[new At,new At,new At,new At];class It{constructor(t=0,i=0,r=0,l=0){this.type="rectangle",this.x=Number(t),this.y=Number(i),this.width=Number(r),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new It(0,0,0,0)}clone(){return new It(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}strokeContains(t,i,r,l=.5){const{width:u,height:c}=this;if(u<=0||c<=0)return!1;const f=this.x,p=this.y,m=r*(1-l),g=r-m,v=f-m,_=f+u+m,x=p-m,C=p+c+m,O=f+g,A=f+u-g,M=p+g,z=p+c-g;return t>=v&&t<=_&&i>=x&&i<=C&&!(t>O&&t<A&&i>M&&i<z)}intersects(t,i){if(!i){const rt=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=rt)return!1;const tt=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>tt}const r=this.left,l=this.right,u=this.top,c=this.bottom;if(l<=r||c<=u)return!1;const f=Ol[0].set(t.left,t.top),p=Ol[1].set(t.left,t.bottom),m=Ol[2].set(t.right,t.top),g=Ol[3].set(t.right,t.bottom);if(m.x<=f.x||p.y<=f.y)return!1;const v=Math.sign(i.a*i.d-i.b*i.c);if(v===0||(i.apply(f,f),i.apply(p,p),i.apply(m,m),i.apply(g,g),Math.max(f.x,p.x,m.x,g.x)<=r||Math.min(f.x,p.x,m.x,g.x)>=l||Math.max(f.y,p.y,m.y,g.y)<=u||Math.min(f.y,p.y,m.y,g.y)>=c))return!1;const _=v*(p.y-f.y),x=v*(f.x-p.x),C=_*r+x*u,O=_*l+x*u,A=_*r+x*c,M=_*l+x*c;if(Math.max(C,O,A,M)<=_*f.x+x*f.y||Math.min(C,O,A,M)>=_*g.x+x*g.y)return!1;const z=v*(f.y-m.y),B=v*(m.x-f.x),q=z*r+B*u,j=z*l+B*u,W=z*r+B*c,Z=z*l+B*c;return!(Math.max(q,j,W,Z)<=z*f.x+B*f.y||Math.min(q,j,W,Z)>=z*g.x+B*g.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(r-i,0),this.y=l,this.height=Math.max(u-l,0),this}ceil(t=1,i=.001){const r=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=r-this.x,this.height=l-this.y,this}enlarge(t){const i=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=r-i,this.y=l,this.height=u-l,this}getBounds(t){return t||(t=new It),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const i=t.x,r=t.y,l=t.x+t.width,u=t.y+t.height;return i>=this.x&&i<this.x+this.width&&r>=this.y&&r<this.y+this.height&&l>=this.x&&l<this.x+this.width&&u>=this.y&&u<this.y+this.height}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const zc={default:-1};function Jt(s="default"){return zc[s]===void 0&&(zc[s]=-1),++zc[s]}const dg={},Kt="8.0.0",E_="8.3.4";function mt(s,t,i=3){if(dg[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(r=r.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(r))),dg[t]=!0}const Yy=()=>{};function pg(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function mg(s){return!(s&s-1)&&!!s}function Ly(s){const t={};for(const i in s)s[i]!==void 0&&(t[i]=s[i]);return t}const gg=Object.create(null);function R_(s){const t=gg[s];return t===void 0&&(gg[s]=Jt("resource")),t}const Xy=class Fy extends kn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Fy.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){mt(Kt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=R_(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Xy.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let O_=Xy;const qy=class jy extends kn{constructor(t={}){super(),this.options=t,this.uid=Jt("textureSource"),this._resourceType="textureSource",this._resourceId=Jt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...jy.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new O_(Ly(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var i,r;this.style!==t&&((i=this._style)==null||i.off("change",this._onStyleChange,this),this._style=t,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Jt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,i,r){r||(r=this._resolution),t||(t=this.width),i||(i=this.height);const l=Math.round(t*r),u=Math.round(i*r);return this.width=l/r,this.height=u/r,this._resolution=r,this.pixelWidth===l&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Jt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=mg(this.pixelWidth)&&mg(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};qy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let gn=qy;class jh extends gn{constructor(t){const i=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(i instanceof Float32Array?r="rgba32float":i instanceof Int32Array||i instanceof Uint32Array?r="rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?r="rgba16uint":(i instanceof Int8Array,r="bgra8unorm")),super({...t,resource:i,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}jh.extension=zt.TextureSource;const yg=new Ct;class z_{constructor(t,i){this.mapCoord=new Ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof i>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=i,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var i;this.texture!==t&&((i=this._texture)==null||i.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,i){i===void 0&&(i=t);const r=this.mapCoord;for(let l=0;l<t.length;l+=2){const u=t[l],c=t[l+1];i[l]=u*r.a+c*r.c+r.tx,i[l+1]=u*r.b+c*r.d+r.ty}return i}update(){const t=this._texture;this._updateID++;const i=t.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const r=t.orig,l=t.trim;l&&(yg.set(r.width/l.width,0,0,r.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(yg));const u=t.source,c=this.uClampFrame,f=this.clampMargin/u._resolution,p=this.clampOffset/u._resolution;return c[0]=(t.frame.x+f+p)/u.width,c[1]=(t.frame.y+f+p)/u.height,c[2]=(t.frame.x+t.frame.width-f+p)/u.width,c[3]=(t.frame.y+t.frame.height-f+p)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class Gt extends kn{constructor({source:t,label:i,frame:r,orig:l,trim:u,defaultAnchor:c,defaultBorders:f,rotate:p,dynamic:m}={}){if(super(),this.uid=Jt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new It,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=(t==null?void 0:t.source)??new gn,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:g,height:v}=this._source;this.frame.width=g,this.frame.height=v}this.orig=l||this.frame,this.trim=u,this.rotate=p??0,this.defaultAnchor=c,this.defaultBorders=f,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new z_(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:i}=this,{width:r,height:l}=this._source,u=i.x/r,c=i.y/l,f=i.width/r,p=i.height/l;let m=this.rotate;if(m){const g=f/2,v=p/2,_=u+g,x=c+v;m=Xt.add(m,Xt.NW),t.x0=_+g*Xt.uX(m),t.y0=x+v*Xt.uY(m),m=Xt.add(m,2),t.x1=_+g*Xt.uX(m),t.y1=x+v*Xt.uY(m),m=Xt.add(m,2),t.x2=_+g*Xt.uX(m),t.y2=x+v*Xt.uY(m),m=Xt.add(m,2),t.x3=_+g*Xt.uX(m),t.y3=x+v*Xt.uY(m)}else t.x0=u,t.y0=c,t.x1=u+f,t.y1=c,t.x2=u+f,t.y2=c+p,t.x3=u,t.y3=c+p}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return mt(Kt,"Texture.baseTexture is now Texture.source"),this._source}}Gt.EMPTY=new Gt({label:"EMPTY",source:new gn({label:"EMPTY"})});Gt.EMPTY.destroy=Yy;Gt.WHITE=new Gt({source:new jh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Gt.WHITE.destroy=Yy;function D_(s,t,i){const{width:r,height:l}=i.orig,u=i.trim;if(u){const c=u.width,f=u.height;s.minX=u.x-t._x*r,s.maxX=s.minX+c,s.minY=u.y-t._y*l,s.maxY=s.minY+f}else s.minX=-t._x*r,s.maxX=s.minX+r,s.minY=-t._y*l,s.maxY=s.minY+l}const vg=new Ct;class sn{constructor(t=1/0,i=1/0,r=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=vg,this.minX=t,this.minY=i,this.maxX=r,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new It);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=vg,this}set(t,i,r,l){this.minX=t,this.minY=i,this.maxX=r,this.maxY=l}addFrame(t,i,r,l,u){u||(u=this.matrix);const c=u.a,f=u.b,p=u.c,m=u.d,g=u.tx,v=u.ty;let _=this.minX,x=this.minY,C=this.maxX,O=this.maxY,A=c*t+p*i+g,M=f*t+m*i+v;A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=c*r+p*i+g,M=f*r+m*i+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=c*t+p*l+g,M=f*t+m*l+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=c*r+p*l+g,M=f*r+m*l+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),this.minX=_,this.minY=x,this.maxX=C,this.maxY=O}addRect(t,i){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,i)}addBounds(t,i){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,i)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const i=this.minX,r=this.minY,l=this.maxX,u=this.maxY,{a:c,b:f,c:p,d:m,tx:g,ty:v}=t;let _=c*i+p*r+g,x=f*i+m*r+v;this.minX=_,this.minY=x,this.maxX=_,this.maxY=x,_=c*l+p*r+g,x=f*l+m*r+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=c*i+p*u+g,x=f*i+m*u+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=c*l+p*u+g,x=f*l+m*u+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,i,r,l){return this.minX<t&&(this.minX=t),this.maxX>i&&(this.maxX=i),this.minY<r&&(this.minY=r),this.maxY>l&&(this.maxY=l),this}pad(t,i=t){return this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new sn(this.minX,this.minY,this.maxX,this.maxY)}scale(t,i=t){return this.minX*=t,this.minY*=i,this.maxX*=t,this.maxY*=i,this}get x(){return this.minX}set x(t){const i=this.maxX-this.minX;this.minX=t,this.maxX=t+i}get y(){return this.minY}set y(t){const i=this.maxY-this.minY;this.minY=t,this.maxY=t+i}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,i,r,l){let u=this.minX,c=this.minY,f=this.maxX,p=this.maxY;l||(l=this.matrix);const m=l.a,g=l.b,v=l.c,_=l.d,x=l.tx,C=l.ty;for(let O=i;O<r;O+=2){const A=t[O],M=t[O+1],z=m*A+v*M+x,B=g*A+_*M+C;u=z<u?z:u,c=B<c?B:c,f=z>f?z:f,p=B>p?B:p}this.minX=u,this.minY=c,this.maxX=f,this.maxY=p}containsPoint(t,i){return this.minX<=t&&this.minY<=i&&this.maxX>=t&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var U_={grad:.9,turn:360,rad:360/(2*Math.PI)},Dn=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},ae=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i+0},Qe=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s>t?s:t},Vy=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},xg=function(s){return{r:Qe(s.r,0,255),g:Qe(s.g,0,255),b:Qe(s.b,0,255),a:Qe(s.a)}},Dc=function(s){return{r:ae(s.r),g:ae(s.g),b:ae(s.b),a:ae(s.a,3)}},B_=/^#([0-9a-f]{3,8})$/i,zl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Iy=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=Math.max(t,i,r),c=u-Math.min(t,i,r),f=c?u===t?(i-r)/c:u===i?2+(r-t)/c:4+(t-i)/c:0;return{h:60*(f<0?f+6:f),s:u?c/u*100:0,v:u/255*100,a:l}},Wy=function(s){var t=s.h,i=s.s,r=s.v,l=s.a;t=t/360*6,i/=100,r/=100;var u=Math.floor(t),c=r*(1-i),f=r*(1-(t-u)*i),p=r*(1-(1-t+u)*i),m=u%6;return{r:255*[r,f,c,c,p,r][m],g:255*[p,r,r,f,c,c][m],b:255*[c,c,p,r,r,f][m],a:l}},bg=function(s){return{h:Vy(s.h),s:Qe(s.s,0,100),l:Qe(s.l,0,100),a:Qe(s.a)}},_g=function(s){return{h:ae(s.h),s:ae(s.s),l:ae(s.l),a:ae(s.a,3)}},Sg=function(s){return Wy((i=(t=s).s,{h:t.h,s:(i*=((r=t.l)<50?r:100-r)/100)>0?2*i/(r+i)*100:0,v:r+i,a:t.a}));var t,i,r},Qr=function(s){return{h:(t=Iy(s)).h,s:(l=(200-(i=t.s))*(r=t.v)/100)>0&&l<200?i*r/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,r,l},H_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,G_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,N_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,k_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,mh={string:[[function(s){var t=B_.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ae(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?ae(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=N_.exec(s)||k_.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:xg({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=H_.exec(s)||G_.exec(s);if(!t)return null;var i,r,l=bg({h:(i=t[1],r=t[2],r===void 0&&(r="deg"),Number(i)*(U_[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Sg(l)},"hsl"]],object:[[function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=l===void 0?1:l;return Dn(t)&&Dn(i)&&Dn(r)?xg({r:Number(t),g:Number(i),b:Number(r),a:Number(u)}):null},"rgb"],[function(s){var t=s.h,i=s.s,r=s.l,l=s.a,u=l===void 0?1:l;if(!Dn(t)||!Dn(i)||!Dn(r))return null;var c=bg({h:Number(t),s:Number(i),l:Number(r),a:Number(u)});return Sg(c)},"hsl"],[function(s){var t=s.h,i=s.s,r=s.v,l=s.a,u=l===void 0?1:l;if(!Dn(t)||!Dn(i)||!Dn(r))return null;var c=function(f){return{h:Vy(f.h),s:Qe(f.s,0,100),v:Qe(f.v,0,100),a:Qe(f.a)}}({h:Number(t),s:Number(i),v:Number(r),a:Number(u)});return Wy(c)},"hsv"]]},wg=function(s,t){for(var i=0;i<t.length;i++){var r=t[i][0](s);if(r)return[r,t[i][1]]}return[null,void 0]},P_=function(s){return typeof s=="string"?wg(s.trim(),mh.string):typeof s=="object"&&s!==null?wg(s,mh.object):[null,void 0]},Uc=function(s,t){var i=Qr(s);return{h:i.h,s:Qe(i.s+100*t,0,100),l:i.l,a:i.a}},Bc=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},Ag=function(s,t){var i=Qr(s);return{h:i.h,s:i.s,l:Qe(i.l+100*t,0,100),a:i.a}},gh=function(){function s(t){this.parsed=P_(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return ae(Bc(this.rgba),2)},s.prototype.isDark=function(){return Bc(this.rgba)<.5},s.prototype.isLight=function(){return Bc(this.rgba)>=.5},s.prototype.toHex=function(){return t=Dc(this.rgba),i=t.r,r=t.g,l=t.b,c=(u=t.a)<1?zl(ae(255*u)):"","#"+zl(i)+zl(r)+zl(l)+c;var t,i,r,l,u,c},s.prototype.toRgb=function(){return Dc(this.rgba)},s.prototype.toRgbString=function(){return t=Dc(this.rgba),i=t.r,r=t.g,l=t.b,(u=t.a)<1?"rgba("+i+", "+r+", "+l+", "+u+")":"rgb("+i+", "+r+", "+l+")";var t,i,r,l,u},s.prototype.toHsl=function(){return _g(Qr(this.rgba))},s.prototype.toHslString=function(){return t=_g(Qr(this.rgba)),i=t.h,r=t.s,l=t.l,(u=t.a)<1?"hsla("+i+", "+r+"%, "+l+"%, "+u+")":"hsl("+i+", "+r+"%, "+l+"%)";var t,i,r,l,u},s.prototype.toHsv=function(){return t=Iy(this.rgba),{h:ae(t.h),s:ae(t.s),v:ae(t.v),a:ae(t.a,3)};var t},s.prototype.invert=function(){return hn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),hn(Uc(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),hn(Uc(this.rgba,-t))},s.prototype.grayscale=function(){return hn(Uc(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),hn(Ag(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),hn(Ag(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?hn({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):ae(this.rgba.a,3);var i},s.prototype.hue=function(t){var i=Qr(this.rgba);return typeof t=="number"?hn({h:t,s:i.s,l:i.l,a:i.a}):ae(i.h)},s.prototype.isEqual=function(t){return this.toHex()===hn(t).toHex()},s}(),hn=function(s){return s instanceof gh?s:new gh(s)},Cg=[],Y_=function(s){s.forEach(function(t){Cg.indexOf(t)<0&&(t(gh,mh),Cg.push(t))})};function L_(s,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var l in i)r[i[l]]=l;var u={};s.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,p,m=r[this.toHex()];if(m)return m;if(c!=null&&c.closest){var g=this.toRgb(),v=1/0,_="black";if(!u.length)for(var x in i)u[x]=new s(i[x]).toRgb();for(var C in i){var O=(f=g,p=u[C],Math.pow(f.r-p.r,2)+Math.pow(f.g-p.g,2)+Math.pow(f.b-p.b,2));O<v&&(v=O,_=C)}return _}},t.string.push([function(c){var f=c.toLowerCase(),p=f==="transparent"?"#0000":i[f];return p?new s(p).toRgb():null},"name"])}Y_([L_]);const Ds=class jr{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof jr)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,i){const r=typeof t;if(r!==typeof i)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((u,c)=>u===i[c]);if(t!==null&&i!==null){const u=Object.keys(t),c=Object.keys(i);return u.length!==c.length?!1:u.every(f=>t[f]===i[f])}return t===i}toRgba(){const[t,i,r,l]=this._components;return{r:t,g:i,b:r,a:l}}toRgb(){const[t,i,r]=this._components;return{r:t,g:i,b:r}}toRgbaString(){const[t,i,r]=this.toUint8RgbArray();return`rgba(${t},${i},${r},${this.alpha})`}toUint8RgbArray(t){const[i,r,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(i*255),t[1]=Math.round(r*255),t[2]=Math.round(l*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[i,r,l,u]=this._components;return t[0]=i,t[1]=r,t[2]=l,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[i,r,l]=this._components;return t[0]=i,t[1]=r,t[2]=l,t}toNumber(){return this._int}toBgrNumber(){const[t,i,r]=this.toUint8RgbArray();return(r<<16)+(i<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,r,l,u]=jr._temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=r,this._components[2]*=l,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let r=this._int>>16&255,l=this._int>>8&255,u=this._int&255;return i&&(r=r*t+.5|0,l=l*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(l<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const i=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-i.length)+i}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let i,r,l,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;i=(c>>16&255)/255,r=(c>>8&255)/255,l=(c&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,r,l,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,r,l,u=255]=t,i/=255,r/=255,l/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=jr.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const c=hn(t);c.isValid()&&({r:i,g:r,b:l,a:u}=c.rgba,i/=255,r/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=r,this._components[2]=l,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,i,r]=this._components;this._int=(t*255<<16)+(i*255<<8)+(r*255|0)}_clamp(t,i=0,r=1){return typeof t=="number"?Math.min(Math.max(t,i),r):(t.forEach((l,u)=>{t[u]=Math.min(Math.max(l,i),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof jr||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Ds.shared=new Ds;Ds._temp=new Ds;Ds.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Me=Ds;const X_={cullArea:null,cullable:!1,cullableChildren:!0};class Vh{constructor(t,i){this._pool=[],this._count=0,this._index=0,this._classType=t,i&&this.prepopulate(i)}prepopulate(t){for(let i=0;i<t;i++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var r;let i;return this._index>0?i=this._pool[--this._index]:i=new this._classType,(r=i.init)==null||r.call(i,t),i}return(t){var i;(i=t.reset)==null||i.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class F_{constructor(){this._poolsByClass=new Map}prepopulate(t,i){this.getPool(t).prepopulate(i)}get(t,i){return this.getPool(t).get(i)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Vh(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(i=>{const r=t[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;t[r]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),t}}const Hn=new F_,q_={get isCachedAsTexture(){var s;return!!((s=this.renderGroup)!=null&&s.isCachedAsTexture)},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){var s;(s=this.renderGroup)==null||s.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){mt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function j_(s,t,i){const r=s.length;let l;if(t>=r||i===0)return;i=t+i>r?r-t:i;const u=r-i;for(l=t;l<u;++l)s[l]=s[l+i];s.length=u}const V_={allowChildren:!0,removeChildren(s=0,t){const i=t??this.children.length,r=i-s,l=[];if(r>0&&r<=i){for(let c=i-1;c>=s;c--){const f=this.children[c];f&&(l.push(f),f.parent=null)}j_(this.children,s,i);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(l);for(let c=0;c<l.length;++c)this.emit("childRemoved",l[c],this,c),l[c].emit("removed",this);return l.length>0&&this._didViewChangeTick++,l}else if(r===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||mt(Kt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(t<0||t>i.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${i.length}`);if(s.parent){const l=s.parent.children.indexOf(s);if(s.parent===this&&l===t)return s;l!==-1&&s.parent.children.splice(l,1)}t===i.length?i.push(s):i.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const i=this.getChildIndex(s),r=this.getChildIndex(t);this.children[i]=t,this.children[r]=s;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var s;(s=this.parent)==null||s.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const i=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const r=this.worldTransform.clone();return r.invert(),i.prepend(r),s.setFromMatrix(i),s}},I_={collectRenderables(s,t,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,i):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,i))},collectRenderablesSimple(s,t,i){const r=this.children,l=r.length;for(let u=0;u<l;u++)r[u].collectRenderables(s,t,i)},collectRenderablesWithEffects(s,t,i){const{renderPipes:r}=t;for(let l=0;l<this.effects.length;l++){const u=this.effects[l];r[u.pipe].push(u,this,s)}this.collectRenderablesSimple(s,t,i);for(let l=this.effects.length-1;l>=0;l--){const u=this.effects[l];r[u.pipe].pop(u,this,s)}}};class Tg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class W_{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const r=this._tests[i];if(r.test(t))return Hn.get(r.maskClass,t)}return t}returnMaskEffect(t){Hn.return(t)}}const yh=new W_;$e.handleByList(zt.MaskEffect,yh._effectClasses);const Z_={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((i,r)=>i.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;(t==null?void 0:t.mask)!==s&&(t&&(this.removeEffect(t),yh.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=yh.getMaskEffect(s),this.addEffect(this._maskEffect)))},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},get mask(){var s;return(s=this._maskEffect)==null?void 0:s.mask},set filters(s){var u;!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new Tg);s=s;const i=(s==null?void 0:s.length)>0,r=((u=t.filters)==null?void 0:u.length)>0,l=i!==r;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),l&&(i?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){var s;return(s=this._filterEffect)==null?void 0:s.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new Tg),this._filterEffect.filterArea=s},get filterArea(){var s;return(s=this._filterEffect)==null?void 0:s.filterArea}},Q_={label:null,get name(){return mt(Kt,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){mt(Kt,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const i=this.children;for(let r=0;r<i.length;r++){const l=i[r];if(l.label===s||s instanceof RegExp&&s.test(l.label))return l}if(t)for(let r=0;r<i.length;r++){const u=i[r].getChildByLabel(s,!0);if(u)return u}return null},getChildrenByLabel(s,t=!1,i=[]){const r=this.children;for(let l=0;l<r.length;l++){const u=r[l];(u.label===s||s instanceof RegExp&&s.test(u.label))&&i.push(u)}if(t)for(let l=0;l<r.length;l++)r[l].getChildrenByLabel(s,!0,i);return i}},ye=new Vh(Ct),Gn=new Vh(sn),$_=new Ct,K_={getFastGlobalBounds(s,t){t||(t=new sn),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(i.worldTransform),t},_getGlobalBoundsRecursive(s,t,i){let r=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==i||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(r=Gn.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;r.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const u=this.children;for(let c=0;c<u.length;c++)u[c]._getGlobalBoundsRecursive(s,r,i)}if(l){let u=!1;const c=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(c.worldTransform)),this.effects[f].addBounds(r,!0));u&&(r.applyMatrix(c.worldTransform.copyTo($_).invert()),t.addBounds(r,this.relativeGroupTransform)),t.addBounds(r),Gn.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),Gn.return(r))}};function Zy(s,t,i){i.clear();let r,l;return s.parent?t?r=s.parent.worldTransform:(l=ye.get().identity(),r=Ih(s,l)):r=Ct.IDENTITY,Qy(s,i,r,t),l&&ye.return(l),i.isValid||i.set(0,0,0,0),i}function Qy(s,t,i,r){var f,p;if(!s.visible||!s.measurable)return;let l;r?l=s.worldTransform:(s.updateLocalTransform(),l=ye.get(),l.appendFrom(s.localTransform,i));const u=t,c=!!s.effects.length;if(c&&(t=Gn.get().clear()),s.boundsArea)t.addRect(s.boundsArea,l);else{s.bounds&&(t.matrix=l,t.addBounds(s.bounds));for(let m=0;m<s.children.length;m++)Qy(s.children[m],t,l,r)}if(c){for(let m=0;m<s.effects.length;m++)(p=(f=s.effects[m]).addBounds)==null||p.call(f,t);u.addBounds(t,Ct.IDENTITY),Gn.return(t)}r||ye.return(l)}function Ih(s,t){const i=s.parent;return i&&(Ih(i,t),i.updateLocalTransform(),t.append(i.localTransform)),t}function $y(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const i=s>>16&255,r=s>>8&255,l=s&255,u=t>>16&255,c=t>>8&255,f=t&255,p=i*u/255|0,m=r*c/255|0,g=l*f/255|0;return(p<<16)+(m<<8)+g}const Mg=16777215;function Eg(s,t){return s===Mg?t:t===Mg?s:$y(s,t)}function Ll(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const J_={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,i=this.parent;for(;i;)t*=i.alpha,i=i.parent;return t},getGlobalTransform(s,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const i=Ih(this,ye.get().identity());return s.appendFrom(this.localTransform,i),ye.return(i),s},getGlobalTint(s){if(s)return this.renderGroup?Ll(this.renderGroup.worldColor):this.parentRenderGroup?Ll(Eg(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,i=this.parent;for(;i;)t=Eg(t,i.localColor),i=i.parent;return Ll(t)}};let Hc=0;const Rg=500;function Ye(...s){Hc!==Rg&&(Hc++,Hc===Rg?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}function Ky(s,t,i){return t.clear(),i||(i=Ct.IDENTITY),Jy(s,t,i,s,!0),t.isValid||t.set(0,0,0,0),t}function Jy(s,t,i,r,l){var p,m;let u;if(l)u=ye.get(),u=i.copyTo(u);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const g=s.localTransform;u=ye.get(),u.appendFrom(g,i)}const c=t,f=!!s.effects.length;if(f&&(t=Gn.get().clear()),s.boundsArea)t.addRect(s.boundsArea,u);else{s.renderPipeId&&(t.matrix=u,t.addBounds(s.bounds));const g=s.children;for(let v=0;v<g.length;v++)Jy(g[v],t,u,r,!1)}if(f){for(let g=0;g<s.effects.length;g++)(m=(p=s.effects[g]).addLocalBounds)==null||m.call(p,t,r);c.addBounds(t,Ct.IDENTITY),Gn.return(t)}ye.return(u)}function t0(s,t){const i=s.children;for(let r=0;r<i.length;r++){const l=i[r],u=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==c)&&(t.data[t.index]=u,t.data[t.index+1]=c,t.didChange=!0),t.index=f+2,l.children.length&&t0(l,t)}return t.didChange}const t2=new Ct,e2={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const i=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*i:this.scale.x=i},_setHeight(s,t){const i=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*i:this.scale.y=i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new sn});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),t0(this,s),s.didChange&&Ky(this,s.localBounds,t2),s.localBounds},getBounds(s,t){return Zy(this,s,t||new sn)}},n2={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},i2={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(s2))}};function s2(s,t){return s._zIndex-t._zIndex}const r2={getGlobalPosition(s=new At,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,i=!1){const r=this.getGlobalTransform(ye.get(),i);return t=r.apply(s,t),ye.return(r),t},toLocal(s,t,i,r){t&&(s=t.toGlobal(s,i,r));const l=this.getGlobalTransform(ye.get(),r);return i=l.applyInverse(s,i),ye.return(l),i}};class e0{constructor(){this.uid=Jt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let a2=0;class l2{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,i,r){const l=new gn({...this.textureOptions,width:t,height:i,resolution:1,antialias:r,autoGarbageCollect:!1});return new Gt({source:l,label:`texturePool_${a2++}`})}getOptimalTexture(t,i,r=1,l){let u=Math.ceil(t*r-1e-6),c=Math.ceil(i*r-1e-6);u=pg(u),c=pg(c);const f=(u<<17)+(c<<1)+(l?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let p=this._texturePool[f].pop();return p||(p=this.createTexture(u,c,l)),p.source._resolution=r,p.source.width=u/r,p.source.height=c/r,p.source.pixelWidth=u,p.source.pixelHeight=c,p.frame.x=0,p.frame.y=0,p.frame.width=t,p.frame.height=i,p.updateUvs(),this._poolKeyHash[p.uid]=f,p}getSameSizeTexture(t,i=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,i)}returnTexture(t){const i=this._poolKeyHash[t.uid];this._texturePool[i].push(t)}clear(t){if(t=t!==!1,t)for(const i in this._texturePool){const r=this._texturePool[i];if(r)for(let l=0;l<r.length;l++)r[l].destroy(!0)}this._texturePool={}}}const Yi=new l2;class o2{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Ct,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new e0,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const i=t.children;for(let r=0;r<i.length;r++){const l=i[r];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Yi.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const i=this.childrenToUpdate[t];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const i=this.renderGroupChildren.indexOf(t);i>-1&&this.renderGroupChildren.splice(i,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const i=t.children;for(let r=0;r<i.length;r++)this.addChild(i[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const i=t.children;for(let r=0;r<i.length;r++)this.removeChild(i[r])}removeChildren(t){for(let i=0;i<t.length;i++)this.removeChild(t[i])}onChildUpdate(t){let i=this.childrenToUpdate[t.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const i=this.root.children;for(let r=0;r<i.length;r++)this._getChildren(i[r],t);return t}_getChildren(t,i=[]){if(i.push(t),t.renderGroup)return i;const r=t.children;for(let l=0;l<r.length;l++)this._getChildren(r[l],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Ct),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Ct),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Ct),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function u2(s,t,i={}){for(const r in t)!i[r]&&t[r]!==void 0&&(s[r]=t[r])}const Gc=new Pe(null),Nc=new Pe(null),kc=new Pe(null,1,1),Og=1,c2=2,Pc=4;class Pn extends kn{constructor(t={}){var i,r;super(),this.uid=Jt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Ct,this.relativeGroupTransform=new Ct,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Pe(this,0,0),this._scale=kc,this._pivot=Nc,this._skew=Gc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],u2(this,t,{children:!0,parent:!0,effects:!0}),(i=t.children)==null||i.forEach(l=>this.addChild(l)),(r=t.parent)==null||r.addChild(this)}static mixin(t){mt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),$e.mixin(Pn,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||mt(Kt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let l=0;l<t.length;l++)this.addChild(t[l]);return t[0]}const i=t[0],r=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),r&&(r.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,r&&r.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,i._zIndex!==0&&i.depthOfChildModified(),i)}removeChild(...t){if(t.length>1){for(let l=0;l<t.length;l++)this.removeChild(t[l]);return t[0]}const i=t[0],r=this.children.indexOf(i);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,r),i.emit("removed",this)),i}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Hn.get(o2,this),this.groupTransform=Ct.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Hn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Ct),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*w_}set angle(t){this.rotation=t*A_}get pivot(){return this._pivot===Nc&&(this._pivot=new Pe(this,0,0)),this._pivot}set pivot(t){this._pivot===Nc&&(this._pivot=new Pe(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Gc&&(this._skew=new Pe(this,0,0)),this._skew}set skew(t){this._skew===Gc&&(this._skew=new Pe(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===kc&&(this._scale=new Pe(this,1,1)),this._scale}set scale(t){this._scale===kc&&(this._scale=new Pe(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const i=this.getLocalBounds().width;this._setWidth(t,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const i=this.getLocalBounds().height;this._setHeight(t,i)}getSize(t){t||(t={});const i=this.getLocalBounds();return t.width=Math.abs(this.scale.x*i.width),t.height=Math.abs(this.scale.y*i.height),t}setSize(t,i){const r=this.getLocalBounds();typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,r.width),i!==void 0&&this._setHeight(i,r.height)}_updateSkew(){const t=this._rotation,i=this._skew;this._cx=Math.cos(t+i._y),this._sx=Math.sin(t+i._y),this._cy=-Math.sin(t-i._x),this._sy=Math.cos(t-i._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const i=this.localTransform,r=this._scale,l=this._pivot,u=this._position,c=r._x,f=r._y,p=l._x,m=l._y;i.a=this._cx*c,i.b=this._sx*c,i.c=this._cy*f,i.d=this._sy*f,i.tx=u._x-(p*i.a+m*i.c),i.ty=u._y-(p*i.b+m*i.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=Og,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=Me.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=Og,this._onUpdate())}get tint(){return Ll(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=c2,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const i=t?2:0;(this.localDisplayStatus&2)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Pc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const i=t?0:4;(this.localDisplayStatus&4)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Pc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const i=t?1:0;(this.localDisplayStatus&1)!==i&&(this._updateFlags|=Pc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var l;if(this.destroyed)return;this.destroyed=!0;let i;if(this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&i)for(let u=0;u<i.length;++u)i[u].destroy(t);(l=this.renderGroup)==null||l.destroy(),this.renderGroup=null}}$e.mixin(Pn,V_,K_,r2,n2,e2,Z_,Q_,i2,X_,q_,J_,I_);class n0 extends Pn{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new sn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const i=this.bounds,{x:r,y:l}=t;return r>=i.minX&&r<=i.maxX&&l>=i.minY&&l<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}collectRenderablesSimple(t,i,r){const{renderPipes:l,renderableGC:u}=i;l.blendMode.setBlendMode(this,this.groupBlendMode,t),l[this.renderPipeId].addRenderable(this,t),u.addRenderable(this),this.didViewUpdate=!1;const f=this.children,p=f.length;for(let m=0;m<p;m++)f[m].collectRenderables(t,i,r)}}class na extends n0{constructor(t=Gt.EMPTY){t instanceof Gt&&(t={texture:t});const{texture:i=Gt.EMPTY,anchor:r,roundPixels:l,width:u,height:c,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Pe({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=l??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}static from(t,i=!1){return t instanceof Gt?new na(t):new na(Gt.from(t,i))}set texture(t){t||(t=Gt.EMPTY);const i=this._texture;i!==t&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return D_(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return mt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,i=this._texture,r=this._bounds,{width:l,height:u}=i.orig;r.minX=-t._x*l,r.maxX=r.minX+l,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const h2=new sn;function i0(s,t,i){const r=h2;s.measurable=!0,Zy(s,i,r),t.addBoundsMask(r),s.measurable=!1}function s0(s,t,i){const r=Gn.get();s.measurable=!0;const l=ye.get().identity(),u=r0(s,i,l);Ky(s,r,u),s.measurable=!1,t.addBoundsMask(r),ye.return(l),Gn.return(r)}function r0(s,t,i){return s?(s!==t&&(r0(s.parent,t,i),s.updateLocalTransform(),i.append(s.localTransform)),i):(Ye("Mask bounds, renderable is not inside the root container"),i)}class a0{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof na),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,i){this.inverse||i0(this.mask,t,i)}addLocalBounds(t,i){s0(this.mask,t,i)}containsPoint(t,i){const r=this.mask;return i(r,t)}destroy(){this.reset()}static test(t){return t instanceof na}}a0.extension=zt.MaskEffect;class l0{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}l0.extension=zt.MaskEffect;class o0{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,i){i0(this.mask,t,i)}addLocalBounds(t,i){s0(this.mask,t,i)}containsPoint(t,i){const r=this.mask;return i(r,t)}destroy(){this.reset()}static test(t){return t instanceof Pn}}o0.extension=zt.MaskEffect;const f2={createCanvas:(s,t)=>{const i=document.createElement("canvas");return i.width=s,i.height=t,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let zg=f2;const di={get(){return zg},set(s){zg=s}};class u0 extends gn{constructor(t){t.resource||(t.resource=di.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,i=this.height,r=this._resolution){const l=super.resize(t,i,r);return l&&this.resizeCanvas(),l}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}u0.extension=zt.TextureSource;class Wl extends gn{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const i=di.get().createCanvas(t.resource.width,t.resource.height);i.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=i,Ye("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Wl.extension=zt.TextureSource;var vh=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(vh||{});class Yc{constructor(t,i=null,r=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=i,this.priority=r,this._once=l}match(t,i=null){return this._fn===t&&this._context===i}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const c0=class ke{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Yc(null,null,1/0),this.deltaMS=1/ke.targetFPMS,this.elapsedMS=1/ke.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,r=vh.NORMAL){return this._addListener(new Yc(t,i,r))}addOnce(t,i,r=vh.NORMAL){return this._addListener(new Yc(t,i,r,!0))}_addListener(t){let i=this._head.next,r=this._head;if(!i)t.connect(r);else{for(;i;){if(t.priority>i.priority){t.connect(r);break}r=i,i=i.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,i){let r=this._head.next;for(;r;)r.match(t,i)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*ke.targetFPMS;const r=this._head;let l=r.next;for(;l;)l=l.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,i)/1e3,ke.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!ke._shared){const t=ke._shared=new ke;t.autoStart=!0,t._protected=!0}return ke._shared}static get system(){if(!ke._system){const t=ke._system=new ke;t.autoStart=!0,t._protected=!0}return ke._system}};c0.targetFPMS=.06;let Vr=c0,Lc;async function d2(){return Lc??(Lc=(async()=>{var c;const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const i=await new Promise(f=>{const p=document.createElement("video");p.onloadeddata=()=>f(p),p.onerror=()=>f(null),p.autoplay=!1,p.crossOrigin="anonymous",p.preload="auto",p.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",p.load()});if(!i)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const l=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,l),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(l),t.deleteTexture(r),(c=t.getExtension("WEBGL_lose_context"))==null||c.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Lc}const $l=class h0 extends gn{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...h0.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=Vr.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,i=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await d2(),this._load=new Promise((r,l)=>{this.isValid?r(this):(this._resolve=r,this._reject=l,i.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(Vr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Vr.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Vr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};$l.extension=zt.TextureSource;$l.defaultOptions={...gn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};$l.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let p2=$l;const Rs=(s,t,i=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(r=>typeof r=="string"||i?t(r):r):s);class m2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||Ye(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const r=Rs(t);let l;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.test(i)){l=m.getCacheableAssets(r,i);break}}const u=new Map(Object.entries(l||{}));l||r.forEach(p=>{u.set(p,i)});const c=[...u.keys()],f={cacheKeys:c,keys:r};r.forEach(p=>{this._cacheMap.set(p,f)}),c.forEach(p=>{const m=l?l[p]:i;this._cache.has(p)&&this._cache.get(p)!==m&&Ye("[Cache] already has key:",p),this._cache.set(p,u.get(p))})}remove(t){if(!this._cacheMap.has(t)){Ye(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(l=>{this._cache.delete(l)}),i.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Os=new m2,xh=[];$e.handleByList(zt.TextureSource,xh);function f0(s={}){const t=s&&s.resource,i=t?s.resource:s,r=t?s:{resource:s};for(let l=0;l<xh.length;l++){const u=xh[l];if(u.test(i))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function g2(s={},t=!1){const i=s&&s.resource,r=i?s.resource:s,l=i?s:{resource:s};if(!t&&Os.has(r))return Os.get(r);const u=new Gt({source:f0(l)});return u.on("destroy",()=>{Os.has(r)&&Os.remove(r)}),t||Os.set(r,u),u}function y2(s,t=!1){return typeof s=="string"?Os.get(s):s instanceof gn?new Gt({source:s}):g2(s,t)}Gt.from=y2;gn.from=f0;$e.add(a0,l0,o0,p2,Wl,u0,jh);var d0=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(d0||{});function nn(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function Nr(s){return s.split("?")[0].split("#")[0]}function v2(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function x2(s,t,i){return s.replace(new RegExp(v2(t),"g"),i)}function b2(s,t){let i="",r=0,l=-1,u=0,c=-1;for(let f=0;f<=s.length;++f){if(f<s.length)c=s.charCodeAt(f);else{if(c===47)break;c=47}if(c===47){if(!(l===f-1||u===1))if(l!==f-1&&u===2){if(i.length<2||r!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const p=i.lastIndexOf("/");if(p!==i.length-1){p===-1?(i="",r=0):(i=i.slice(0,p),r=i.length-1-i.lastIndexOf("/")),l=f,u=0;continue}}else if(i.length===2||i.length===1){i="",r=0,l=f,u=0;continue}}}else i.length>0?i+=`/${s.slice(l+1,f)}`:i=s.slice(l+1,f),r=f-l-1;l=f,u=0}else c===46&&u!==-1?++u:u=-1}return i}const ia={toPosix(s){return x2(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){nn(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(s);return i?i[0]:""},toAbsolute(s,t,i){if(nn(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const r=Nr(this.toPosix(t??di.get().getBaseUrl())),l=Nr(this.toPosix(i??this.rootname(r)));return s=this.toPosix(s),s.startsWith("/")?ia.join(l,s.slice(1)):this.isAbsolute(s)?s:this.join(r,s)},normalize(s){if(nn(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const i=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const r=s.endsWith("/");return s=b2(s),s.length>0&&r&&(s+="/"),i?`/${s}`:t+s},isAbsolute(s){return nn(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let i=0;i<s.length;++i){const r=s[i];if(nn(r),r.length>0)if(t===void 0)t=r;else{const l=s[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(nn(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const i=t===47;let r=-1,l=!0;const u=this.getProtocol(s),c=s;s=s.slice(u.length);for(let f=s.length-1;f>=1;--f)if(t=s.charCodeAt(f),t===47){if(!l){r=f;break}}else l=!1;return r===-1?i?"/":this.isUrl(c)?u+s:u:i&&r===1?"//":u+s.slice(0,r)},rootname(s){nn(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const i=s.indexOf("/",t.length);i!==-1?t=s.slice(0,i):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){nn(s),t&&nn(t),s=Nr(this.toPosix(s));let i=0,r=-1,l=!0,u;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let c=t.length-1,f=-1;for(u=s.length-1;u>=0;--u){const p=s.charCodeAt(u);if(p===47){if(!l){i=u+1;break}}else f===-1&&(l=!1,f=u+1),c>=0&&(p===t.charCodeAt(c)?--c===-1&&(r=u):(c=-1,r=f))}return i===r?r=f:r===-1&&(r=s.length),s.slice(i,r)}for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!l){i=u+1;break}}else r===-1&&(l=!1,r=u+1);return r===-1?"":s.slice(i,r)},extname(s){nn(s),s=Nr(this.toPosix(s));let t=-1,i=0,r=-1,l=!0,u=0;for(let c=s.length-1;c>=0;--c){const f=s.charCodeAt(c);if(f===47){if(!l){i=c+1;break}continue}r===-1&&(l=!1,r=c+1),f===46?t===-1?t=c:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===i+1?"":s.slice(t,r)},parse(s){nn(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=Nr(this.toPosix(s));let i=s.charCodeAt(0);const r=this.isAbsolute(s);let l;t.root=this.rootname(s),r||this.hasProtocol(s)?l=1:l=0;let u=-1,c=0,f=-1,p=!0,m=s.length-1,g=0;for(;m>=l;--m){if(i=s.charCodeAt(m),i===47){if(!p){c=m+1;break}continue}f===-1&&(p=!1,f=m+1),i===46?u===-1?u=m:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===c+1?f!==-1&&(c===0&&r?t.base=t.name=s.slice(1,f):t.base=t.name=s.slice(c,f)):(c===0&&r?(t.name=s.slice(1,u),t.base=s.slice(1,f)):(t.name=s.slice(c,u),t.base=s.slice(c,f)),t.ext=s.slice(u,f)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function p0(s,t,i,r,l){const u=t[i];for(let c=0;c<u.length;c++){const f=u[c];i<t.length-1?p0(s.replace(r[i],f),t,i+1,r,l):l.push(s.replace(r[i],f))}}function _2(s){const t=/\{(.*?)\}/g,i=s.match(t),r=[];if(i){const l=[];i.forEach(u=>{const c=u.substring(1,u.length-1).split(",");l.push(c)}),p0(s,l,0,i,r)}else r.push(s);return r}const Dg=s=>!Array.isArray(s);class m0{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(i[r])}`).join("&")}}getAlias(t){const{alias:i,src:r}=t;return Rs(i||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(c=>(c==null?void 0:c.src)??c):u!=null&&u.src?u.src:u,!0)}addManifest(t){this._manifest&&Ye("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const r=[];let l=i;Array.isArray(i)||(l=Object.entries(i).map(([u,c])=>typeof c=="string"||Array.isArray(c)?{alias:u,src:c}:{alias:u,...c})),l.forEach(u=>{const c=u.src,f=u.alias;let p;if(typeof f=="string"){const m=this._createBundleAssetId(t,f);r.push(m),p=[f,m]}else{const m=f.map(g=>this._createBundleAssetId(t,g));r.push(...m),p=[...f,...m]}this.add({...u,alias:p,src:c})}),this._bundles[t]=r}add(t){const i=[];Array.isArray(t)?i.push(...t):i.push(t);let r;r=u=>{this.hasKey(u)&&Ye(`[Resolver] already has key: ${u} overwriting`)},Rs(i).forEach(u=>{const{src:c}=u;let{data:f,format:p,loadParser:m}=u;const g=Rs(c).map(x=>typeof x=="string"?_2(x):Array.isArray(x)?x:[x]),v=this.getAlias(u);Array.isArray(v)?v.forEach(r):r(v);const _=[];g.forEach(x=>{x.forEach(C=>{let O={};if(typeof C!="object"){O.src=C;for(let A=0;A<this._parsers.length;A++){const M=this._parsers[A];if(M.test(C)){O=M.parse(C);break}}}else f=C.data??f,p=C.format??p,m=C.loadParser??m,O={...O,...C};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${O.src}`);O=this._buildResolvedAsset(O,{aliases:v,data:f,format:p,loadParser:m}),_.push(O)})}),v.forEach(x=>{this._assetMap[x]=_})})}resolveBundle(t){const i=Dg(t);t=Rs(t);const r={};return t.forEach(l=>{const u=this._bundles[l];if(u){const c=this.resolve(u),f={};for(const p in c){const m=c[p];f[this._extractAssetIdFromBundle(l,p)]=m}r[l]=f}}),i?r[t[0]]:r}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const r={};for(const l in i)r[l]=i[l].src;return r}return i.src}resolve(t){const i=Dg(t);t=Rs(t);const r={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let u=this._assetMap[l];const c=this._getPreferredOrder(u);c==null||c.priority.forEach(f=>{c.params[f].forEach(p=>{const m=u.filter(g=>g[f]?g[f]===p:!1);m.length&&(u=m)})}),this._resolverHash[l]=u[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});r[l]=this._resolverHash[l]}),i?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const r=t[i],l=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}_buildResolvedAsset(t,i){const{aliases:r,data:l,loadParser:u,format:c}=i;return(this._basePath||this._rootPath)&&(t.src=ia.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=u??t.loadParser,t.format=c??t.format??S2(t.src),t}}m0.RETINA_PREFIX=/@([0-9\.]+)x/;function S2(s){return s.split(".").pop().split("?").shift().split("#").shift()}const Ug=(s,t)=>{const i=t.split("?")[1];return i&&(s+=`?${i}`),s},g0=class Ir{constructor(t,i){this.linkedSheets=[],this._texture=t instanceof Gt?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=i;const r=parseFloat(i.meta.scale);r?(this.resolution=r,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ir.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const r=Ir.BATCH_SIZE;for(;i-t<r&&i<this._frameKeys.length;){const l=this._frameKeys[i],u=this._frames[l],c=u.frame;if(c){let f=null,p=null;const m=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new It(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);u.rotated?f=new It(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):f=new It(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(p=new It(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new Gt({source:this.textureSource,frame:f,orig:g,trim:p,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:l.toString()})}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let r=0;r<t[i].length;r++){const l=t[i][r];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ir.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ir.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var i;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((i=this._texture)==null||i.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};g0.BATCH_SIZE=1e3;let Bg=g0;const w2=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function y0(s,t,i){const r={};if(s.forEach(l=>{r[l]=t}),Object.keys(t.textures).forEach(l=>{r[l]=t.textures[l]}),!i){const l=ia.dirname(s[0]);t.linkedSheets.forEach((u,c)=>{const f=y0([`${l}/${t.data.meta.related_multi_packs[c]}`],u,!0);Object.assign(r,f)})}return r}const A2={extension:zt.Asset,cache:{test:s=>s instanceof Bg,getCacheableAssets:(s,t)=>y0(s,t,!1)},resolver:{extension:{type:zt.ResolveParser,name:"resolveSpritesheet"},test:s=>{const i=s.split("?")[0].split("."),r=i.pop(),l=i.pop();return r==="json"&&w2.includes(l)},parse:s=>{var i;const t=s.split(".");return{resolution:parseFloat(((i=m0.RETINA_PREFIX.exec(s))==null?void 0:i[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:zt.LoadParser,priority:d0.Normal,name:"spritesheetLoader"},async testParse(s,t){return ia.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,i){var g,v;const{texture:r,imageFilename:l,textureOptions:u}=(t==null?void 0:t.data)??{};let c=ia.dirname(t.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let f;if(r instanceof Gt)f=r;else{const _=Ug(c+(l??s.meta.image),t.src);f=(await i.load([{src:_,data:u}]))[_]}const p=new Bg(f.source,s);await p.parse();const m=(g=s==null?void 0:s.meta)==null?void 0:g.related_multi_packs;if(Array.isArray(m)){const _=[];for(const C of m){if(typeof C!="string")continue;let O=c+C;(v=t.data)!=null&&v.ignoreMultiPack||(O=Ug(O,t.src),_.push(i.load({src:O,data:{textureOptions:u,ignoreMultiPack:!0}})))}const x=await Promise.all(_);p.linkedSheets=x,x.forEach(C=>{C.linkedSheets=[p].concat(p.linkedSheets.filter(O=>O!==C))})}return p},async unload(s,t,i){await i.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};$e.add(A2);const Xc=Object.create(null),Hg=Object.create(null);function Wh(s,t){let i=Hg[s];return i===void 0&&(Xc[t]===void 0&&(Xc[t]=1),Hg[s]=i=Xc[t]++),i}let Ms;function v0(){return(!Ms||Ms!=null&&Ms.isContextLost())&&(Ms=di.get().createCanvas().getContext("webgl",{})),Ms}let Dl;function C2(){if(!Dl){Dl="mediump";const s=v0();s&&s.getShaderPrecisionFormat&&(Dl=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Dl}function T2(s,t,i){return t?s:i?(s=s.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function M2(s,t,i){const r=i?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let l=i?t.requestedFragmentPrecision:t.requestedVertexPrecision;return l==="highp"&&r!=="highp"&&(l="mediump"),`precision ${l} float;
${s}`}else if(r!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function E2(s,t){return t?`#version 300 es
${s}`:s}const R2={},O2={};function z2(s,{name:t="pixi-program"},i=!0){t=t.replace(/\s+/g,"-"),t+=i?"-fragment":"-vertex";const r=i?R2:O2;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function D2(s,t){return t?s.replace("#version 300 es",""):s}const Fc={stripVersion:D2,ensurePrecision:M2,addProgramDefines:T2,setProgramName:z2,insertVersion:E2},qc=Object.create(null),x0=class bh{constructor(t){t={...bh.defaultOptions,...t};const i=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:C2()},setProgramName:{name:t.name},addProgramDefines:i,insertVersion:i};let l=t.fragment,u=t.vertex;Object.keys(Fc).forEach(c=>{const f=r[c];l=Fc[c](l,f,!0),u=Fc[c](u,f,!1)}),this.fragment=l,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Wh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const i=`${t.vertex}:${t.fragment}`;return qc[i]||(qc[i]=new bh(t)),qc[i]}};x0.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Yn=x0;const Gg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function U2(s){return Gg[s]??Gg.float32}const B2={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function H2({source:s,entryPoint:t}){const i={},r=s.indexOf(`fn ${t}`);if(r!==-1){const l=s.indexOf("->",r);if(l!==-1){const u=s.substring(r,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=c.exec(u))!==null;){const p=B2[f[3]]??"float32";i[f[2]]={location:parseInt(f[1],10),format:p,stride:U2(p).stride,offset:0,instance:!1,start:0}}}}return i}function jc(s){var v,_;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,p=/struct\s+(\w+)/,m=(v=s.match(t))==null?void 0:v.map(x=>({group:parseInt(x.match(i)[1],10),binding:parseInt(x.match(r)[1],10),name:x.match(l)[2],isUniform:x.match(l)[1]==="<uniform>",type:x.match(u)[1]}));if(!m)return{groups:[],structs:[]};const g=((_=s.match(c))==null?void 0:_.map(x=>{const C=x.match(p)[1],O=x.match(f).reduce((A,M)=>{const[z,B]=M.split(":");return A[z.trim()]=B.trim(),A},{});return O?{name:C,members:O}:null}).filter(({name:x})=>m.some(C=>C.type===x)))??[];return{groups:m,structs:g}}var Wr=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(Wr||{});function G2({groups:s}){const t=[];for(let i=0;i<s.length;i++){const r=s[i];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:Wr.VERTEX|Wr.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:Wr.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:Wr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function N2({groups:s}){const t=[];for(let i=0;i<s.length;i++){const r=s[i];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function k2(s,t){const i=new Set,r=new Set,l=[...s.structs,...t.structs].filter(c=>i.has(c.name)?!1:(i.add(c.name),!0)),u=[...s.groups,...t.groups].filter(c=>{const f=`${c.name}-${c.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:l,groups:u}}const Vc=Object.create(null);class rn{constructor(t){var f,p;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:r,layout:l,gpuLayout:u,name:c}=t;if(this.name=c,this.fragment=i,this.vertex=r,i.source===r.source){const m=jc(i.source);this.structsAndGroups=m}else{const m=jc(r.source),g=jc(i.source);this.structsAndGroups=k2(m,g)}this.layout=l??N2(this.structsAndGroups),this.gpuLayout=u??G2(this.structsAndGroups),this.autoAssignGlobalUniforms=((f=this.layout[0])==null?void 0:f.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((p=this.layout[1])==null?void 0:p.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:i}=this,r=t.source+i.source+t.entryPoint+i.entryPoint;this._layoutKey=Wh(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=H2(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const i=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Vc[i]||(Vc[i]=new rn(t)),Vc[i]}}const b0=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],P2=b0.reduce((s,t)=>(s[t]=!0,s),{});function Y2(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const _0=class S0{constructor(t,i){this._touched=0,this.uid=Jt("uniform"),this._resourceType="uniformGroup",this._resourceId=Jt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...S0.defaultOptions,...i},this.uniformStructures=t;const r={};for(const l in t){const u=t[l];if(u.name=l,u.size=u.size??1,!P2[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${b0.join(", ")}`);u.value??(u.value=Y2(u.type,u.size)),r[l]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=Wh(Object.keys(r).map(l=>`${l}-${t[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};_0.defaultOptions={ubo:!1,isStatic:!1};let Zh=_0;class Xl{constructor(t){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const r in t){const l=t[r];this.setResource(l,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let i=0;for(const r in this.resources)t[i++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,i){var l,u;const r=this.resources[i];t!==r&&(r&&((l=t.off)==null||l.call(t,"change",this.onResourceChange,this)),(u=t.on)==null||u.call(t,"change",this.onResourceChange,this),this.resources[i]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const i=this.resources;for(const r in i)i[r]._touched=t}destroy(){var i;const t=this.resources;for(const r in t){const l=t[r];(i=l.off)==null||i.call(l,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const i=this.resources;for(const r in i)i[r]===t&&(i[r]=null)}else this._updateKey()}}var sa=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(sa||{});class Kl extends kn{constructor(t){super(),this.uid=Jt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:i,glProgram:r,groups:l,resources:u,compatibleRenderers:c,groupMap:f}=t;this.gpuProgram=i,this.glProgram=r,c===void 0&&(c=0,i&&(c|=sa.WEBGPU),r&&(c|=sa.WEBGL)),this.compatibleRenderers=c;const p={};if(!u&&!l&&(u={}),u&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&l&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&l&&f)for(const m in f)for(const g in f[m]){const v=f[m][g];p[v]={group:m,binding:g,name:v}}else if(i&&l&&!f){const m=i.structsAndGroups.groups;f={},m.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,p[g.name]=g})}else if(u){l={},f={},i&&i.structsAndGroups.groups.forEach(v=>{f[v.group]=f[v.group]||{},f[v.group][v.binding]=v.name,p[v.name]=v});let m=0;for(const g in u)p[g]||(l[99]||(l[99]=new Xl,this._ownedBindGroups.push(l[99])),p[g]={group:99,binding:m,name:g},f[99]=f[99]||{},f[99][m]=g,m++);for(const g in u){const v=g;let _=u[g];!_.source&&!_._resourceType&&(_=new Zh(_));const x=p[v];x&&(l[x.group]||(l[x.group]=new Xl,this._ownedBindGroups.push(l[x.group])),l[x.group].setResource(_,x.binding))}}this.groups=l,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(l,p)}addResource(t,i,r){var l,u;(l=this._uniformBindMap)[i]||(l[i]={}),(u=this._uniformBindMap[i])[r]||(u[r]=t),this.groups[i]||(this.groups[i]=new Xl,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(t,i){const r={};for(const l in i){const u=i[l];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(c){t[u.group].setResource(c,u.binding)}})}return r}destroy(t=!1){var i,r;this.emit("destroy",this),t&&((i=this.gpuProgram)==null||i.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(l=>{l.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:i,gl:r,...l}=t;let u,c;return i&&(u=rn.from(i)),r&&(c=Yn.from(r)),new Kl({gpuProgram:u,glProgram:c,...l})}}const L2={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},Ic=0,Wc=1,Zc=2,Qc=3,$c=4,Kc=5,_h=class w0{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Ic)}set blend(t){!!(this.data&1<<Ic)!==t&&(this.data^=1<<Ic)}get offsets(){return!!(this.data&1<<Wc)}set offsets(t){!!(this.data&1<<Wc)!==t&&(this.data^=1<<Wc)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Zc)}set culling(t){!!(this.data&1<<Zc)!==t&&(this.data^=1<<Zc)}get depthTest(){return!!(this.data&1<<Qc)}set depthTest(t){!!(this.data&1<<Qc)!==t&&(this.data^=1<<Qc)}get depthMask(){return!!(this.data&1<<Kc)}set depthMask(t){!!(this.data&1<<Kc)!==t&&(this.data^=1<<Kc)}get clockwiseFrontFace(){return!!(this.data&1<<$c)}set clockwiseFrontFace(t){!!(this.data&1<<$c)!==t&&(this.data^=1<<$c)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=L2[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new w0;return t.depthTest=!1,t.blend=!0,t}};_h.default2d=_h.for2d();let X2=_h;const A0=class Sh extends Kl{constructor(t){t={...Sh.defaultOptions,...t},super(t),this.enabled=!0,this._state=X2.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(t,i,r,l){t.applyFilter(this,i,r,l)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:i,gl:r,...l}=t;let u,c;return i&&(u=rn.from(i)),r&&(c=Yn.from(r)),new Sh({gpuProgram:u,glProgram:c,...l})}};A0.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let Li=A0;const wh=[];$e.handleByNamedList(zt.Environment,wh);async function F2(s){if(!s)for(let t=0;t<wh.length;t++){const i=wh[t];if(i.value.test()){await i.value.load();return}}}let kr;function q2(){if(typeof kr=="boolean")return kr;try{kr=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{kr=!1}return kr}var Ul={exports:{}},Ng;function j2(){if(Ng)return Ul.exports;Ng=1,Ul.exports=s,Ul.exports.default=s;function s(b,T,R){R=R||2;var k=T&&T.length,w=k?T[0]*R:b.length,D=t(b,0,w,R,!0),G=[];if(!D||D.next===D.prev)return G;var X,K,J,et,ht,at,Et;if(k&&(D=p(b,T,D,R)),b.length>80*R){X=J=b[0],K=et=b[1];for(var _t=R;_t<w;_t+=R)ht=b[_t],at=b[_t+1],ht<X&&(X=ht),at<K&&(K=at),ht>J&&(J=ht),at>et&&(et=at);Et=Math.max(J-X,et-K),Et=Et!==0?32767/Et:0}return r(D,G,R,X,K,Et,0),G}function t(b,T,R,k,w){var D,G;if(w===kt(b,T,R,k)>0)for(D=T;D<R;D+=k)G=ft(D,b[D],b[D+1],G);else for(D=R-k;D>=T;D-=k)G=ft(D,b[D],b[D+1],G);return G&&q(G,G.next)&&(bt(G),G=G.next),G}function i(b,T){if(!b)return b;T||(T=b);var R=b,k;do if(k=!1,!R.steiner&&(q(R,R.next)||B(R.prev,R,R.next)===0)){if(bt(R),R=T=R.prev,R===R.next)break;k=!0}else R=R.next;while(k||R!==T);return T}function r(b,T,R,k,w,D,G){if(b){!G&&D&&x(b,k,w,D);for(var X=b,K,J;b.prev!==b.next;){if(K=b.prev,J=b.next,D?u(b,k,w,D):l(b)){T.push(K.i/R|0),T.push(b.i/R|0),T.push(J.i/R|0),bt(b),b=J.next,X=J.next;continue}if(b=J,b===X){G?G===1?(b=c(i(b),T,R),r(b,T,R,k,w,D,2)):G===2&&f(b,T,R,k,w,D):r(i(b),T,R,k,w,D,1);break}}}}function l(b){var T=b.prev,R=b,k=b.next;if(B(T,R,k)>=0)return!1;for(var w=T.x,D=R.x,G=k.x,X=T.y,K=R.y,J=k.y,et=w<D?w<G?w:G:D<G?D:G,ht=X<K?X<J?X:J:K<J?K:J,at=w>D?w>G?w:G:D>G?D:G,Et=X>K?X>J?X:J:K>J?K:J,_t=k.next;_t!==T;){if(_t.x>=et&&_t.x<=at&&_t.y>=ht&&_t.y<=Et&&M(w,X,D,K,G,J,_t.x,_t.y)&&B(_t.prev,_t,_t.next)>=0)return!1;_t=_t.next}return!0}function u(b,T,R,k){var w=b.prev,D=b,G=b.next;if(B(w,D,G)>=0)return!1;for(var X=w.x,K=D.x,J=G.x,et=w.y,ht=D.y,at=G.y,Et=X<K?X<J?X:J:K<J?K:J,_t=et<ht?et<at?et:at:ht<at?ht:at,ve=X>K?X>J?X:J:K>J?K:J,le=et>ht?et>at?et:at:ht>at?ht:at,xe=O(Et,_t,T,R,k),be=O(ve,le,T,R,k),pt=b.prevZ,St=b.nextZ;pt&&pt.z>=xe&&St&&St.z<=be;){if(pt.x>=Et&&pt.x<=ve&&pt.y>=_t&&pt.y<=le&&pt!==w&&pt!==G&&M(X,et,K,ht,J,at,pt.x,pt.y)&&B(pt.prev,pt,pt.next)>=0||(pt=pt.prevZ,St.x>=Et&&St.x<=ve&&St.y>=_t&&St.y<=le&&St!==w&&St!==G&&M(X,et,K,ht,J,at,St.x,St.y)&&B(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;pt&&pt.z>=xe;){if(pt.x>=Et&&pt.x<=ve&&pt.y>=_t&&pt.y<=le&&pt!==w&&pt!==G&&M(X,et,K,ht,J,at,pt.x,pt.y)&&B(pt.prev,pt,pt.next)>=0)return!1;pt=pt.prevZ}for(;St&&St.z<=be;){if(St.x>=Et&&St.x<=ve&&St.y>=_t&&St.y<=le&&St!==w&&St!==G&&M(X,et,K,ht,J,at,St.x,St.y)&&B(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function c(b,T,R){var k=b;do{var w=k.prev,D=k.next.next;!q(w,D)&&j(w,k,k.next,D)&&it(w,D)&&it(D,w)&&(T.push(w.i/R|0),T.push(k.i/R|0),T.push(D.i/R|0),bt(k),bt(k.next),k=b=D),k=k.next}while(k!==b);return i(k)}function f(b,T,R,k,w,D){var G=b;do{for(var X=G.next.next;X!==G.prev;){if(G.i!==X.i&&z(G,X)){var K=nt(G,X);G=i(G,G.next),K=i(K,K.next),r(G,T,R,k,w,D,0),r(K,T,R,k,w,D,0);return}X=X.next}G=G.next}while(G!==b)}function p(b,T,R,k){var w=[],D,G,X,K,J;for(D=0,G=T.length;D<G;D++)X=T[D]*k,K=D<G-1?T[D+1]*k:b.length,J=t(b,X,K,k,!1),J===J.next&&(J.steiner=!0),w.push(A(J));for(w.sort(m),D=0;D<w.length;D++)R=g(w[D],R);return R}function m(b,T){return b.x-T.x}function g(b,T){var R=v(b,T);if(!R)return T;var k=nt(R,b);return i(k,k.next),i(R,R.next)}function v(b,T){var R=T,k=b.x,w=b.y,D=-1/0,G;do{if(w<=R.y&&w>=R.next.y&&R.next.y!==R.y){var X=R.x+(w-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(X<=k&&X>D&&(D=X,G=R.x<R.next.x?R:R.next,X===k))return G}R=R.next}while(R!==T);if(!G)return null;var K=G,J=G.x,et=G.y,ht=1/0,at;R=G;do k>=R.x&&R.x>=J&&k!==R.x&&M(w<et?k:D,w,J,et,w<et?D:k,w,R.x,R.y)&&(at=Math.abs(w-R.y)/(k-R.x),it(R,b)&&(at<ht||at===ht&&(R.x>G.x||R.x===G.x&&_(G,R)))&&(G=R,ht=at)),R=R.next;while(R!==K);return G}function _(b,T){return B(b.prev,b,T.prev)<0&&B(T.next,b,b.next)<0}function x(b,T,R,k){var w=b;do w.z===0&&(w.z=O(w.x,w.y,T,R,k)),w.prevZ=w.prev,w.nextZ=w.next,w=w.next;while(w!==b);w.prevZ.nextZ=null,w.prevZ=null,C(w)}function C(b){var T,R,k,w,D,G,X,K,J=1;do{for(R=b,b=null,D=null,G=0;R;){for(G++,k=R,X=0,T=0;T<J&&(X++,k=k.nextZ,!!k);T++);for(K=J;X>0||K>0&&k;)X!==0&&(K===0||!k||R.z<=k.z)?(w=R,R=R.nextZ,X--):(w=k,k=k.nextZ,K--),D?D.nextZ=w:b=w,w.prevZ=D,D=w;R=k}D.nextZ=null,J*=2}while(G>1);return b}function O(b,T,R,k,w){return b=(b-R)*w|0,T=(T-k)*w|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,b|T<<1}function A(b){var T=b,R=b;do(T.x<R.x||T.x===R.x&&T.y<R.y)&&(R=T),T=T.next;while(T!==b);return R}function M(b,T,R,k,w,D,G,X){return(w-G)*(T-X)>=(b-G)*(D-X)&&(b-G)*(k-X)>=(R-G)*(T-X)&&(R-G)*(D-X)>=(w-G)*(k-X)}function z(b,T){return b.next.i!==T.i&&b.prev.i!==T.i&&!rt(b,T)&&(it(b,T)&&it(T,b)&&tt(b,T)&&(B(b.prev,b,T.prev)||B(b,T.prev,T))||q(b,T)&&B(b.prev,b,b.next)>0&&B(T.prev,T,T.next)>0)}function B(b,T,R){return(T.y-b.y)*(R.x-T.x)-(T.x-b.x)*(R.y-T.y)}function q(b,T){return b.x===T.x&&b.y===T.y}function j(b,T,R,k){var w=Z(B(b,T,R)),D=Z(B(b,T,k)),G=Z(B(R,k,b)),X=Z(B(R,k,T));return!!(w!==D&&G!==X||w===0&&W(b,R,T)||D===0&&W(b,k,T)||G===0&&W(R,b,k)||X===0&&W(R,T,k))}function W(b,T,R){return T.x<=Math.max(b.x,R.x)&&T.x>=Math.min(b.x,R.x)&&T.y<=Math.max(b.y,R.y)&&T.y>=Math.min(b.y,R.y)}function Z(b){return b>0?1:b<0?-1:0}function rt(b,T){var R=b;do{if(R.i!==b.i&&R.next.i!==b.i&&R.i!==T.i&&R.next.i!==T.i&&j(R,R.next,b,T))return!0;R=R.next}while(R!==b);return!1}function it(b,T){return B(b.prev,b,b.next)<0?B(b,T,b.next)>=0&&B(b,b.prev,T)>=0:B(b,T,b.prev)<0||B(b,b.next,T)<0}function tt(b,T){var R=b,k=!1,w=(b.x+T.x)/2,D=(b.y+T.y)/2;do R.y>D!=R.next.y>D&&R.next.y!==R.y&&w<(R.next.x-R.x)*(D-R.y)/(R.next.y-R.y)+R.x&&(k=!k),R=R.next;while(R!==b);return k}function nt(b,T){var R=new Nt(b.i,b.x,b.y),k=new Nt(T.i,T.x,T.y),w=b.next,D=T.prev;return b.next=T,T.prev=b,R.next=w,w.prev=R,k.next=R,R.prev=k,D.next=k,k.prev=D,k}function ft(b,T,R,k){var w=new Nt(b,T,R);return k?(w.next=k.next,w.prev=k,k.next.prev=w,k.next=w):(w.prev=w,w.next=w),w}function bt(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function Nt(b,T,R){this.i=b,this.x=T,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(b,T,R,k){var w=T&&T.length,D=w?T[0]*R:b.length,G=Math.abs(kt(b,0,D,R));if(w)for(var X=0,K=T.length;X<K;X++){var J=T[X]*R,et=X<K-1?T[X+1]*R:b.length;G-=Math.abs(kt(b,J,et,R))}var ht=0;for(X=0;X<k.length;X+=3){var at=k[X]*R,Et=k[X+1]*R,_t=k[X+2]*R;ht+=Math.abs((b[at]-b[_t])*(b[Et+1]-b[at+1])-(b[at]-b[Et])*(b[_t+1]-b[at+1]))}return G===0&&ht===0?0:Math.abs((ht-G)/G)};function kt(b,T,R,k){for(var w=0,D=T,G=R-k;D<R;D+=k)w+=(b[G]-b[D])*(b[D+1]+b[G+1]),G=D;return w}return s.flatten=function(b){for(var T=b[0][0].length,R={vertices:[],holes:[],dimensions:T},k=0,w=0;w<b.length;w++){for(var D=0;D<b[w].length;D++)for(var G=0;G<T;G++)R.vertices.push(b[w][D][G]);w>0&&(k+=b[w-1].length,R.holes.push(k))}return R},Ul.exports}var V2=j2();const I2=ua(V2);var C0=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(C0||{});class W2{constructor(t){this.items=[],this._name=t}emit(t,i,r,l,u,c,f,p){const{name:m,items:g}=this;for(let v=0,_=g.length;v<_;v++)g[v][m](t,i,r,l,u,c,f,p);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&this.items.splice(i,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const Z2=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],T0=class M0 extends kn{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const i=[...Z2,...this.config.runners??[]];this._addRunners(...i),this._unsafeEvalCheck()}async init(t={}){const i=t.skipExtensionImports===!0?!0:t.manageImports===!1;await F2(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...M0.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,i){let r=t;if(r instanceof Pn&&(r={container:r},i&&(mt(Kt,"passing a second argument is deprecated, please use render options instead"),r.target=i.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const l=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=l?r.clearColor:Me.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(t,i,r){const l=this.view.resolution;this.view.resize(t,i,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==l&&this.runners.resolutionChange.emit(r)}clear(t={}){const i=this;t.target||(t.target=i.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=C0.ALL);const{clear:r,clearColor:l,target:u}=t;Me.shared.setValue(l??this.background.colorRgba),i.renderTarget.clear(u,r,Me.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(i=>{this.runners[i]=new W2(i)})}_addSystems(t){let i;for(i in t){const r=t[i];this._addSystem(r.value,r.name)}}_addSystem(t,i){const r=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=r,this._systemsHash[i]=r;for(const l in this.runners)this.runners[l].add(r);return this}_addPipes(t,i){const r=i.reduce((l,u)=>(l[u.name]=u.value,l),{});t.forEach(l=>{const u=l.value,c=l.name,f=r[c];this.renderPipes[c]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(i=>{i.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!q2())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};T0.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let E0=T0,Bl;function Q2(s){return Bl!==void 0||(Bl=(()=>{var i;const t={stencil:!0,failIfMajorPerformanceCaveat:s??E0.defaultOptions.failIfMajorPerformanceCaveat};try{if(!di.get().getWebGLRenderingContext())return!1;let l=di.get().createCanvas().getContext("webgl",t);const u=!!((i=l==null?void 0:l.getContextAttributes())!=null&&i.stencil);if(l){const c=l.getExtension("WEBGL_lose_context");c&&c.loseContext()}return l=null,u}catch{return!1}})()),Bl}let Hl;async function $2(s={}){return Hl!==void 0||(Hl=await(async()=>{const t=di.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),Hl}const kg=["webgl","webgpu","canvas"];async function K2(s){let t=[];s.preference?(t.push(s.preference),kg.forEach(u=>{u!==s.preference&&t.push(u)})):t=kg.slice();let i,r={};for(let u=0;u<t.length;u++){const c=t[u];if(c==="webgpu"&&await $2()){const{WebGPURenderer:f}=await Il(async()=>{const{WebGPURenderer:p}=await import("./WebGPURenderer-5BzZ1_F2.js");return{WebGPURenderer:p}},__vite__mapDeps([4,2,5,3]));i=f,r={...s,...s.webgpu};break}else if(c==="webgl"&&Q2(s.failIfMajorPerformanceCaveat??E0.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await Il(async()=>{const{WebGLRenderer:p}=await import("./WebGLRenderer-DoiR9NKy.js");return{WebGLRenderer:p}},__vite__mapDeps([6,2,5]));i=f,r={...s,...s.webgl};break}else if(c==="canvas")throw r={...s},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!i)throw new Error("No available renderer for the current environment");const l=new i;return await l.init(r),l}const R0="8.9.1";class O0{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,R0)}static destroy(){}}O0.extension=zt.Application;class J2{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,R0)}destroy(){this._renderer=null}}J2.extension={type:[zt.WebGLSystem,zt.WebGPUSystem],name:"initHook",priority:-10};const z0=class Ah{constructor(...t){this.stage=new Pn,t[0]!==void 0&&mt(Kt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await K2(t),Ah._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return mt(Kt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,i=!1){const r=Ah._plugins.slice(0);r.reverse(),r.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};z0._plugins=[];let Ch=z0;$e.handleByList(zt.Application,Ch._plugins);$e.add(O0);const Pg=[{offset:0,color:"white"},{offset:1,color:"black"}],Qh=class Th{constructor(...t){this.uid=Jt("fillGradient"),this.type="linear",this.colorStops=[];let i=tS(t);i={...i.type==="radial"?Th.defaultRadialOptions:Th.defaultLinearOptions,...Ly(i)},this._textureSize=i.textureSize,i.type==="radial"?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(t,i){return this.colorStops.push({offset:t,color:Me.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Pg,i=this._textureSize,{canvas:r,context:l}=Lg(i,1),u=l.createLinearGradient(0,0,this._textureSize,0);Yg(u,t),l.fillStyle=u,l.fillRect(0,0,i,1),this.texture=new Gt({source:new Wl({resource:r})});const{x:c,y:f}=this.start,{x:p,y:m}=this.end,g=new Ct,v=p-c,_=m-f,x=Math.sqrt(v*v+_*_),C=Math.atan2(_,v);g.scale(x/i,1),g.rotate(C),g.translate(c,f),this.textureSpace==="local"&&g.scale(i,i),this.transform=g}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Pg,i=this._textureSize,{canvas:r,context:l}=Lg(i,i),{x:u,y:c}=this.center,{x:f,y:p}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,v=f-g,_=p-g,x=i/(g*2),C=(u-v)*x,O=(c-_)*x,A=l.createRadialGradient(C,O,m*x,(f-v)*x,(p-_)*x,g*x);Yg(A,t),l.fillStyle=t[t.length-1].color,l.fillRect(0,0,i,i),l.fillStyle=A,l.translate(C,O),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-C,-O),l.fillRect(0,0,i,i),this.texture=new Gt({source:new Wl({resource:r,addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"})});const M=new Ct;M.scale(1/x,1/x),M.translate(v,_),this.textureSpace==="local"&&M.scale(i,i),this.transform=M}get styleKey(){return this.uid}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null}};Qh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256};Qh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256};let Jl=Qh;function Yg(s,t){for(let i=0;i<t.length;i++){const r=t[i];s.addColorStop(r.offset,r.color)}}function Lg(s,t){const i=di.get().createCanvas(s,t),r=i.getContext("2d");return{canvas:i,context:r}}function tS(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(mt("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??Jl.defaultLinearOptions.textureSize}),t}const Xg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class eS{constructor(t,i){this.uid=Jt("fillPattern"),this.transform=new Ct,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),i&&(t.source.style.addressModeU=Xg[i].addressModeU,t.source.style.addressModeV=Xg[i].addressModeV)}setTransform(t){const i=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var Jc,Fg;function nS(){if(Fg)return Jc;Fg=1,Jc=i;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(u){var c=[];return u.replace(t,function(f,p,m){var g=p.toLowerCase();for(m=l(m),g=="m"&&m.length>2&&(c.push([p].concat(m.splice(0,2))),g="l",p=p=="m"?"l":"L");;){if(m.length==s[g])return m.unshift(p),c.push(m);if(m.length<s[g])throw new Error("malformed path data");c.push([p].concat(m.splice(0,s[g])))}}),c}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(u){var c=u.match(r);return c?c.map(Number):[]}return Jc}var iS=nS();const sS=ua(iS);function rS(s,t){const i=sS(s),r=[];let l=null,u=0,c=0;for(let f=0;f<i.length;f++){const p=i[f],m=p[0],g=p;switch(m){case"M":u=g[1],c=g[2],t.moveTo(u,c);break;case"m":u+=g[1],c+=g[2],t.moveTo(u,c);break;case"H":u=g[1],t.lineTo(u,c);break;case"h":u+=g[1],t.lineTo(u,c);break;case"V":c=g[1],t.lineTo(u,c);break;case"v":c+=g[1],t.lineTo(u,c);break;case"L":u=g[1],c=g[2],t.lineTo(u,c);break;case"l":u+=g[1],c+=g[2],t.lineTo(u,c);break;case"C":u=g[5],c=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,c);break;case"c":t.bezierCurveTo(u+g[1],c+g[2],u+g[3],c+g[4],u+g[5],c+g[6]),u+=g[5],c+=g[6];break;case"S":u=g[3],c=g[4],t.bezierCurveToShort(g[1],g[2],u,c);break;case"s":t.bezierCurveToShort(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"Q":u=g[3],c=g[4],t.quadraticCurveTo(g[1],g[2],u,c);break;case"q":t.quadraticCurveTo(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"T":u=g[1],c=g[2],t.quadraticCurveToShort(u,c);break;case"t":u+=g[1],c+=g[2],t.quadraticCurveToShort(u,c);break;case"A":u=g[6],c=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"a":u+=g[6],c+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"Z":case"z":t.closePath(),r.length>0&&(l=r.pop(),l?(u=l.startX,c=l.startY):(u=0,c=0)),l=null;break;default:Ye(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&l===null&&(l={startX:u,startY:c},r.push(l))}return t}class $h{constructor(t=0,i=0,r=0){this.type="circle",this.x=t,this.y=i,this.radius=r}clone(){return new $h(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const r=this.radius*this.radius;let l=this.x-t,u=this.y-i;return l*=l,u*=u,l+u<=r}strokeContains(t,i,r,l=.5){if(this.radius===0)return!1;const u=this.x-t,c=this.y-i,f=this.radius,p=(1-l)*r,m=Math.sqrt(u*u+c*c);return m<=f+p&&m>f-(r-p)}getBounds(t){return t||(t=new It),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Kh{constructor(t=0,i=0,r=0,l=0){this.type="ellipse",this.x=t,this.y=i,this.halfWidth=r,this.halfHeight=l}clone(){return new Kh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,l=(i-this.y)/this.halfHeight;return r*=r,l*=l,r+l<=1}strokeContains(t,i,r,l=.5){const{halfWidth:u,halfHeight:c}=this;if(u<=0||c<=0)return!1;const f=r*(1-l),p=r-f,m=u-p,g=c-p,v=u+f,_=c+f,x=t-this.x,C=i-this.y,O=x*x/(m*m)+C*C/(g*g),A=x*x/(v*v)+C*C/(_*_);return O>1&&A<=1}getBounds(t){return t||(t=new It),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function aS(s,t,i,r,l,u){const c=s-i,f=t-r,p=l-i,m=u-r,g=c*p+f*m,v=p*p+m*m;let _=-1;v!==0&&(_=g/v);let x,C;_<0?(x=i,C=r):_>1?(x=l,C=u):(x=i+_*p,C=r+_*m);const O=s-x,A=t-C;return O*O+A*A}let lS,oS;class $r{constructor(...t){this.type="polygon";let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const r=[];for(let l=0,u=i.length;l<u;l++)r.push(i[l].x,i[l].y);i=r}this.points=i,this.closePath=!0}isClockwise(){let t=0;const i=this.points,r=i.length;for(let l=0;l<r;l+=2){const u=i[l],c=i[l+1],f=i[(l+2)%r],p=i[(l+3)%r];t+=(f-u)*(p+c)}return t<0}containsPolygon(t){const i=this.getBounds(lS),r=t.getBounds(oS);if(!i.containsRect(r))return!1;const l=t.points;for(let u=0;u<l.length;u+=2){const c=l[u],f=l[u+1];if(!this.contains(c,f))return!1}return!0}clone(){const t=this.points.slice(),i=new $r(t);return i.closePath=this.closePath,i}contains(t,i){let r=!1;const l=this.points.length/2;for(let u=0,c=l-1;u<l;c=u++){const f=this.points[u*2],p=this.points[u*2+1],m=this.points[c*2],g=this.points[c*2+1];p>i!=g>i&&t<(m-f)*((i-p)/(g-p))+f&&(r=!r)}return r}strokeContains(t,i,r,l=.5){const u=r*r,c=u*(1-l),f=u-c,{points:p}=this,m=p.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const v=p[g],_=p[g+1],x=p[(g+2)%p.length],C=p[(g+3)%p.length],O=aS(t,i,v,_,x,C),A=Math.sign((x-v)*(i-_)-(C-_)*(t-v));if(O<=(A<0?f:c))return!0}return!1}getBounds(t){t||(t=new It);const i=this.points;let r=1/0,l=-1/0,u=1/0,c=-1/0;for(let f=0,p=i.length;f<p;f+=2){const m=i[f],g=i[f+1];r=m<r?m:r,l=m>l?m:l,u=g<u?g:u,c=g>c?g:c}return t.x=r,t.width=l-r,t.y=u,t.height=c-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,i)=>`${t}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Gl=(s,t,i,r,l,u,c)=>{const f=s-i,p=t-r,m=Math.sqrt(f*f+p*p);return m>=l-u&&m<=l+c};class Jh{constructor(t=0,i=0,r=0,l=0,u=20){this.type="roundedRectangle",this.x=t,this.y=i,this.width=r,this.height=l,this.radius=u}getBounds(t){return t||(t=new It),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new Jh(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+r&&i<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let l=t-(this.x+r),u=i-(this.y+r);const c=r*r;if(l*l+u*u<=c||(l=t-(this.x+this.width-r),l*l+u*u<=c)||(u=i-(this.y+this.height-r),l*l+u*u<=c)||(l=t-(this.x+r),l*l+u*u<=c))return!0}return!1}strokeContains(t,i,r,l=.5){const{x:u,y:c,width:f,height:p,radius:m}=this,g=r*(1-l),v=r-g,_=u+m,x=c+m,C=f-m*2,O=p-m*2,A=u+f,M=c+p;return(t>=u-g&&t<=u+v||t>=A-v&&t<=A+g)&&i>=x&&i<=x+O||(i>=c-g&&i<=c+v||i>=M-v&&i<=M+g)&&t>=_&&t<=_+C?!0:t<_&&i<x&&Gl(t,i,_,x,m,v,g)||t>A-m&&i<x&&Gl(t,i,A-m,x,m,v,g)||t>A-m&&i>M-m&&Gl(t,i,A-m,M-m,m,v,g)||t<_&&i>M-m&&Gl(t,i,_,M-m,m,v,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const uS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function cS(s){let t="";for(let i=0;i<s;++i)i>0&&(t+=`
else `),i<s-1&&(t+=`if(test == ${i}.0){}`);return t}function hS(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=uS.replace(/%forloop%/gi,cS(s));if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(i)}return s}let Es=null;function D0(){var t;if(Es)return Es;const s=v0();return Es=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),Es=hS(Es,s),(t=s.getExtension("WEBGL_lose_context"))==null||t.loseContext(),Es}const U0={};function fS(s,t){let i=2166136261;for(let r=0;r<t;r++)i^=s[r].uid,i=Math.imul(i,16777619),i>>>=0;return U0[i]||dS(s,t,i)}let th=0;function dS(s,t,i){const r={};let l=0;th||(th=D0());for(let c=0;c<th;c++){const f=c<t?s[c]:Gt.EMPTY.source;r[l++]=f.source,r[l++]=f.style}const u=new Xl(r);return U0[i]=u,u}class qg{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function jg(s,t){const i=s.byteLength/8|0,r=new Float64Array(s,0,i);new Float64Array(t,0,i).set(r);const u=s.byteLength-i*8;if(u>0){const c=new Uint8Array(s,i*8,u);new Uint8Array(t,i*8,u).set(c)}}const pS={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var mS=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(mS||{});function Vg(s,t){return t.alphaMode==="no-premultiply-alpha"&&pS[s]||s}class gS{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const i=this.textures[t];this.textures[t]=null,this.ids[i.uid]=null}this.count=0}}class yS{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new gS,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const B0=[];let Mh=0;function Ig(){return Mh>0?B0[--Mh]:new yS}function Wg(s){B0[Mh++]=s}let Pr=0;const H0=class Fl{constructor(t={}){this.uid=Jt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],Fl.defaultOptions.maxTextures=Fl.defaultOptions.maxTextures??D0(),t={...Fl.defaultOptions,...t};const{maxTextures:i,attributesInitialSize:r,indicesInitialSize:l}=t;this.attributeBuffer=new qg(r*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Wg(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,i){const r=t._batch.textures.ids[i._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=i,!0)}updateElement(t){this.dirty=!0;const i=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId)}break(t){const i=this._elements;if(!i[this.elementStart])return;let r=Ig(),l=r.textures;l.clear();const u=i[this.elementStart];let c=Vg(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const p=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let v=this._batchIndexSize,_=this._batchIndexStart,x="startBatch";const C=this.maxTextures;for(let O=this.elementStart;O<this.elementSize;++O){const A=i[O];i[O]=null;const z=A.texture._source,B=Vg(A.blendMode,z),q=c!==B||f!==A.topology;if(z._batchTick===Pr&&!q){A._textureId=z._textureBindLocation,v+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize)),A._batch=r;continue}z._batchTick=Pr,(l.count>=C||q)&&(this._finishBatch(r,_,v-_,l,c,f,t,x),x="renderBatch",_=v,c=B,f=A.topology,r=Ig(),l=r.textures,l.clear(),++Pr),A._textureId=z._textureBindLocation=l.count,l.ids[z.uid]=l.count,l.textures[l.count++]=z,A._batch=r,v+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(r,_,v-_,l,c,f,t,x),_=v,++Pr),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=v}_finishBatch(t,i,r,l,u,c,f,p){t.gpuBindGroup=null,t.bindGroup=null,t.action=p,t.batcher=this,t.textures=l,t.blendMode=u,t.topology=c,t.start=i,t.size=r,++Pr,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const i=Math.max(t,this.attributeBuffer.size*2),r=new qg(i);jg(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const i=this.indexBuffer;let r=Math.max(t,i.length*1.5);r+=r%2;const l=r>65535?new Uint32Array(r):new Uint16Array(r);if(l.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let u=0;u<i.length;u++)l[u]=i[u];else jg(i.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(t,i,r){t[i]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3}packIndex(t,i,r,l){const u=t.indices,c=t.indexSize,f=t.indexOffset,p=t.attributeOffset;for(let m=0;m<c;m++)i[r++]=l+u[m+f]-p}destroy(){for(let t=0;t<this.batches.length;t++)Wg(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};H0.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let vS=H0;var Te=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(Te||{});class ra extends kn{constructor(t){let{data:i,size:r}=t;const{usage:l,label:u,shrinkToFit:c}=t;super(),this.uid=Jt("buffer"),this._resourceType="buffer",this._resourceId=Jt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,r??(r=i==null?void 0:i.byteLength);const f=!!i;this.descriptor={size:r,usage:l,mappedAtCreation:f,label:u},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Te.STATIC)}set static(t){t?this.descriptor.usage|=Te.STATIC:this.descriptor.usage&=~Te.STATIC}setDataWithSize(t,i,r){if(this._updateID++,this._updateSize=i*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const l=this._data;if(this._data=t,this._dataInt32=null,!l||l.length!==t.length){!this.shrinkToFit&&l&&t.byteLength<l.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Jt("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function G0(s,t){if(!(s instanceof ra)){let i=t?Te.INDEX:Te.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),i=Te.INDEX|Te.COPY_DST):(s=new Float32Array(s),i=Te.VERTEX|Te.COPY_DST)),s=new ra({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return s}function xS(s,t,i){const r=s.getAttribute(t);if(!r)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const l=r.buffer.data;let u=1/0,c=1/0,f=-1/0,p=-1/0;const m=l.BYTES_PER_ELEMENT,g=(r.offset||0)/m,v=(r.stride||2*4)/m;for(let _=g;_<l.length;_+=v){const x=l[_],C=l[_+1];x>f&&(f=x),C>p&&(p=C),x<u&&(u=x),C<c&&(c=C)}return i.minX=u,i.minY=c,i.maxX=f,i.maxY=p,i}function bS(s){return(s instanceof ra||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=G0(s.buffer,!1),s}class _S extends kn{constructor(t={}){super(),this.uid=Jt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new sn,this._boundsDirty=!0;const{attributes:i,indexBuffer:r,topology:l}=t;if(this.buffers=[],this.attributes={},i)for(const u in i)this.addAttribute(u,i[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const i=this.attributes[t];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(t,i){const r=bS(i);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=G0(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,xS(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const SS=new Float32Array(1),wS=new Uint32Array(1);class AS extends _S{constructor(){const i=new ra({data:SS,label:"attribute-batch-buffer",usage:Te.VERTEX|Te.COPY_DST,shrinkToFit:!1}),r=new ra({data:wS,label:"index-batch-buffer",usage:Te.INDEX|Te.COPY_DST,shrinkToFit:!1}),l=6*4;super({attributes:{aPosition:{buffer:i,format:"float32x2",stride:l,offset:0},aUV:{buffer:i,format:"float32x2",stride:l,offset:2*4},aColor:{buffer:i,format:"unorm8x4",stride:l,offset:4*4},aTextureIdAndRound:{buffer:i,format:"uint16x2",stride:l,offset:5*4}},indexBuffer:r})}}function Zg(s,t,i){if(s)for(const r in s){const l=r.toLocaleLowerCase(),u=t[l];if(u){let c=s[r];r==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&u.push(`//----${i}----//`),u.push(c)}else Ye(`${r} placement hook does not exist in shader`)}}const CS=/\{\{(.*?)\}\}/g;function Qg(s){var r;const t={};return(((r=s.match(CS))==null?void 0:r.map(l=>l.replace(/[{()}]/g,"")))??[]).forEach(l=>{t[l]=[]}),t}function $g(s,t){let i;const r=/@in\s+([^;]+);/g;for(;(i=r.exec(s))!==null;)t.push(i[1])}function Kg(s,t,i=!1){const r=[];$g(t,r),s.forEach(f=>{f.header&&$g(f.header,r)});const l=r;i&&l.sort();const u=l.map((f,p)=>`       @location(${p}) ${f},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${u}
`),c}function Jg(s,t){let i;const r=/@out\s+([^;]+);/g;for(;(i=r.exec(s))!==null;)t.push(i[1])}function TS(s){const i=/\b(\w+)\s*:/g.exec(s);return i?i[1]:""}function MS(s){const t=/@.*?\s+/g;return s.replace(t,"")}function ES(s,t){const i=[];Jg(t,i),s.forEach(p=>{p.header&&Jg(p.header,i)});let r=0;const l=i.sort().map(p=>p.indexOf("builtin")>-1?p:`@location(${r++}) ${p}`).join(`,
`),u=i.sort().map(p=>`       var ${MS(p)};`).join(`
`),c=`return VSOutput(
            ${i.sort().map(p=>` ${TS(p)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${l}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${c}
`),f}function ty(s,t){let i=s;for(const r in t){const l=t[r];l.join(`
`).length?i=i.replace(`{{${r}}}`,`//-----${r} START-----//
${l.join(`
`)}
//----${r} FINISH----//`):i=i.replace(`{{${r}}}`,"")}return i}const fi=Object.create(null),eh=new Map;let RS=0;function OS({template:s,bits:t}){const i=N0(s,t);if(fi[i])return fi[i];const{vertex:r,fragment:l}=DS(s,t);return fi[i]=k0(r,l,t),fi[i]}function zS({template:s,bits:t}){const i=N0(s,t);return fi[i]||(fi[i]=k0(s.vertex,s.fragment,t)),fi[i]}function DS(s,t){const i=t.map(c=>c.vertex).filter(c=>!!c),r=t.map(c=>c.fragment).filter(c=>!!c);let l=Kg(i,s.vertex,!0);l=ES(i,l);const u=Kg(r,s.fragment,!0);return{vertex:l,fragment:u}}function N0(s,t){return t.map(i=>(eh.has(i)||eh.set(i,RS++),eh.get(i))).sort((i,r)=>i-r).join("-")+s.vertex+s.fragment}function k0(s,t,i){const r=Qg(s),l=Qg(t);return i.forEach(u=>{Zg(u.vertex,r,u.name),Zg(u.fragment,l,u.name)}),{vertex:ty(s,r),fragment:ty(t,l)}}const US=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,BS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,HS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,GS=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,NS={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},kS={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function PS({bits:s,name:t}){const i=OS({template:{fragment:BS,vertex:US},bits:[NS,...s]});return rn.from({name:t,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function YS({bits:s,name:t}){return new Yn({name:t,...zS({template:{vertex:HS,fragment:GS},bits:[kS,...s]})})}const LS={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},XS={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},nh={};function FS(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let r=0;r<s;r++)t.push(`@group(1) @binding(${i++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${i++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function qS(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let i=0;i<s;i++)i===s-1?t.push("  default:{"):t.push(`  case ${i}:{`),t.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function jS(s){return nh[s]||(nh[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${FS(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${qS(s)}
            `}}),nh[s]}const ih={};function VS(s){const t=[];for(let i=0;i<s;i++)i>0&&t.push("else"),i<s-1&&t.push(`if(vTextureId < ${i}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${i}], vUV);`),t.push("}");return t.join(`
`)}function IS(s){return ih[s]||(ih[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${VS(s)}
            `}}),ih[s]}const WS={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},ZS={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},ey={};function QS(s){let t=ey[s];if(t)return t;const i=new Int32Array(s);for(let r=0;r<s;r++)i[r]=r;return t=ey[s]=new Zh({uTextures:{value:i,type:"i32",size:s}},{isStatic:!0}),t}class $S extends Kl{constructor(t){const i=YS({name:"batch",bits:[XS,IS(t),ZS]}),r=PS({name:"batch",bits:[LS,jS(t),WS]});super({glProgram:i,gpuProgram:r,resources:{batchSamplers:QS(t)}})}}let ny=null;const P0=class Y0 extends vS{constructor(){super(...arguments),this.geometry=new AS,this.shader=ny||(ny=new $S(this.maxTextures)),this.name=Y0.extension.name,this.vertexSize=6}packAttributes(t,i,r,l,u){const c=u<<16|t.roundPixels&65535,f=t.transform,p=f.a,m=f.b,g=f.c,v=f.d,_=f.tx,x=f.ty,{positions:C,uvs:O}=t,A=t.color,M=t.attributeOffset,z=M+t.attributeSize;for(let B=M;B<z;B++){const q=B*2,j=C[q],W=C[q+1];i[l++]=p*j+g*W+_,i[l++]=v*W+m*j+x,i[l++]=O[q],i[l++]=O[q+1],r[l++]=A,r[l++]=c}}packQuadAttributes(t,i,r,l,u){const c=t.texture,f=t.transform,p=f.a,m=f.b,g=f.c,v=f.d,_=f.tx,x=f.ty,C=t.bounds,O=C.maxX,A=C.minX,M=C.maxY,z=C.minY,B=c.uvs,q=t.color,j=u<<16|t.roundPixels&65535;i[l+0]=p*A+g*z+_,i[l+1]=v*z+m*A+x,i[l+2]=B.x0,i[l+3]=B.y0,r[l+4]=q,r[l+5]=j,i[l+6]=p*O+g*z+_,i[l+7]=v*z+m*O+x,i[l+8]=B.x1,i[l+9]=B.y1,r[l+10]=q,r[l+11]=j,i[l+12]=p*O+g*M+_,i[l+13]=v*M+m*O+x,i[l+14]=B.x2,i[l+15]=B.y2,r[l+16]=q,r[l+17]=j,i[l+18]=p*A+g*M+_,i[l+19]=v*M+m*A+x,i[l+20]=B.x3,i[l+21]=B.y3,r[l+22]=q,r[l+23]=j}};P0.extension={type:[zt.Batcher],name:"default"};let KS=P0;function JS(s,t,i,r,l,u,c,f=null){let p=0;i*=t,l*=u;const m=f.a,g=f.b,v=f.c,_=f.d,x=f.tx,C=f.ty;for(;p<c;){const O=s[i],A=s[i+1];r[l]=m*O+v*A+x,r[l+1]=g*O+_*A+C,l+=u,i+=t,p++}}function tw(s,t,i,r){let l=0;for(t*=i;l<r;)s[t]=0,s[t+1]=0,t+=i,l++}function L0(s,t,i,r,l){const u=t.a,c=t.b,f=t.c,p=t.d,m=t.tx,g=t.ty;i||(i=0),r||(r=2),l||(l=s.length/r-i);let v=i*r;for(let _=0;_<l;_++){const x=s[v],C=s[v+1];s[v]=u*x+f*C+m,s[v+1]=c*x+p*C+g,v+=r}}const ew=new Ct;class X0{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,i=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?$y(i,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):i+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||ew}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const aa={extension:{type:zt.ShapeBuilder,name:"circle"},build(s,t){let i,r,l,u,c,f;if(s.type==="circle"){const q=s;i=q.x,r=q.y,c=f=q.radius,l=u=0}else if(s.type==="ellipse"){const q=s;i=q.x,r=q.y,c=q.halfWidth,f=q.halfHeight,l=u=0}else{const q=s,j=q.width/2,W=q.height/2;i=q.x+j,r=q.y+W,c=f=Math.max(0,Math.min(q.radius,Math.min(j,W))),l=j-c,u=W-f}if(!(c>=0&&f>=0&&l>=0&&u>=0))return t;const p=Math.ceil(2.3*Math.sqrt(c+f)),m=p*8+(l?4:0)+(u?4:0);if(m===0)return t;if(p===0)return t[0]=t[6]=i+l,t[1]=t[3]=r+u,t[2]=t[4]=i-l,t[5]=t[7]=r-u,t;let g=0,v=p*4+(l?2:0)+2,_=v,x=m,C=l+c,O=u,A=i+C,M=i-C,z=r+O;if(t[g++]=A,t[g++]=z,t[--v]=z,t[--v]=M,u){const q=r-O;t[_++]=M,t[_++]=q,t[--x]=q,t[--x]=A}for(let q=1;q<p;q++){const j=Math.PI/2*(q/p),W=l+Math.cos(j)*c,Z=u+Math.sin(j)*f,rt=i+W,it=i-W,tt=r+Z,nt=r-Z;t[g++]=rt,t[g++]=tt,t[--v]=tt,t[--v]=it,t[_++]=it,t[_++]=nt,t[--x]=nt,t[--x]=rt}C=l,O=u+f,A=i+C,M=i-C,z=r+O;const B=r-O;return t[g++]=A,t[g++]=z,t[--x]=B,t[--x]=A,l&&(t[g++]=M,t[g++]=z,t[--x]=B,t[--x]=M),t},triangulate(s,t,i,r,l,u){if(s.length===0)return;let c=0,f=0;for(let g=0;g<s.length;g+=2)c+=s[g],f+=s[g+1];c/=s.length/2,f/=s.length/2;let p=r;t[p*i]=c,t[p*i+1]=f;const m=p++;for(let g=0;g<s.length;g+=2)t[p*i]=s[g],t[p*i+1]=s[g+1],g>0&&(l[u++]=p,l[u++]=m,l[u++]=p-1),p++;l[u++]=m+1,l[u++]=m,l[u++]=p-1}},nw={...aa,extension:{...aa.extension,name:"ellipse"}},iw={...aa,extension:{...aa.extension,name:"roundedRectangle"}},F0=1e-4,iy=1e-4;function sw(s){const t=s.length;if(t<6)return 1;let i=0;for(let r=0,l=s[t-2],u=s[t-1];r<t;r+=2){const c=s[r],f=s[r+1];i+=(c-l)*(f+u),l=c,u=f}return i<0?-1:1}function sy(s,t,i,r,l,u,c,f){const p=s-i*l,m=t-r*l,g=s+i*u,v=t+r*u;let _,x;c?(_=r,x=-i):(_=-r,x=i);const C=p+_,O=m+x,A=g+_,M=v+x;return f.push(C,O),f.push(A,M),2}function Ui(s,t,i,r,l,u,c,f){const p=i-s,m=r-t;let g=Math.atan2(p,m),v=Math.atan2(l-s,u-t);f&&g<v?g+=Math.PI*2:!f&&g>v&&(v+=Math.PI*2);let _=g;const x=v-g,C=Math.abs(x),O=Math.sqrt(p*p+m*m),A=(15*C*Math.sqrt(O)/Math.PI>>0)+1,M=x/A;if(_+=M,f){c.push(s,t),c.push(i,r);for(let z=1,B=_;z<A;z++,B+=M)c.push(s,t),c.push(s+Math.sin(B)*O,t+Math.cos(B)*O);c.push(s,t),c.push(l,u)}else{c.push(i,r),c.push(s,t);for(let z=1,B=_;z<A;z++,B+=M)c.push(s+Math.sin(B)*O,t+Math.cos(B)*O),c.push(s,t);c.push(l,u),c.push(s,t)}return A*2}function rw(s,t,i,r,l,u){const c=F0;if(s.length===0)return;const f=t;let p=f.alignment;if(t.alignment!==.5){let k=sw(s);p=(p-.5)*k+.5}const m=new At(s[0],s[1]),g=new At(s[s.length-2],s[s.length-1]),v=r,_=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(v){s=s.slice(),_&&(s.pop(),s.pop(),g.set(s[s.length-2],s[s.length-1]));const k=(m.x+g.x)*.5,w=(g.y+m.y)*.5;s.unshift(k,w),s.push(k,w)}const x=l,C=s.length/2;let O=s.length;const A=x.length/2,M=f.width/2,z=M*M,B=f.miterLimit*f.miterLimit;let q=s[0],j=s[1],W=s[2],Z=s[3],rt=0,it=0,tt=-(j-Z),nt=q-W,ft=0,bt=0,Nt=Math.sqrt(tt*tt+nt*nt);tt/=Nt,nt/=Nt,tt*=M,nt*=M;const kt=p,b=(1-kt)*2,T=kt*2;v||(f.cap==="round"?O+=Ui(q-tt*(b-T)*.5,j-nt*(b-T)*.5,q-tt*b,j-nt*b,q+tt*T,j+nt*T,x,!0)+2:f.cap==="square"&&(O+=sy(q,j,tt,nt,b,T,!0,x))),x.push(q-tt*b,j-nt*b),x.push(q+tt*T,j+nt*T);for(let k=1;k<C-1;++k){q=s[(k-1)*2],j=s[(k-1)*2+1],W=s[k*2],Z=s[k*2+1],rt=s[(k+1)*2],it=s[(k+1)*2+1],tt=-(j-Z),nt=q-W,Nt=Math.sqrt(tt*tt+nt*nt),tt/=Nt,nt/=Nt,tt*=M,nt*=M,ft=-(Z-it),bt=W-rt,Nt=Math.sqrt(ft*ft+bt*bt),ft/=Nt,bt/=Nt,ft*=M,bt*=M;const w=W-q,D=j-Z,G=W-rt,X=it-Z,K=w*G+D*X,J=D*G-X*w,et=J<0;if(Math.abs(J)<.001*Math.abs(K)){x.push(W-tt*b,Z-nt*b),x.push(W+tt*T,Z+nt*T),K>=0&&(f.join==="round"?O+=Ui(W,Z,W-tt*b,Z-nt*b,W-ft*b,Z-bt*b,x,!1)+4:O+=2,x.push(W-ft*T,Z-bt*T),x.push(W+ft*b,Z+bt*b));continue}const ht=(-tt+q)*(-nt+Z)-(-tt+W)*(-nt+j),at=(-ft+rt)*(-bt+Z)-(-ft+W)*(-bt+it),Et=(w*at-G*ht)/J,_t=(X*ht-D*at)/J,ve=(Et-W)*(Et-W)+(_t-Z)*(_t-Z),le=W+(Et-W)*b,xe=Z+(_t-Z)*b,be=W-(Et-W)*T,pt=Z-(_t-Z)*T,St=Math.min(w*w+D*D,G*G+X*X),Ee=et?b:T,lo=St+Ee*Ee*z;ve<=lo?f.join==="bevel"||ve/z>B?(et?(x.push(le,xe),x.push(W+tt*T,Z+nt*T),x.push(le,xe),x.push(W+ft*T,Z+bt*T)):(x.push(W-tt*b,Z-nt*b),x.push(be,pt),x.push(W-ft*b,Z-bt*b),x.push(be,pt)),O+=2):f.join==="round"?et?(x.push(le,xe),x.push(W+tt*T,Z+nt*T),O+=Ui(W,Z,W+tt*T,Z+nt*T,W+ft*T,Z+bt*T,x,!0)+4,x.push(le,xe),x.push(W+ft*T,Z+bt*T)):(x.push(W-tt*b,Z-nt*b),x.push(be,pt),O+=Ui(W,Z,W-tt*b,Z-nt*b,W-ft*b,Z-bt*b,x,!1)+4,x.push(W-ft*b,Z-bt*b),x.push(be,pt)):(x.push(le,xe),x.push(be,pt)):(x.push(W-tt*b,Z-nt*b),x.push(W+tt*T,Z+nt*T),f.join==="round"?et?O+=Ui(W,Z,W+tt*T,Z+nt*T,W+ft*T,Z+bt*T,x,!0)+2:O+=Ui(W,Z,W-tt*b,Z-nt*b,W-ft*b,Z-bt*b,x,!1)+2:f.join==="miter"&&ve/z<=B&&(et?(x.push(be,pt),x.push(be,pt)):(x.push(le,xe),x.push(le,xe)),O+=2),x.push(W-ft*b,Z-bt*b),x.push(W+ft*T,Z+bt*T),O+=2)}q=s[(C-2)*2],j=s[(C-2)*2+1],W=s[(C-1)*2],Z=s[(C-1)*2+1],tt=-(j-Z),nt=q-W,Nt=Math.sqrt(tt*tt+nt*nt),tt/=Nt,nt/=Nt,tt*=M,nt*=M,x.push(W-tt*b,Z-nt*b),x.push(W+tt*T,Z+nt*T),v||(f.cap==="round"?O+=Ui(W-tt*(b-T)*.5,Z-nt*(b-T)*.5,W-tt*b,Z-nt*b,W+tt*T,Z+nt*T,x,!1)+2:f.cap==="square"&&(O+=sy(W,Z,tt,nt,b,T,!1,x)));const R=iy*iy;for(let k=A;k<O+A-2;++k)q=x[k*2],j=x[k*2+1],W=x[(k+1)*2],Z=x[(k+1)*2+1],rt=x[(k+2)*2],it=x[(k+2)*2+1],!(Math.abs(q*(Z-it)+W*(it-j)+rt*(j-Z))<R)&&u.push(k,k+1,k+2)}function aw(s,t,i,r){const l=F0;if(s.length===0)return;const u=s[0],c=s[1],f=s[s.length-2],p=s[s.length-1],m=t||Math.abs(u-f)<l&&Math.abs(c-p)<l,g=i,v=s.length/2,_=g.length/2;for(let x=0;x<v;x++)g.push(s[x*2]),g.push(s[x*2+1]);for(let x=0;x<v-1;x++)r.push(_+x,_+x+1);m&&r.push(_+v-1,_)}function q0(s,t,i,r,l,u,c){const f=I2(s,t,2);if(!f)return;for(let m=0;m<f.length;m+=3)u[c++]=f[m]+l,u[c++]=f[m+1]+l,u[c++]=f[m+2]+l;let p=l*r;for(let m=0;m<s.length;m+=2)i[p]=s[m],i[p+1]=s[m+1],p+=r}const lw=[],ow={extension:{type:zt.ShapeBuilder,name:"polygon"},build(s,t){for(let i=0;i<s.points.length;i++)t[i]=s.points[i];return t},triangulate(s,t,i,r,l,u){q0(s,lw,t,i,r,l,u)}},uw={extension:{type:zt.ShapeBuilder,name:"rectangle"},build(s,t){const i=s,r=i.x,l=i.y,u=i.width,c=i.height;return u>=0&&c>=0&&(t[0]=r,t[1]=l,t[2]=r+u,t[3]=l,t[4]=r+u,t[5]=l+c,t[6]=r,t[7]=l+c),t},triangulate(s,t,i,r,l,u){let c=0;r*=i,t[r+c]=s[0],t[r+c+1]=s[1],c+=i,t[r+c]=s[2],t[r+c+1]=s[3],c+=i,t[r+c]=s[6],t[r+c+1]=s[7],c+=i,t[r+c]=s[4],t[r+c+1]=s[5],c+=i;const f=r/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2,l[u++]=f+1,l[u++]=f+3,l[u++]=f+2}},cw={extension:{type:zt.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,t},triangulate(s,t,i,r,l,u){let c=0;r*=i,t[r+c]=s[0],t[r+c+1]=s[1],c+=i,t[r+c]=s[2],t[r+c+1]=s[3],c+=i,t[r+c]=s[4],t[r+c+1]=s[5];const f=r/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2}},hw=new Ct,fw=new It;function dw(s,t,i,r){const l=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const u=i.getBounds(fw);l.translate(-u.x,-u.y),l.scale(1/u.width,1/u.height)}else{l.translate(t.texture.frame.x,t.texture.frame.y),l.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update())}return r&&l.append(hw.copyFrom(r).invert()),l}const to={};$e.handleByMap(zt.ShapeBuilder,to);$e.add(uw,ow,cw,aa,nw,iw);const pw=new It,mw=new Ct;function gw(s,t){const{geometryData:i,batches:r}=t;r.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let l=0;l<s.instructions.length;l++){const u=s.instructions[l];if(u.action==="texture")yw(u.data,r,i);else if(u.action==="fill"||u.action==="stroke"){const c=u.action==="stroke",f=u.data.path.shapePath,p=u.data.style,m=u.data.hole;c&&m&&ry(m.shapePath,p,!0,r,i),m&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),ry(f,p,c,r,i)}}}function yw(s,t,i){const{vertices:r,uvs:l,indices:u}=i,c=u.length,f=r.length/2,p=[],m=to.rectangle,g=pw,v=s.image;g.x=s.dx,g.y=s.dy,g.width=s.dw,g.height=s.dh;const _=s.transform;m.build(g,p),_&&L0(p,_),m.triangulate(p,r,2,f,u,c);const x=v.uvs;l.push(x.x0,x.y0,x.x1,x.y1,x.x3,x.y3,x.x2,x.y2);const C=Hn.get(X0);C.indexOffset=c,C.indexSize=u.length-c,C.attributeOffset=f,C.attributeSize=r.length/2-f,C.baseColor=s.style,C.alpha=s.alpha,C.texture=v,C.geometryData=i,t.push(C)}function ry(s,t,i,r,l){const{vertices:u,uvs:c,indices:f}=l;s.shapePrimitives.forEach(({shape:p,transform:m,holes:g})=>{const v=f.length,_=u.length/2,x=[],C=to[p.type];let O="triangle-list";if(C.build(p,x),m&&L0(x,m),i){const B=p.closePath??!0,q=t;q.pixelLine?(aw(x,B,u,f),O="line-list"):rw(x,q,!1,B,u,f)}else if(g){const B=[],q=x.slice();vw(g).forEach(W=>{B.push(q.length/2),q.push(...W)}),q0(q,B,u,2,_,f,v)}else C.triangulate(x,u,2,_,f,v);const A=c.length/2,M=t.texture;if(M!==Gt.WHITE){const B=dw(mw,t,p,m);JS(u,2,_,c,A,2,u.length/2-_,B)}else tw(c,A,2,u.length/2-_);const z=Hn.get(X0);z.indexOffset=v,z.indexSize=f.length-v,z.attributeOffset=_,z.attributeSize=u.length/2-_,z.baseColor=t.color,z.alpha=t.alpha,z.texture=M,z.geometryData=l,z.topology=O,r.push(z)})}function vw(s){const t=[];for(let i=0;i<s.length;i++){const r=s[i].shape,l=[];to[r.type].build(r,l),t.push(l)}return t}class xw{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class bw{constructor(){this.batcher=new KS,this.instructions=new e0}init(){this.instructions.reset()}get geometry(){return mt(E_,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const tf=class Eh{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Eh.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??Eh.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let i=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){i?this._cleanGraphicsContextData(t):i=this._initContext(t),gw(t,i);const r=t.batchMode;t.customShader||r==="no-batch"?i.isBatchable=!1:r==="auto"&&(i.isBatchable=i.geometryData.vertices.length<400),t.dirty=!1}return i}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const i=Hn.get(bw),{batches:r,geometryData:l}=this._gpuContextHash[t.uid],u=l.vertices.length,c=l.indices.length;for(let g=0;g<r.length;g++)r[g].applyTransform=!1;const f=i.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(c),f.begin();for(let g=0;g<r.length;g++){const v=r[g];f.add(v)}f.finish(i.instructions);const p=f.geometry;p.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),p.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const m=f.batches;for(let g=0;g<m.length;g++){const v=m[g];v.bindGroup=fS(v.textures.textures,v.textures.count)}return this._graphicsDataContextHash[t.uid]=i,i}_initContext(t){const i=new xw;return i.context=t,this._gpuContextHash[t.uid]=i,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const i=this._gpuContextHash[t.uid];i.isBatchable||this._graphicsDataContextHash[t.uid]&&(Hn.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),i.batches&&i.batches.forEach(r=>{Hn.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};tf.extension={type:[zt.WebGLSystem,zt.WebGPUSystem,zt.CanvasSystem],name:"graphicsContext"};tf.defaultOptions={bezierSmoothness:.5};let j0=tf;const _w=8,Nl=11920929e-14,Sw=1;function V0(s,t,i,r,l,u,c,f,p,m){const v=Math.min(.99,Math.max(0,m??j0.defaultOptions.bezierSmoothness));let _=(Sw-v)/1;return _*=_,ww(t,i,r,l,u,c,f,p,s,_),s}function ww(s,t,i,r,l,u,c,f,p,m){Rh(s,t,i,r,l,u,c,f,p,m,0),p.push(c,f)}function Rh(s,t,i,r,l,u,c,f,p,m,g){if(g>_w)return;const v=(s+i)/2,_=(t+r)/2,x=(i+l)/2,C=(r+u)/2,O=(l+c)/2,A=(u+f)/2,M=(v+x)/2,z=(_+C)/2,B=(x+O)/2,q=(C+A)/2,j=(M+B)/2,W=(z+q)/2;if(g>0){let Z=c-s,rt=f-t;const it=Math.abs((i-c)*rt-(r-f)*Z),tt=Math.abs((l-c)*rt-(u-f)*Z);if(it>Nl&&tt>Nl){if((it+tt)*(it+tt)<=m*(Z*Z+rt*rt)){p.push(j,W);return}}else if(it>Nl){if(it*it<=m*(Z*Z+rt*rt)){p.push(j,W);return}}else if(tt>Nl){if(tt*tt<=m*(Z*Z+rt*rt)){p.push(j,W);return}}else if(Z=j-(s+c)/2,rt=W-(t+f)/2,Z*Z+rt*rt<=m){p.push(j,W);return}}Rh(s,t,v,_,M,z,j,W,p,m,g+1),Rh(j,W,B,q,O,A,c,f,p,m,g+1)}const Aw=8,Cw=11920929e-14,Tw=1;function Mw(s,t,i,r,l,u,c,f){const m=Math.min(.99,Math.max(0,f??j0.defaultOptions.bezierSmoothness));let g=(Tw-m)/1;return g*=g,Ew(t,i,r,l,u,c,s,g),s}function Ew(s,t,i,r,l,u,c,f){Oh(c,s,t,i,r,l,u,f,0),c.push(l,u)}function Oh(s,t,i,r,l,u,c,f,p){if(p>Aw)return;const m=(t+r)/2,g=(i+l)/2,v=(r+u)/2,_=(l+c)/2,x=(m+v)/2,C=(g+_)/2;let O=u-t,A=c-i;const M=Math.abs((r-u)*A-(l-c)*O);if(M>Cw){if(M*M<=f*(O*O+A*A)){s.push(x,C);return}}else if(O=x-(t+u)/2,A=C-(i+c)/2,O*O+A*A<=f){s.push(x,C);return}Oh(s,t,i,m,g,x,C,f,p+1),Oh(s,x,C,v,_,u,c,f,p+1)}function I0(s,t,i,r,l,u,c,f){let p=Math.abs(l-u);(!c&&l>u||c&&u>l)&&(p=2*Math.PI-p),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(p/Math.PI)))),f=Math.max(f,3);let m=p/f,g=l;m*=c?-1:1;for(let v=0;v<f+1;v++){const _=Math.cos(g),x=Math.sin(g),C=t+_*r,O=i+x*r;s.push(C,O),g+=m}}function Rw(s,t,i,r,l,u){const c=s[s.length-2],p=s[s.length-1]-i,m=c-t,g=l-i,v=r-t,_=Math.abs(p*v-m*g);if(_<1e-8||u===0){(s[s.length-2]!==t||s[s.length-1]!==i)&&s.push(t,i);return}const x=p*p+m*m,C=g*g+v*v,O=p*g+m*v,A=u*Math.sqrt(x)/_,M=u*Math.sqrt(C)/_,z=A*O/x,B=M*O/C,q=A*v+M*m,j=A*g+M*p,W=m*(M+z),Z=p*(M+z),rt=v*(A+B),it=g*(A+B),tt=Math.atan2(Z-j,W-q),nt=Math.atan2(it-j,rt-q);I0(s,q+t,j+i,u,tt,nt,m*g>v*p)}const Kr=Math.PI*2,sh={centerX:0,centerY:0,ang1:0,ang2:0},rh=({x:s,y:t},i,r,l,u,c,f,p)=>{s*=i,t*=r;const m=l*s-u*t,g=u*s+l*t;return p.x=m+c,p.y=g+f,p};function Ow(s,t){const i=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:i,l=Math.cos(s),u=Math.sin(s),c=Math.cos(s+t),f=Math.sin(s+t);return[{x:l-u*r,y:u+l*r},{x:c+f*r,y:f-c*r},{x:c,y:f}]}const ay=(s,t,i,r)=>{const l=s*r-t*i<0?-1:1;let u=s*i+t*r;return u>1&&(u=1),u<-1&&(u=-1),l*Math.acos(u)},zw=(s,t,i,r,l,u,c,f,p,m,g,v,_)=>{const x=Math.pow(l,2),C=Math.pow(u,2),O=Math.pow(g,2),A=Math.pow(v,2);let M=x*C-x*A-C*O;M<0&&(M=0),M/=x*A+C*O,M=Math.sqrt(M)*(c===f?-1:1);const z=M*l/u*v,B=M*-u/l*g,q=m*z-p*B+(s+i)/2,j=p*z+m*B+(t+r)/2,W=(g-z)/l,Z=(v-B)/u,rt=(-g-z)/l,it=(-v-B)/u,tt=ay(1,0,W,Z);let nt=ay(W,Z,rt,it);f===0&&nt>0&&(nt-=Kr),f===1&&nt<0&&(nt+=Kr),_.centerX=q,_.centerY=j,_.ang1=tt,_.ang2=nt};function Dw(s,t,i,r,l,u,c,f=0,p=0,m=0){if(u===0||c===0)return;const g=Math.sin(f*Kr/360),v=Math.cos(f*Kr/360),_=v*(t-r)/2+g*(i-l)/2,x=-g*(t-r)/2+v*(i-l)/2;if(_===0&&x===0)return;u=Math.abs(u),c=Math.abs(c);const C=Math.pow(_,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(c,2);C>1&&(u*=Math.sqrt(C),c*=Math.sqrt(C)),zw(t,i,r,l,u,c,p,m,g,v,_,x,sh);let{ang1:O,ang2:A}=sh;const{centerX:M,centerY:z}=sh;let B=Math.abs(A)/(Kr/4);Math.abs(1-B)<1e-7&&(B=1);const q=Math.max(Math.ceil(B),1);A/=q;let j=s[s.length-2],W=s[s.length-1];const Z={x:0,y:0};for(let rt=0;rt<q;rt++){const it=Ow(O,A),{x:tt,y:nt}=rh(it[0],u,c,v,g,M,z,Z),{x:ft,y:bt}=rh(it[1],u,c,v,g,M,z,Z),{x:Nt,y:kt}=rh(it[2],u,c,v,g,M,z,Z);V0(s,j,W,tt,nt,ft,bt,Nt,kt),j=Nt,W=kt,O+=A}}function Uw(s,t,i){const r=(c,f)=>{const p=f.x-c.x,m=f.y-c.y,g=Math.sqrt(p*p+m*m),v=p/g,_=m/g;return{len:g,nx:v,ny:_}},l=(c,f)=>{c===0?s.moveTo(f.x,f.y):s.lineTo(f.x,f.y)};let u=t[t.length-1];for(let c=0;c<t.length;c++){const f=t[c%t.length],p=f.radius??i;if(p<=0){l(c,f),u=f;continue}const m=t[(c+1)%t.length],g=r(f,u),v=r(f,m);if(g.len<1e-4||v.len<1e-4){l(c,f),u=f;continue}let _=Math.asin(g.nx*v.ny-g.ny*v.nx),x=1,C=!1;g.nx*v.nx-g.ny*-v.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,x=-1,C=!0):_>0&&(x=-1,C=!0);const O=_/2;let A,M=Math.abs(Math.cos(O)*p/Math.sin(O));M>Math.min(g.len/2,v.len/2)?(M=Math.min(g.len/2,v.len/2),A=Math.abs(M*Math.sin(O)/Math.cos(O))):A=p;const z=f.x+v.nx*M+-v.ny*A*x,B=f.y+v.ny*M+v.nx*A*x,q=Math.atan2(g.ny,g.nx)+Math.PI/2*x,j=Math.atan2(v.ny,v.nx)-Math.PI/2*x;c===0&&s.moveTo(z+Math.cos(q)*A,B+Math.sin(q)*A),s.arc(z,B,A,q,j,C),u=f}}function Bw(s,t,i,r){const l=(f,p)=>Math.sqrt((f.x-p.x)**2+(f.y-p.y)**2),u=(f,p,m)=>({x:f.x+(p.x-f.x)*m,y:f.y+(p.y-f.y)*m}),c=t.length;for(let f=0;f<c;f++){const p=t[(f+1)%c],m=p.radius??i;if(m<=0){f===0?s.moveTo(p.x,p.y):s.lineTo(p.x,p.y);continue}const g=t[f],v=t[(f+2)%c],_=l(g,p);let x;if(_<1e-4)x=p;else{const A=Math.min(_/2,m);x=u(p,g,A/_)}const C=l(v,p);let O;if(C<1e-4)O=p;else{const A=Math.min(C/2,m);O=u(p,v,A/C)}f===0?s.moveTo(x.x,x.y):s.lineTo(x.x,x.y),s.quadraticCurveTo(p.x,p.y,O.x,O.y,r)}}const Hw=new It;class Gw{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new sn,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,i){return this.startPoly(t,i),this}lineTo(t,i){this._ensurePoly();const r=this._currentPoly.points,l=r[r.length-2],u=r[r.length-1];return(l!==t||u!==i)&&r.push(t,i),this}arc(t,i,r,l,u,c){this._ensurePoly(!1);const f=this._currentPoly.points;return I0(f,t,i,r,l,u,c),this}arcTo(t,i,r,l,u){this._ensurePoly();const c=this._currentPoly.points;return Rw(c,t,i,r,l,u),this}arcToSvg(t,i,r,l,u,c,f){const p=this._currentPoly.points;return Dw(p,this._currentPoly.lastX,this._currentPoly.lastY,c,f,t,i,r,l,u),this}bezierCurveTo(t,i,r,l,u,c,f){this._ensurePoly();const p=this._currentPoly;return V0(this._currentPoly.points,p.lastX,p.lastY,t,i,r,l,u,c,f),this}quadraticCurveTo(t,i,r,l,u){this._ensurePoly();const c=this._currentPoly;return Mw(this._currentPoly.points,c.lastX,c.lastY,t,i,r,l,u),this}closePath(){return this.endPoly(!0),this}addPath(t,i){this.endPoly(),i&&!i.isIdentity()&&(t=t.clone(!0),t.transform(i));const r=this.shapePrimitives,l=r.length;for(let u=0;u<t.instructions.length;u++){const c=t.instructions[u];this[c.action](...c.data)}if(t.checkForHoles&&r.length-l>1){let u=null;for(let c=l;c<r.length;c++){const f=r[c];if(f.shape.type==="polygon"){const p=f.shape,m=u==null?void 0:u.shape;m&&m.containsPolygon(p)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(c,c+1),r.length--,c--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,i,r,l,u){return this.drawShape(new It(t,i,r,l),u),this}circle(t,i,r,l){return this.drawShape(new $h(t,i,r),l),this}poly(t,i,r){const l=new $r(t);return l.closePath=i,this.drawShape(l,r),this}regularPoly(t,i,r,l,u=0,c){l=Math.max(l|0,3);const f=-1*Math.PI/2+u,p=Math.PI*2/l,m=[];for(let g=0;g<l;g++){const v=f-g*p;m.push(t+r*Math.cos(v),i+r*Math.sin(v))}return this.poly(m,!0,c),this}roundPoly(t,i,r,l,u,c=0,f){if(l=Math.max(l|0,3),u<=0)return this.regularPoly(t,i,r,l,c);const p=r*Math.sin(Math.PI/l)-.001;u=Math.min(u,p);const m=-1*Math.PI/2+c,g=Math.PI*2/l,v=(l-2)*Math.PI/l/2;for(let _=0;_<l;_++){const x=_*g+m,C=t+r*Math.cos(x),O=i+r*Math.sin(x),A=x+Math.PI+v,M=x-Math.PI-v,z=C+u*Math.cos(A),B=O+u*Math.sin(A),q=C+u*Math.cos(M),j=O+u*Math.sin(M);_===0?this.moveTo(z,B):this.lineTo(z,B),this.quadraticCurveTo(C,O,q,j,f)}return this.closePath()}roundShape(t,i,r=!1,l){return t.length<3?this:(r?Bw(this,t,i,l):Uw(this,t,i),this.closePath())}filletRect(t,i,r,l,u){if(u===0)return this.rect(t,i,r,l);const c=Math.min(r,l)/2,f=Math.min(c,Math.max(-c,u)),p=t+r,m=i+l,g=f<0?-f:0,v=Math.abs(f);return this.moveTo(t,i+v).arcTo(t+g,i+g,t+v,i,v).lineTo(p-v,i).arcTo(p-g,i+g,p,i+v,v).lineTo(p,m-v).arcTo(p-g,m-g,t+r-v,m,v).lineTo(t+v,m).arcTo(t+g,m-g,t,m-v,v).closePath()}chamferRect(t,i,r,l,u,c){if(u<=0)return this.rect(t,i,r,l);const f=Math.min(u,Math.min(r,l)/2),p=t+r,m=i+l,g=[t+f,i,p-f,i,p,i+f,p,m-f,p-f,m,t+f,m,t,m-f,t,i+f];for(let v=g.length-1;v>=2;v-=2)g[v]===g[v-2]&&g[v-1]===g[v-3]&&g.splice(v-1,2);return this.poly(g,!0,c)}ellipse(t,i,r,l,u){return this.drawShape(new Kh(t,i,r,l),u),this}roundRect(t,i,r,l,u,c){return this.drawShape(new Jh(t,i,r,l,u),c),this}drawShape(t,i){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:i}),this}startPoly(t,i){let r=this._currentPoly;return r&&this.endPoly(),r=new $r,r.points.push(t,i),this._currentPoly=r,this}endPoly(t=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=t,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new $r,t)){const i=this.shapePrimitives[this.shapePrimitives.length-1];if(i){let r=i.shape.x,l=i.shape.y;if(i.transform&&!i.transform.isIdentity()){const u=i.transform,c=r;r=u.a*r+u.c*l+u.tx,l=u.b*c+u.d*l+u.ty}this._currentPoly.points.push(r,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<t.instructions.length;i++){const r=t.instructions[i];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const i=this.shapePrimitives;for(let r=0;r<i.length;r++){const l=i[r],u=l.shape.getBounds(Hw);l.transform?t.addRect(u,l.transform):t.addRect(u)}return t}}class Us{constructor(t,i=!1){this.instructions=[],this.uid=Jt("graphicsPath"),this._dirty=!0,this.checkForHoles=i,typeof t=="string"?rS(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Gw(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,i){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,i]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,i,r,l,u){const c=this.instructions[this.instructions.length-1],f=this.getLastPoint(At.shared);let p=0,m=0;if(!c||c.action!=="bezierCurveTo")p=f.x,m=f.y;else{p=c.data[2],m=c.data[3];const g=f.x,v=f.y;p=g+(g-p),m=v+(v-m)}return this.instructions.push({action:"bezierCurveTo",data:[p,m,t,i,r,l,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,i,r){const l=this.instructions[this.instructions.length-1],u=this.getLastPoint(At.shared);let c=0,f=0;if(!l||l.action!=="quadraticCurveTo")c=u.x,f=u.y;else{c=l.data[0],f=l.data[1];const p=u.x,m=u.y;c=p+(p-c),f=m+(m-f)}return this.instructions.push({action:"quadraticCurveTo",data:[c,f,t,i,r]}),this._dirty=!0,this}rect(t,i,r,l,u){return this.instructions.push({action:"rect",data:[t,i,r,l,u]}),this._dirty=!0,this}circle(t,i,r,l){return this.instructions.push({action:"circle",data:[t,i,r,l]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,i,r,l,u,c,f){u||(u=l/2);const p=-1*Math.PI/2+c,m=r*2,g=Math.PI*2/m,v=[];for(let _=0;_<m;_++){const x=_%2?u:l,C=_*g+p;v.push(t+x*Math.cos(C),i+x*Math.sin(C))}return this.poly(v,!0,f),this}clone(t=!1){const i=new Us;if(i.checkForHoles=this.checkForHoles,!t)i.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const l=this.instructions[r];i.instructions.push({action:l.action,data:l.data.slice()})}return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const i=t.a,r=t.b,l=t.c,u=t.d,c=t.tx,f=t.ty;let p=0,m=0,g=0,v=0,_=0,x=0,C=0,O=0;for(let A=0;A<this.instructions.length;A++){const M=this.instructions[A],z=M.data;switch(M.action){case"moveTo":case"lineTo":p=z[0],m=z[1],z[0]=i*p+l*m+c,z[1]=r*p+u*m+f;break;case"bezierCurveTo":g=z[0],v=z[1],_=z[2],x=z[3],p=z[4],m=z[5],z[0]=i*g+l*v+c,z[1]=r*g+u*v+f,z[2]=i*_+l*x+c,z[3]=r*_+u*x+f,z[4]=i*p+l*m+c,z[5]=r*p+u*m+f;break;case"quadraticCurveTo":g=z[0],v=z[1],p=z[2],m=z[3],z[0]=i*g+l*v+c,z[1]=r*g+u*v+f,z[2]=i*p+l*m+c,z[3]=r*p+u*m+f;break;case"arcToSvg":p=z[5],m=z[6],C=z[0],O=z[1],z[0]=i*C+l*O,z[1]=r*C+u*O,z[5]=i*p+l*m+c,z[6]=r*p+u*m+f;break;case"circle":z[4]=Yr(z[3],t);break;case"rect":z[4]=Yr(z[4],t);break;case"ellipse":z[8]=Yr(z[8],t);break;case"roundRect":z[5]=Yr(z[5],t);break;case"addPath":z[0].transform(t);break;case"poly":z[2]=Yr(z[2],t);break;default:Ye("unknown transform action",M.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let i=this.instructions.length-1,r=this.instructions[i];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(i--,i<0)return t.x=0,t.y=0,t;r=this.instructions[i]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function Yr(s,t){return s?s.prepend(t):t.clone()}function Vt(s,t,i){const r=s.getAttribute(t);return r?Number(r):i}function Nw(s,t){const i=s.querySelectorAll("defs");for(let r=0;r<i.length;r++){const l=i[r];for(let u=0;u<l.children.length;u++){const c=l.children[u];switch(c.nodeName.toLowerCase()){case"lineargradient":t.defs[c.id]=kw(c);break;case"radialgradient":t.defs[c.id]=Pw();break}}}}function kw(s){const t=Vt(s,"x1",0),i=Vt(s,"y1",0),r=Vt(s,"x2",1),l=Vt(s,"y2",0),u=s.getAttribute("gradientUnits")||"objectBoundingBox",c=new Jl(t,i,r,l,u==="objectBoundingBox"?"local":"global");for(let f=0;f<s.children.length;f++){const p=s.children[f],m=Vt(p,"offset",0),g=Me.shared.setValue(p.getAttribute("stop-color")).toNumber();c.addColorStop(m,g)}return c}function Pw(s){return Ye("[SVG Parser] Radial gradients are not yet supported"),new Jl(0,0,1,0)}function ly(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const oy={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function W0(s,t){const i=s.getAttribute("style"),r={},l={},u={strokeStyle:r,fillStyle:l,useFill:!1,useStroke:!1};for(const c in oy){const f=s.getAttribute(c);f&&uy(t,u,c,f.trim())}if(i){const c=i.split(";");for(let f=0;f<c.length;f++){const p=c[f].trim(),[m,g]=p.split(":");oy[m]&&uy(t,u,m,g.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?l:null,useFill:u.useFill,useStroke:u.useStroke}}function uy(s,t,i,r){switch(i){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const l=ly(r);t.strokeStyle.fill=s.defs[l]}else t.strokeStyle.color=Me.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const l=ly(r);t.fillStyle.fill=s.defs[l]}else t.fillStyle.color=Me.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function Yw(s,t){if(typeof s=="string"){const c=document.createElement("div");c.innerHTML=s.trim(),s=c.querySelector("svg")}const i={context:t,defs:{},path:new Us};Nw(s,i);const r=s.children,{fillStyle:l,strokeStyle:u}=W0(s,i);for(let c=0;c<r.length;c++){const f=r[c];f.nodeName.toLowerCase()!=="defs"&&Z0(f,i,l,u)}return t}function Z0(s,t,i,r){const l=s.children,{fillStyle:u,strokeStyle:c}=W0(s,t);u&&i?i={...i,...u}:u&&(i=u),c&&r?r={...r,...c}:c&&(r=c);const f=!i&&!r;f&&(i={color:0});let p,m,g,v,_,x,C,O,A,M,z,B,q,j,W,Z,rt;switch(s.nodeName.toLowerCase()){case"path":j=s.getAttribute("d"),s.getAttribute("fill-rule")==="evenodd"&&Ye("SVG Evenodd fill rule not supported, your svg may render incorrectly"),W=new Us(j,!0),t.context.path(W),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"circle":C=Vt(s,"cx",0),O=Vt(s,"cy",0),A=Vt(s,"r",0),t.context.ellipse(C,O,A,A),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"rect":p=Vt(s,"x",0),m=Vt(s,"y",0),Z=Vt(s,"width",0),rt=Vt(s,"height",0),M=Vt(s,"rx",0),z=Vt(s,"ry",0),M||z?t.context.roundRect(p,m,Z,rt,M||z):t.context.rect(p,m,Z,rt),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"ellipse":C=Vt(s,"cx",0),O=Vt(s,"cy",0),M=Vt(s,"rx",0),z=Vt(s,"ry",0),t.context.beginPath(),t.context.ellipse(C,O,M,z),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"line":g=Vt(s,"x1",0),v=Vt(s,"y1",0),_=Vt(s,"x2",0),x=Vt(s,"y2",0),t.context.beginPath(),t.context.moveTo(g,v),t.context.lineTo(_,x),r&&t.context.stroke(r);break;case"polygon":q=s.getAttribute("points"),B=q.match(/\d+/g).map(it=>parseInt(it,10)),t.context.poly(B,!0),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"polyline":q=s.getAttribute("points"),B=q.match(/\d+/g).map(it=>parseInt(it,10)),t.context.poly(B,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Ye(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}f&&(i=null);for(let it=0;it<l.length;it++)Z0(l[it],t,i,r)}function Lw(s){return Me.isColorLike(s)}function cy(s){return s instanceof eS}function hy(s){return s instanceof Jl}function Xw(s){return s instanceof Gt}function Fw(s,t,i){const r=Me.shared.setValue(t??0);return s.color=r.toNumber(),s.alpha=r.alpha===1?i.alpha:r.alpha,s.texture=Gt.WHITE,{...i,...s}}function qw(s,t,i){return s.texture=t,{...i,...s}}function fy(s,t,i){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...i,...s}}function dy(s,t,i){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...i,...s}}function jw(s,t){const i={...t,...s},r=Me.shared.setValue(i.color);return i.alpha*=r.alpha,i.color=r.toNumber(),i}function Zr(s,t){if(s==null)return null;const i={},r=s;return Lw(s)?Fw(i,s,t):Xw(s)?qw(i,s,t):cy(s)?fy(i,s,t):hy(s)?dy(i,s,t):r.fill&&cy(r.fill)?fy(r,r.fill,t):r.fill&&hy(r.fill)?dy(r,r.fill,t):jw(r,t)}function py(s,t){const{width:i,alignment:r,miterLimit:l,cap:u,join:c,pixelLine:f,...p}=t,m=Zr(s,p);return m?{width:i,alignment:r,miterLimit:l,cap:u,join:c,pixelLine:f,...m}:null}const Vw=new At,my=new Ct,ef=class fn extends kn{constructor(){super(...arguments),this.uid=Jt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Us,this._transform=new Ct,this._fillStyle={...fn.defaultFillStyle},this._strokeStyle={...fn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new sn,this._boundsDirty=!0}clone(){const t=new fn;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Zr(t,fn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=py(t,fn.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Zr(t,fn.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Zr(t,fn.defaultStrokeStyle),this}texture(t,i,r,l,u,c){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:l||0,dw:u||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i?Me.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Us,this}fill(t,i){let r;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l&&l.action==="stroke"?r=l.data.path:r=this._activePath.clone(),r?(t!=null&&(i!==void 0&&typeof t=="number"&&(mt(Kt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:i}),this._fillStyle=Zr(t,fn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:i}=this._activePath.getLastPoint(At.shared);this._activePath.clear(),this._activePath.moveTo(t,i)}stroke(t){let i;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?i=r.data.path:i=this._activePath.clone(),i?(t!=null&&(this._strokeStyle=py(t,fn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const i=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(i&&(i.action==="stroke"||i.action==="fill"))if(i.data.hole)i.data.hole.addPath(r);else{i.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,i,r,l,u,c){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*i+f.tx,f.b*t+f.d*i+f.ty,r,l,u,c),this}arcTo(t,i,r,l,u){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*r+c.c*l+c.tx,c.b*r+c.d*l+c.ty,u),this}arcToSvg(t,i,r,l,u,c,f){this._tick++;const p=this._transform;return this._activePath.arcToSvg(t,i,r,l,u,p.a*c+p.c*f+p.tx,p.b*c+p.d*f+p.ty),this}bezierCurveTo(t,i,r,l,u,c,f){this._tick++;const p=this._transform;return this._activePath.bezierCurveTo(p.a*t+p.c*i+p.tx,p.b*t+p.d*i+p.ty,p.a*r+p.c*l+p.tx,p.b*r+p.d*l+p.ty,p.a*u+p.c*c+p.tx,p.b*u+p.d*c+p.ty,f),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,i,r,l){return this._tick++,this._activePath.ellipse(t,i,r,l,this._transform.clone()),this}circle(t,i,r){return this._tick++,this._activePath.circle(t,i,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,i){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*i+r.tx,r.b*t+r.d*i+r.ty),this}moveTo(t,i){this._tick++;const r=this._transform,l=this._activePath.instructions,u=r.a*t+r.c*i+r.tx,c=r.b*t+r.d*i+r.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=u,l[0].data[1]=c,this):(this._activePath.moveTo(u,c),this)}quadraticCurveTo(t,i,r,l,u){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*r+c.c*l+c.tx,c.b*r+c.d*l+c.ty,u),this}rect(t,i,r,l){return this._tick++,this._activePath.rect(t,i,r,l,this._transform.clone()),this}roundRect(t,i,r,l,u){return this._tick++,this._activePath.roundRect(t,i,r,l,u,this._transform.clone()),this}poly(t,i){return this._tick++,this._activePath.poly(t,i,this._transform.clone()),this}regularPoly(t,i,r,l,u=0,c){return this._tick++,this._activePath.regularPoly(t,i,r,l,u,c),this}roundPoly(t,i,r,l,u,c){return this._tick++,this._activePath.roundPoly(t,i,r,l,u,c),this}roundShape(t,i,r,l){return this._tick++,this._activePath.roundShape(t,i,r,l),this}filletRect(t,i,r,l,u){return this._tick++,this._activePath.filletRect(t,i,r,l,u),this}chamferRect(t,i,r,l,u,c){return this._tick++,this._activePath.chamferRect(t,i,r,l,u,c),this}star(t,i,r,l,u=0,c=0){return this._tick++,this._activePath.star(t,i,r,l,u,c,this._transform.clone()),this}svg(t){return this._tick++,Yw(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,i=t){return this._transform.scale(t,i),this}setTransform(t,i,r,l,u,c){return t instanceof Ct?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,i,r,l,u,c),this)}transform(t,i,r,l,u,c){return t instanceof Ct?(this._transform.append(t),this):(my.set(t,i,r,l,u,c),this._transform.append(my),this)}translate(t,i=t){return this._transform.translate(t,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let i=0;i<this.instructions.length;i++){const r=this.instructions[i],l=r.action;if(l==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(l==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(l==="stroke"){const u=r.data,c=u.style.alignment,f=u.style.width*(1-c),p=u.path.bounds;t.addFrame(p.minX-f,p.minY-f,p.maxX+f,p.maxY+f)}}return t}containsPoint(t){var l;if(!this.bounds.containsPoint(t.x,t.y))return!1;const i=this.instructions;let r=!1;for(let u=0;u<i.length;u++){const c=i[u],f=c.data,p=f.path;if(!c.action||!p)continue;const m=f.style,g=p.shapePath.shapePrimitives;for(let v=0;v<g.length;v++){const _=g[v].shape;if(!m||!_)continue;const x=g[v].transform,C=x?x.applyInverse(t,Vw):t;if(c.action==="fill")r=_.contains(C.x,C.y);else{const A=m;r=_.strokeContains(C.x,C.y,A.width,A.alignment)}const O=f.hole;if(O){const A=(l=O.shapePath)==null?void 0:l.shapePrimitives;if(A)for(let M=0;M<A.length;M++)A[M].shape.contains(C.x,C.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};ef.defaultFillStyle={color:16777215,alpha:1,texture:Gt.WHITE,matrix:null,fill:null,textureSpace:"local"};ef.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Gt.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Lr=ef;var Iw=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Ww=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,gy=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const Q0=class $0 extends Li{constructor(t){t={...$0.defaultOptions,...t};const i=rn.from({vertex:{source:gy,entryPoint:"mainVertex"},fragment:{source:gy,entryPoint:"mainFragment"}}),r=Yn.from({vertex:Iw,fragment:Ww,name:"alpha-filter"}),{alpha:l,...u}=t,c=new Zh({uAlpha:{value:l,type:"f32"}});super({...u,gpuProgram:i,glProgram:r,resources:{alphaUniforms:c}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(t){this.resources.alphaUniforms.uniforms.uAlpha=t}};Q0.defaultOptions={alpha:1};let Zw=Q0;const K0={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Qw=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function $w(s){const t=K0[s],i=t.length;let r=Qw,l="";const u="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let c;for(let f=0;f<s;f++){let p=u.replace("%index%",f.toString());c=f,f>=i&&(c=s-f-1),p=p.replace("%value%",t[c].toString()),l+=p,l+=`
`}return r=r.replace("%blur%",l),r=r.replace("%size%",s.toString()),r}const Kw=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function Jw(s,t){const i=Math.ceil(s/2);let r=Kw,l="",u;t?u="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":u="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let c=0;c<s;c++){let f=u.replace("%index%",c.toString());f=f.replace("%sampleIndex%",`${c-(i-1)}.0`),l+=f,l+=`
`}return r=r.replace("%blur%",l),r=r.replace("%size%",s.toString()),r=r.replace("%dimension%",t?"z":"w"),r}function tA(s,t){const i=Jw(t,s),r=$w(t);return Yn.from({vertex:i,fragment:r,name:`blur-${s?"horizontal":"vertical"}-pass-filter`})}var eA=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function nA(s,t){const i=K0[t],r=i.length,l=[],u=[],c=[];for(let v=0;v<t;v++){l[v]=`@location(${v}) offset${v}: vec2<f32>,`,s?u[v]=`filteredCord + vec2(${v-r+1} * pixelStrength, 0.0),`:u[v]=`filteredCord + vec2(0.0, ${v-r+1} * pixelStrength),`;const _=v<r?v:t-v-1,x=i[_].toString();c[v]=`finalColor += textureSample(uTexture, uSampler, offset${v}) * ${x};`}const f=l.join(`
`),p=u.join(`
`),m=c.join(`
`),g=eA.replace("%blur-struct%",f).replace("%blur-vertex-out%",p).replace("%blur-fragment-in%",f).replace("%blur-sampling%",m).replace("%dimension%",s?"z":"w");return rn.from({vertex:{source:g,entryPoint:"mainVertex"},fragment:{source:g,entryPoint:"mainFragment"}})}const J0=class tv extends Li{constructor(t){t={...tv.defaultOptions,...t};const i=tA(t.horizontal,t.kernelSize),r=nA(t.horizontal,t.kernelSize);super({glProgram:i,gpuProgram:r,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...t}),this.horizontal=t.horizontal,this._quality=0,this.quality=t.quality,this.blur=t.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(t,i,r,l){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)t.applyFilter(this,i,r,l);else{const u=Yi.getSameSizeTexture(i);let c=i,f=u;this._state.blend=!1;const p=t.renderer.type===sa.WEBGPU;for(let m=0;m<this.passes-1;m++){t.applyFilter(this,c,f,m===0?!0:p);const g=f;f=c,c=g}this._state.blend=!0,t.applyFilter(this,c,r,l),Yi.returnTexture(u)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}};J0.defaultOptions={strength:8,quality:4,kernelSize:5};let Jr=J0;class ql extends Li{constructor(...t){let i=t[0]??{};typeof i=="number"&&(mt(Kt,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),i={strength:i},t[1]!==void 0&&(i.quality=t[1]),t[2]!==void 0&&(i.resolution=t[2]||"inherit"),t[3]!==void 0&&(i.kernelSize=t[3])),i={...Jr.defaultOptions,...i};const{strength:r,strengthX:l,strengthY:u,quality:c,...f}=i;super({...f,compatibleRenderers:sa.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Jr({horizontal:!0,...i}),this.blurYFilter=new Jr({horizontal:!1,...i}),this.quality=c,this.strengthX=l??r,this.strengthY=u??r,this.repeatEdgePixels=!1}apply(t,i,r,l){const u=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(u&&c){const f=Yi.getSameSizeTexture(i);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(t,i,f,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,f,r,l),Yi.returnTexture(f)}else c?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,i,r,l)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(t,i,r,l))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get strengthX(){return this.blurXFilter.blur}set strengthX(t){this.blurXFilter.blur=t,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(t){this.blurYFilter.blur=t,this.updatePadding()}get blur(){return mt("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(t){mt("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=t}get blurX(){return mt("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(t){mt("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=t}get blurY(){return mt("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(t){mt("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}ql.defaultOptions={strength:8,quality:4,kernelSize:5};class Un extends n0{constructor(t){t instanceof Lr&&(t={context:t});const{context:i,roundPixels:r,...l}=t||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",i?this._context=i:this._context=this._ownedContext=new Lr,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,i){return this.context[t](...i),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new Un(this._context.clone()):(this._ownedContext=null,new Un(this._context))}lineStyle(t,i,r){mt(Kt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return t&&(l.width=t),i&&(l.color=i),r&&(l.alpha=r),this.context.strokeStyle=l,this}beginFill(t,i){mt(Kt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),i!==void 0&&(r.alpha=i),this.context.fillStyle=r,this}endFill(){mt(Kt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Lr.defaultStrokeStyle.width||t.color!==Lr.defaultStrokeStyle.color||t.alpha!==Lr.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return mt(Kt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return mt(Kt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return mt(Kt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return mt(Kt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return mt(Kt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return mt(Kt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}$e.add(v_,x_);var eo=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,no=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}`,iA=Object.defineProperty,sA=(s,t,i)=>t in s?iA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,jl=(s,t,i)=>(sA(s,typeof t!="symbol"?t+"":t,i),i);const ev=class nv extends Zw{constructor(...t){let i=t[0]??{};if(typeof i=="number"||Array.isArray(i)||"x"in i&&"y"in i){mt("6.0.0","BloomFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }");let r=i;Array.isArray(r)&&(r={x:r[0],y:r[1]}),i={strength:r},t[1]!==void 0&&(i.quality=t[1]),t[2]!==void 0&&(i.resolution=t[2]),t[3]!==void 0&&(i.kernelSize=t[3])}i={...nv.DEFAULT_OPTIONS,...i},super(),jl(this,"_blurXFilter"),jl(this,"_blurYFilter"),jl(this,"_strength"),this._strength={x:2,y:2},i.strength&&(typeof i.strength=="number"?(this._strength.x=i.strength,this._strength.y=i.strength):(this._strength.x=i.strength.x,this._strength.y=i.strength.y)),this._blurXFilter=new Jr({...i,horizontal:!0,strength:this.strengthX}),this._blurYFilter=new Jr({...i,horizontal:!1,strength:this.strengthY}),this._blurYFilter.blendMode="screen",Object.assign(this,i)}apply(t,i,r,l){const u=Yi.getSameSizeTexture(i);t.applyFilter(this,i,r,l),this._blurXFilter.apply(t,i,u,!0),this._blurYFilter.apply(t,u,r,!1),Yi.returnTexture(u)}get strength(){return this._strength}set strength(t){this._strength=typeof t=="number"?{x:t,y:t}:t,this._updateStrength()}get strengthX(){return this.strength.x}set strengthX(t){this.strength.x=t,this._updateStrength()}get strengthY(){return this.strength.y}set strengthY(t){this.strength.y=t,this._updateStrength()}_updateStrength(){this._blurXFilter.blur=this.strengthX,this._blurYFilter.blur=this.strengthY}get blur(){return mt("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strengthX}set blur(t){mt("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strength=t}get blurX(){return mt("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX}set blurX(t){mt("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX=t}get blurY(){return mt("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY}set blurY(t){mt("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY=t}};jl(ev,"DEFAULT_OPTIONS",{strength:{x:2,y:2},quality:4,resolution:1,kernelSize:5});let ah=ev;var rA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uStrength;
uniform vec3 uColor;
uniform float uKnockout;
uniform float uAlpha;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159265358979323846264;

// Hard-assignment of DIST and ANGLE_STEP_SIZE instead of using uDistance and uQuality to allow them to be use on GLSL loop conditions
const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.);
const float ANGLE_STEP_NUM = ceil(PI * 2. / ANGLE_STEP_SIZE);
const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.) / 2.;

void main(void) {
    vec2 px = vec2(1.) / uInputSize.xy;

    float totalAlpha = 0.;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.; angle < PI * 2.; angle += ANGLE_STEP_SIZE) {
      direction = vec2(cos(angle), sin(angle)) * px;

      for (float curDistance = 0.; curDistance < DIST; curDistance++) {
          displaced = clamp(vTextureCoord + direction * (curDistance + 1.), uInputClamp.xy, uInputClamp.zw);
          curColor = texture(uTexture, displaced);
          totalAlpha += (DIST - curDistance) * curColor.a;
      }
    }
    
    curColor = texture(uTexture, vTextureCoord);

    vec4 glowColor = vec4(uColor, uAlpha);
    bool knockout = uKnockout > .5;
    float innerStrength = uStrength[0];
    float outerStrength = uStrength[1];

    float alphaRatio = totalAlpha / MAX_TOTAL_ALPHA;
    float innerGlowAlpha = (1. - alphaRatio) * innerStrength * curColor.a * uAlpha;
    float innerGlowStrength = min(1., innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);
    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a) * uAlpha;
    float outerGlowStrength = min(1. - innerColor.a, outerGlowAlpha);
    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;

    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      finalColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      finalColor = innerColor + outerGlowColor;
    }
}
`,aA=`struct GlowUniforms {
  uDistance: f32,
  uStrength: vec2<f32>,
  uColor: vec3<f32>,
  uAlpha: f32,
  uQuality: f32,
  uKnockout: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> glowUniforms : GlowUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let quality = glowUniforms.uQuality;
  let distance = glowUniforms.uDistance;

  let dist: f32 = glowUniforms.uDistance;
  let angleStepSize: f32 = min(1. / quality / distance, PI * 2.0);
  let angleStepNum: f32 = ceil(PI * 2.0 / angleStepSize);

  let px: vec2<f32> = vec2<f32>(1.0 / gfu.uInputSize.xy);

  var totalAlpha: f32 = 0.0;

  var direction: vec2<f32>;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.0; angle < PI * 2.0; angle += angleStepSize) {
    direction = vec2<f32>(cos(angle), sin(angle)) * px;
    for (var curDistance = 0.0; curDistance < dist; curDistance+=1) {
      displaced = vec2<f32>(clamp(uv + direction * (curDistance + 1.0), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
      curColor = textureSample(uTexture, uSampler, displaced);
      totalAlpha += (dist - curDistance) * curColor.a;
    }
  }
    
  curColor = textureSample(uTexture, uSampler, uv);

  let glowColorRGB = glowUniforms.uColor;
  let glowAlpha = glowUniforms.uAlpha;
  let glowColor = vec4<f32>(glowColorRGB, glowAlpha);
  let knockout: bool = glowUniforms.uKnockout > 0.5;
  let innerStrength = glowUniforms.uStrength[0];
  let outerStrength = glowUniforms.uStrength[1];

  let alphaRatio: f32 = (totalAlpha / (angleStepNum * dist * (dist + 1.0) / 2.0));
  let innerGlowAlpha: f32 = (1.0 - alphaRatio) * innerStrength * curColor.a * glowAlpha;
  let innerGlowStrength: f32 = min(1.0, innerGlowAlpha);
  
  let innerColor: vec4<f32> = mix(curColor, glowColor, innerGlowStrength);
  let outerGlowAlpha: f32 = alphaRatio * outerStrength * (1. - curColor.a) * glowAlpha;
  let outerGlowStrength: f32 = min(1.0 - innerColor.a, outerGlowAlpha);
  let outerGlowColor: vec4<f32> = outerGlowStrength * glowColor.rgba;
  
  if (knockout) {
    let resultAlpha: f32 = outerGlowAlpha + innerGlowAlpha;
    return vec4<f32>(glowColor.rgb * resultAlpha, resultAlpha);
  }
  else {
    return innerColor + outerGlowColor;
  }
}

const PI: f32 = 3.14159265358979323846264;`,lA=Object.defineProperty,oA=(s,t,i)=>t in s?lA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,zh=(s,t,i)=>(oA(s,typeof t!="symbol"?t+"":t,i),i);const iv=class sv extends Li{constructor(t){t={...sv.DEFAULT_OPTIONS,...t};const i=t.distance??10,r=t.quality??.1,l=rn.from({vertex:{source:no,entryPoint:"mainVertex"},fragment:{source:aA,entryPoint:"mainFragment"}}),u=Yn.from({vertex:eo,fragment:rA.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/r/i).toFixed(7)}`).replace(/__DIST__/gi,`${i.toFixed(0)}.0`),name:"glow-filter"});super({gpuProgram:l,glProgram:u,resources:{glowUniforms:{uDistance:{value:i,type:"f32"},uStrength:{value:[t.innerStrength,t.outerStrength],type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:t.alpha,type:"f32"},uQuality:{value:r,type:"f32"},uKnockout:{value:(t==null?void 0:t.knockout)??!1?1:0,type:"f32"}}},padding:i}),zh(this,"uniforms"),zh(this,"_color"),this.uniforms=this.resources.glowUniforms.uniforms,this._color=new Me,this.color=t.color??16777215}get distance(){return this.uniforms.uDistance}set distance(t){this.uniforms.uDistance=this.padding=t}get innerStrength(){return this.uniforms.uStrength[0]}set innerStrength(t){this.uniforms.uStrength[0]=t}get outerStrength(){return this.uniforms.uStrength[1]}set outerStrength(t){this.uniforms.uStrength[1]=t}get color(){return this._color.value}set color(t){this._color.setValue(t);const[i,r,l]=this._color.toArray();this.uniforms.uColor[0]=i,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=l}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get quality(){return this.uniforms.uQuality}set quality(t){this.uniforms.uQuality=t}get knockout(){return this.uniforms.uKnockout===1}set knockout(t){this.uniforms.uKnockout=t?1:0}};zh(iv,"DEFAULT_OPTIONS",{distance:10,outerStrength:4,innerStrength:0,color:16777215,alpha:1,quality:.1,knockout:!1});let lh=iv;var uA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uThickness;
uniform vec3 uColor;
uniform float uAlpha;
uniform float uKnockout;

uniform vec4 uInputClamp;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${ANGLE_STEP};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture(uTexture, clamp(displacedPos, uInputClamp.xy, uInputClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture(uTexture, vTextureCoord);
    vec4 contentColor = sourceColor * float(uKnockout < 0.5);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    finalColor = contentColor + outlineColor;
}
`,cA=`struct OutlineUniforms {
  uThickness:vec2<f32>,
  uColor:vec3<f32>,
  uAlpha:f32,
  uAngleStep:f32,
  uKnockout:f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> outlineUniforms : OutlineUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let sourceColor: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let contentColor: vec4<f32> = sourceColor * (1. - outlineUniforms.uKnockout);
  
  let outlineAlpha: f32 = outlineUniforms.uAlpha * outlineMaxAlphaAtPos(uv) * (1. - sourceColor.a);
  let outlineColor: vec4<f32> = vec4<f32>(vec3<f32>(outlineUniforms.uColor) * outlineAlpha, outlineAlpha);
  
  return contentColor + outlineColor;
}

fn outlineMaxAlphaAtPos(uv: vec2<f32>) -> f32 {
  let thickness = outlineUniforms.uThickness;

  if (thickness.x == 0. || thickness.y == 0.) {
    return 0.;
  }
  
  let angleStep = outlineUniforms.uAngleStep;

  var displacedColor: vec4<f32>;
  var displacedPos: vec2<f32>;

  var maxAlpha: f32 = 0.;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.; angle <= DOUBLE_PI; angle += angleStep)
  {
    displaced.x = uv.x + thickness.x * cos(angle);
    displaced.y = uv.y + thickness.y * sin(angle);
    curColor = textureSample(uTexture, uSampler, clamp(displaced, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
    maxAlpha = max(maxAlpha, curColor.a);
  }

  return maxAlpha;
}

const DOUBLE_PI: f32 = 3.14159265358979323846264 * 2.;`,hA=Object.defineProperty,fA=(s,t,i)=>t in s?hA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Pi=(s,t,i)=>(fA(s,typeof t!="symbol"?t+"":t,i),i);const io=class ki extends Li{constructor(...t){let i=t[0]??{};typeof i=="number"&&(mt("6.0.0","OutlineFilter constructor params are now options object. See params: { thickness, color, quality, alpha, knockout }"),i={thickness:i},t[1]!==void 0&&(i.color=t[1]),t[2]!==void 0&&(i.quality=t[2]),t[3]!==void 0&&(i.alpha=t[3]),t[4]!==void 0&&(i.knockout=t[4])),i={...ki.DEFAULT_OPTIONS,...i};const r=i.quality??.1,l=rn.from({vertex:{source:no,entryPoint:"mainVertex"},fragment:{source:cA,entryPoint:"mainFragment"}}),u=Yn.from({vertex:eo,fragment:uA.replace(/\$\{ANGLE_STEP\}/,ki.getAngleStep(r).toFixed(7)),name:"outline-filter"});super({gpuProgram:l,glProgram:u,resources:{outlineUniforms:{uThickness:{value:new Float32Array(2),type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:i.alpha,type:"f32"},uAngleStep:{value:0,type:"f32"},uKnockout:{value:i.knockout?1:0,type:"f32"}}}}),Pi(this,"uniforms"),Pi(this,"_thickness"),Pi(this,"_quality"),Pi(this,"_color"),this.uniforms=this.resources.outlineUniforms.uniforms,this.uniforms.uAngleStep=ki.getAngleStep(r),this._color=new Me,this.color=i.color??0,Object.assign(this,i)}apply(t,i,r,l){this.uniforms.uThickness[0]=this.thickness/i.source.width,this.uniforms.uThickness[1]=this.thickness/i.source.height,t.applyFilter(this,i,r,l)}static getAngleStep(t){return parseFloat((Math.PI*2/Math.max(t*ki.MAX_SAMPLES,ki.MIN_SAMPLES)).toFixed(7))}get thickness(){return this._thickness}set thickness(t){this._thickness=this.padding=t}get color(){return this._color.value}set color(t){this._color.setValue(t);const[i,r,l]=this._color.toArray();this.uniforms.uColor[0]=i,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=l}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get quality(){return this._quality}set quality(t){this._quality=t,this.uniforms.uAngleStep=ki.getAngleStep(t)}get knockout(){return this.uniforms.uKnockout===1}set knockout(t){this.uniforms.uKnockout=t?1:0}};Pi(io,"DEFAULT_OPTIONS",{thickness:1,color:0,alpha:1,quality:.1,knockout:!1});Pi(io,"MIN_SAMPLES",1);Pi(io,"MAX_SAMPLES",100);let oh=io;var dA=`
precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uCenter;
uniform float uTime;
uniform float uSpeed;
uniform vec4 uWave;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159;

void main()
{
    float uAmplitude = uWave[0];
    float uWavelength = uWave[1];
    float uBrightness = uWave[2];
    float uRadius = uWave[3];

    float halfWavelength = uWavelength * 0.5 / uInputSize.x;
    float maxRadius = uRadius / uInputSize.x;
    float currentRadius = uTime * uSpeed / uInputSize.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            finalColor = texture(uTexture, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - uCenter / uInputSize.xy);
    dir.y *= uInputSize.y / uInputSize.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        finalColor = texture(uTexture, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );

    vec2 offset = diffUV * powDiff / uInputSize.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, uInputClamp.xy, uInputClamp.zw);
    vec4 color = texture(uTexture, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // finalColor = texture(uTexture, vTextureCoord + offset);

    color.rgb *= 1.0 + (uBrightness - 1.0) * p * fade;

    finalColor = color;
}
`,pA=`
struct ShockWaveUniforms {
    uTime: f32,
    uOffset: vec2<f32>,
    uSpeed: f32,
    uWave: vec4<f32>,
};

struct GlobalFilterUniforms {
    uInputSize:vec4<f32>,
    uInputPixel:vec4<f32>,
    uInputClamp:vec4<f32>,
    uOutputFrame:vec4<f32>,
    uGlobalFrame:vec4<f32>,
    uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> shockwaveUniforms : ShockWaveUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {

    let uTime = shockwaveUniforms.uTime;
    let uOffset = shockwaveUniforms.uOffset;
    let uSpeed = shockwaveUniforms.uSpeed;
    let uAmplitude = shockwaveUniforms.uWave[0];
    let uWavelength = shockwaveUniforms.uWave[1];
    let uBrightness = shockwaveUniforms.uWave[2];
    let uRadius = shockwaveUniforms.uWave[3];
    let halfWavelength: f32 = uWavelength * 0.5 / gfu.uInputSize.x;
    let maxRadius: f32 = uRadius / gfu.uInputSize.x;
    let currentRadius: f32 = uTime * uSpeed / gfu.uInputSize.x;
    var fade: f32 = 1.0;
    var returnColorOnly: bool = false;
    
    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            returnColorOnly = true;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }
    var dir: vec2<f32> = vec2<f32>(uv - uOffset / gfu.uInputSize.xy);
    dir.y *= gfu.uInputSize.y / gfu.uInputSize.x;

    let dist:f32 = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        returnColorOnly = true;
    }

    let diffUV: vec2<f32> = normalize(dir);
    let diff: f32 = (dist - currentRadius) / halfWavelength;
    let p: f32 = 1.0 - pow(abs(diff), 2.0);
    let powDiff: f32 = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );
    let offset: vec2<f32> = diffUV * powDiff / gfu.uInputSize.xy;
    // Do clamp :
    let coord: vec2<f32> = uv + offset;
    let clampedCoord: vec2<f32> = clamp(coord, gfu.uInputClamp.xy, gfu.uInputClamp.zw);

    var clampedColor: vec4<f32> = textureSample(uTexture, uSampler, clampedCoord);
    
    if (boolVec2(coord, clampedCoord)) 
    {
        clampedColor *= max(0.0, 1.0 - length(coord - clampedCoord));
    }
    // No clamp :
    var finalColor = clampedColor;

    return select(finalColor, textureSample(uTexture, uSampler, uv), returnColorOnly);
}

fn boolVec2(x: vec2<f32>, y: vec2<f32>) -> bool
{
    if (x.x == y.x && x.y == y.y)
    {
        return true;
    }
    
    return false;
}

const PI: f32 = 3.14159265358979323846264;
`,mA=Object.defineProperty,gA=(s,t,i)=>t in s?mA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Dh=(s,t,i)=>(gA(s,typeof t!="symbol"?t+"":t,i),i);const rv=class av extends Li{constructor(...t){let i=t[0]??{};(Array.isArray(i)||"x"in i&&"y"in i)&&(mt("6.0.0","ShockwaveFilter constructor params are now options object. See params: { center, speed, amplitude, wavelength, brightness, radius, time }"),i={center:i,...t[1]},t[2]!==void 0&&(i.time=t[2])),i={...av.DEFAULT_OPTIONS,...i};const r=rn.from({vertex:{source:no,entryPoint:"mainVertex"},fragment:{source:pA,entryPoint:"mainFragment"}}),l=Yn.from({vertex:eo,fragment:dA,name:"shockwave-filter"});super({gpuProgram:r,glProgram:l,resources:{shockwaveUniforms:{uTime:{value:i.time,type:"f32"},uCenter:{value:i.center,type:"vec2<f32>"},uSpeed:{value:i.speed,type:"f32"},uWave:{value:new Float32Array(4),type:"vec4<f32>"}}}}),Dh(this,"uniforms"),Dh(this,"time"),this.time=0,this.uniforms=this.resources.shockwaveUniforms.uniforms,Object.assign(this,i)}apply(t,i,r,l){this.uniforms.uTime=this.time,t.applyFilter(this,i,r,l)}get center(){return this.uniforms.uCenter}set center(t){Array.isArray(t)&&(t={x:t[0],y:t[1]}),this.uniforms.uCenter=t}get centerX(){return this.uniforms.uCenter.x}set centerX(t){this.uniforms.uCenter.x=t}get centerY(){return this.uniforms.uCenter.y}set centerY(t){this.uniforms.uCenter.y=t}get speed(){return this.uniforms.uSpeed}set speed(t){this.uniforms.uSpeed=t}get amplitude(){return this.uniforms.uWave[0]}set amplitude(t){this.uniforms.uWave[0]=t}get wavelength(){return this.uniforms.uWave[1]}set wavelength(t){this.uniforms.uWave[1]=t}get brightness(){return this.uniforms.uWave[2]}set brightness(t){this.uniforms.uWave[2]=t}get radius(){return this.uniforms.uWave[3]}set radius(t){this.uniforms.uWave[3]=t}};Dh(rv,"DEFAULT_OPTIONS",{center:{x:0,y:0},speed:500,amplitude:30,wavelength:160,brightness:1,radius:-1});let uh=rv;var yA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uStrength;
uniform float uNoiseScale;
uniform float uOffsetX;
uniform float uOffsetY;
uniform float uOffsetZ;
uniform float uStep;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

//Noise from: https://www.shadertoy.com/view/4sc3z2
const vec3 MOD3 = vec3(.1031,.11369,.13787);
vec3 hash33(vec3 p3)
{
	p3 = fract(p3 * MOD3);
    p3 += dot(p3, p3.yxz+19.19);
    return -1.0 + 2.0 * fract(vec3((p3.x + p3.y)*p3.z, (p3.x+p3.z)*p3.y, (p3.y+p3.z)*p3.x));
}

float simplex_noise(vec3 p)
{
    const float K1 = 0.333333333;
    const float K2 = 0.166666667;
    
    vec3 i = floor(p + (p.x + p.y + p.z) * K1);
    vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);
    
    vec3 e = step(vec3(0.0), d0 - d0.yzx);
	vec3 i1 = e * (1.0 - e.zxy);
	vec3 i2 = 1.0 - e.zxy * (1.0 - e);
    
    vec3 d1 = d0 - (i1 - 1.0 * K2);
    vec3 d2 = d0 - (i2 - 2.0 * K2);
    vec3 d3 = d0 - (1.0 - 3.0 * K2);
    
    vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0);
    vec4 n = h * h * h * h * vec4(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.0)));
    
    return dot(vec4(31.316), n);
}

void main(void)
{
    float noise = simplex_noise(
                    vec3(vTextureCoord*uNoiseScale+vec2(uOffsetX, uOffsetY), uOffsetZ)
                ) * 0.5 + 0.5;

    noise += 2.0 * uStrength - 1.0;
    noise = clamp(noise, 0.0, 1.0);

    if (uStep > 0.0) {  //step > 0.5
        noise = 1.0 - step(noise, uStep);
    }

    finalColor = texture(uTexture, vTextureCoord) * noise;
}
`,vA=`struct SimplexUniforms {
  uStrength:f32,
  uNoiseScale:f32,
  uOffsetX:f32,
  uOffsetY:f32,
  uOffsetZ:f32,
  uStep:f32
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> simplexUniforms : SimplexUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  var noise: f32 = simplex_noise(vec3<f32>(uv * simplexUniforms.uNoiseScale + vec2<f32>(simplexUniforms.uOffsetX, simplexUniforms.uOffsetY), simplexUniforms.uOffsetZ)) * 0.5 + 0.5;
	noise = noise + (2. * simplexUniforms.uStrength - 1.);
	noise = clamp(noise, 0.0, 1.0);
	if (simplexUniforms.uStep > 0.0) {
		noise = 1. - step(noise, simplexUniforms.uStep);
	}
	return textureSample(uTexture, uSampler, uv) * noise;
}

const MOD3: vec3<f32> = vec3<f32>(0.1031, 0.11369, 0.13787);
fn hash33(p3: vec3<f32>) -> vec3<f32> {
	var p3_var = p3;
	p3_var = fract(p3_var * MOD3);
	p3_var = p3_var + (dot(p3_var, p3_var.yxz + 19.19));
	return -1. + 2. * fract(vec3<f32>((p3_var.x + p3_var.y) * p3_var.z, (p3_var.x + p3_var.z) * p3_var.y, (p3_var.y + p3_var.z) * p3_var.x));
} 

fn simplex_noise(p: vec3<f32>) -> f32 {
	let K1: f32 = 0.33333334;
	let K2: f32 = 0.16666667;
	let i: vec3<f32> = floor(p + (p.x + p.y + p.z) * K1);
	let d0: vec3<f32> = p - (i - (i.x + i.y + i.z) * K2);
	let e: vec3<f32> = step(vec3<f32>(0.), d0 - d0.yzx);
	let i1: vec3<f32> = e * (1. - e.zxy);
	let i2: vec3<f32> = 1. - e.zxy * (1. - e);
	let d1: vec3<f32> = d0 - (i1 - 1. * K2);
	let d2: vec3<f32> = d0 - (i2 - 2. * K2);
	let d3: vec3<f32> = d0 - (1. - 3. * K2);
	let h: vec4<f32> = max(vec4<f32>(0.6) - vec4<f32>(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), vec4<f32>(0.0));
	let n: vec4<f32> = h * h * h * h * vec4<f32>(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.)));
	return dot(vec4<f32>(31.316), n);
} `,xA=Object.defineProperty,bA=(s,t,i)=>t in s?xA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,_A=(s,t,i)=>(bA(s,t+"",i),i);const lv=class ov extends Li{constructor(t){t={...ov.defaults,...t};const i=rn.from({vertex:{source:no,entryPoint:"mainVertex"},fragment:{source:vA,entryPoint:"mainFragment"}}),r=Yn.from({vertex:eo,fragment:yA,name:"simplex-filter"});super({gpuProgram:i,glProgram:r,resources:{simplexUniforms:{uStrength:{value:(t==null?void 0:t.strength)??0,type:"f32"},uNoiseScale:{value:(t==null?void 0:t.noiseScale)??0,type:"f32"},uOffsetX:{value:(t==null?void 0:t.offsetX)??0,type:"f32"},uOffsetY:{value:(t==null?void 0:t.offsetY)??0,type:"f32"},uOffsetZ:{value:(t==null?void 0:t.offsetZ)??0,type:"f32"},uStep:{value:(t==null?void 0:t.step)??0,type:"f32"}}}})}get strength(){return this.resources.simplexUniforms.uniforms.uStrength}set strength(t){this.resources.simplexUniforms.uniforms.uStrength=t}get noiseScale(){return this.resources.simplexUniforms.uniforms.uNoiseScale}set noiseScale(t){this.resources.simplexUniforms.uniforms.uNoiseScale=t}get offsetX(){return this.resources.simplexUniforms.uniforms.uOffsetX}set offsetX(t){this.resources.simplexUniforms.uniforms.uOffsetX=t}get offsetY(){return this.resources.simplexUniforms.uniforms.uOffsetY}set offsetY(t){this.resources.simplexUniforms.uniforms.uOffsetY=t}get offsetZ(){return this.resources.simplexUniforms.uniforms.uOffsetZ}set offsetZ(t){this.resources.simplexUniforms.uniforms.uOffsetZ=t}get step(){return this.resources.simplexUniforms.uniforms.uStep}set step(t){this.resources.simplexUniforms.uniforms.uStep=t}};_A(lv,"defaults",{strength:.5,noiseScale:10,offsetX:0,offsetY:0,offsetZ:0,step:-1});let ch=lv;class la{constructor(t){if(this.layer=t.layers??4,this.numChildren=t.numChildren??6,this.radius=t.radius??10,this.colour=t.colour??"white",this.distance=(this.radius+2)*Math.pow(3,this.layer-1),this.children=[],this.container=new Pn,this.moveControl=-1,this.motionFunc=function(i){},this.setMotionFunc(t.motionFunc??0),this.shape=new Un,this.setShape(t.shape??0),this.shape.filters=[],t.filters&&this.addFilters(t.filters),this.layer>1){const i={...t};i.layers=this.layer-1;for(let r=0;r<this.numChildren;r++){const l=new la(i);this.children.push(l);const u=2*Math.PI/this.numChildren;l.container.x=this.distance*Math.cos(r*u),l.container.y=this.distance*Math.sin(r*u),this.container.addChild(l.container)}}}setMotionFunc(t){switch(t){case 1:{this.motionFunc=function(i){const r=2*Math.PI/this.numChildren;for(let l=0;l<this.children.length;l++){const u=this.children[l].container,c=2*this.distance/3*Math.cos(l*r),f=2*this.distance/3*Math.sin(l*r),p=Math.atan2(u.y-f,u.x-c);u.x=c+this.distance/3*Math.cos(p+7*this.layer*i),u.y=f+this.distance/3*Math.sin(p+7*this.layer*i)}this.container.rotation+=this.layer*this.layer*i};break}default:this.moveControl=-1,this.motionFunc=function(i){const r=2*Math.PI/this.numChildren,l=this.distance,u=1/this.layer*this.distance;for(let c=0;c<this.children.length;c++){const f=this.children[c],p=f.container;Math.sqrt(Math.pow(p.x,2)+Math.pow(p.y,2))>=l?f.moveControl=-1:Math.sqrt(Math.pow(p.x,2)+Math.pow(p.y,2))<=u&&(f.moveControl=1);const m=30*(f.moveControl*Math.pow(this.distance,2/3)+this.layer)*i;p.x+=m*Math.cos(c*r),p.y+=m*Math.sin(c*r)}this.container.rotation+=this.layer*this.layer*i}}}setShape(t){switch(t){case 1:{this.shape=new Un().rect(-this.radius,-this.radius,2*this.radius,2*this.radius).fill(this.colour);break}case 2:{const l=2*this.radius,u=Math.sqrt(3)/2*l,c=[0,0-2/3*u],f=[0-l/2,0+u/3],p=[0+l/2,0+u/3];this.shape=new Un().poly([...c,...f,...p]).fill(this.colour);break}case 3:{const u=1.3*this.radius,c=.7*this.radius,f=[];for(let p=0;p<5*2;p++){const m=Math.PI/5*p,g=p%2===0?u:c,v=0+Math.cos(m)*g,_=0+Math.sin(m)*g;f.push(v,_)}this.shape=new Un().poly(f).fill(this.colour);break}case 4:{const l=1.1*this.radius,u=.8*this.radius,c=1*this.radius,f=1.5*this.radius;this.shape=new Un().bezierCurveTo(0,0-u,0-l,0-u,0-l,0).bezierCurveTo(0-l,0+u,0,0+c,0,0+f).bezierCurveTo(0,0+c,0+l,0+u,0+l,0).bezierCurveTo(0+l,0-u,0,0-u,0,0).fill(this.colour);break}default:this.shape=new Un().circle(0,0,this.radius).fill(this.colour)}this.container.addChild(this.shape)}addFilters(t){const i=this.shape.filters,r=Array.isArray(i)?[...i]:i?[i]:[];for(const l of t)switch(l){case"outline":{r.some(u=>u instanceof oh)||r.push(new oh);break}case"glow":{r.some(u=>u instanceof lh)||r.push(new lh);break}}this.shape.filters=r;for(const l of this.children)l.addFilters(t)}removeFilters(t){const i=this.shape.filters;var r=Array.isArray(i)?i:i?[i]:[];for(const l of t)switch(l){case"outline":{r=r.filter(u=>!(u instanceof oh));break}case"glow":{r=r.filter(u=>!(u instanceof lh));break}}this.shape.filters=r;for(const l of this.children)l.removeFilters(t)}motion(t){if(this.motionFunc(t),this.layer!=1)for(let i=0;i<this.children.length;i++)this.children[i].motion(t)}}class so{constructor(){this.app=new Ch}static async create(t,i,r,l){const u=new so;return u.app=new Ch,await u.app.init({canvas:t,background:l??"black",width:r,height:i}),u.app.stage.filters=[],u}addFilters(t){const i=this.app.stage.filters,r=Array.isArray(i)?[...i]:i?[i]:[];for(const l of t)switch(l){case"blur":{r.some(u=>u instanceof ql)||r.push(new ql);break}case"bloom":{r.some(u=>u instanceof ah)||r.push(new ah);break}case"shockwave":{r.some(u=>u instanceof uh)||r.push(new uh);break}case"noise":{r.some(u=>u instanceof ch)||r.push(new ch);break}}this.app.stage.filters=r}removeFilters(t){const i=this.app.stage.filters;var r=Array.isArray(i)?i:i?[i]:[];for(const l of t)switch(l){case"blur":{r=r.filter(u=>!(u instanceof ql));break}case"bloom":{r=r.filter(u=>!(u instanceof ah));break}case"shockwave":{r=r.filter(u=>!(u instanceof uh));break}case"noise":{r=r.filter(u=>!(u instanceof ch));break}}this.app.stage.filters=r}}function Xr({options:s,filters:t}){const i={...s},r=L.useRef(null),l=L.useRef(null),u=L.useRef(null),c=L.useRef(null),[f,p]=L.useState(null);return L.useLayoutEffect(()=>{if(r.current){const m=r.current.getBoundingClientRect().width;p(m)}},[]),L.useEffect(()=>{if(!l.current||f===null)return;i.radius=f/80;const m=l.current;(async()=>{const g=await so.create(m,f,f);u.current=g.app,t&&g.addFilters(t);const v=new la(i);c.current=v,v.container.position.set(f/2,f/2),u.current.stage.addChild(v.container),u.current.ticker.add(_=>{v.motion(.001*_.deltaTime)})})()},[f]),$.jsx("div",{ref:r,style:{width:"100%"},children:f&&$.jsx("canvas",{ref:l})})}const SA={title:"Spin Art",featured:{name:"The Classic",description:$.jsxs($.Fragment,{children:[$.jsx("p",{children:"Ever wondered what nested spinning looks like but was unable to simulate it inside your head? Now you've seen it!"}),$.jsx("p",{children:"The Classic Spin Art is composed of two simple motions:"}),$.jsxs("ul",{children:[$.jsx("li",{children:"Each child spins around the parent at contant speed"}),$.jsx("li",{children:"Each child moves closer or further away from the parent at constant speed"})]}),$.jsx("p",{children:"Putting these simple motions togther and nesting them within eachother give you -- The Classic Spin Art!"})]}),preview:$.jsx(Xr,{options:{}}),link:"/art/spin-classic"},gallery:[{name:"Lovely Dance",preview:$.jsx(Xr,{options:{shape:4,motionFunc:1,colour:"#ff00ff"}})},{name:"Glow with the Stars",preview:$.jsx(Xr,{options:{numChildren:5,shape:3,colour:"yellow",filters:["glow"]}})},{name:"Clovers",preview:$.jsx(Xr,{options:{numChildren:3,shape:2,colour:"00aa00"},filters:["bloom"]})},{name:"Behind the Mist",preview:$.jsx(Xr,{options:{numChildren:8,shape:1,colour:"ff0000"},filters:["noise","blur"]})}]};function wA(){const{id:s}=zy();if(s==="spin"){const t=SA;return $.jsx(AA,{title:t.title,featured:t.featured,gallery:t.gallery})}else return $.jsx("div",{children:"Artwork Note Found."})}function AA({title:s,featured:t,gallery:i}){return $.jsxs($.Fragment,{children:[$.jsx("section",{className:"featured-display",children:$.jsxs("div",{className:"section-content",children:[$.jsx("h1",{className:"section-head",children:s}),$.jsx("ul",{role:"list",className:"section-tiles",children:$.jsx("li",{role:"listitem",className:"tile-item nr-scroll-animation item-hero",children:$.jsxs("div",{className:"tile tile-hero small-loaded medium-loaded large-loaded","aria-label":"",children:[$.jsx("div",{className:"tile__media","aria-hidden":"true",children:t.preview}),$.jsxs("div",{className:"tile__description","aria-hidden":"true",children:[$.jsxs("div",{className:"tile__head",children:[$.jsx("h2",{children:t.name}),t.description]}),$.jsx(zs,{to:t.link??"/",className:"button-art-page-link",target:"_blank",rel:"noopener noreferrer",children:"Customize this piece"})]})]})},"1")})]})}),$.jsx("section",{className:"variations",children:$.jsxs("div",{className:"section-content",children:[$.jsx("h1",{className:"section-head",children:"Variations"}),$.jsx("ul",{role:"list",className:"section-tiles",children:i.map((r,l)=>$.jsx("li",{role:"listitem",className:"tile-item nr-scroll-animation item-2up",children:$.jsxs("div",{className:"tile tile-2up small-loaded medium-loaded large-loaded","aria-label":"",children:[$.jsx("div",{className:"tile__media","aria-hidden":"true",children:r.preview}),$.jsx("div",{className:"tile__description","aria-hidden":"true",children:$.jsx("div",{className:"tile__head",children:$.jsx("h2",{children:r.name})})})]})},l))})]})})]})}function ro(){return(ro=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s}).apply(this,arguments)}function uv(s,t){if(s==null)return{};var i,r,l={},u=Object.keys(s);for(r=0;r<u.length;r++)t.indexOf(i=u[r])>=0||(l[i]=s[i]);return l}function Uh(s){var t=L.useRef(s),i=L.useRef(function(r){t.current&&t.current(r)});return t.current=s,i.current}var oa=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s<t?t:s},ta=function(s){return"touches"in s},Bh=function(s){return s&&s.ownerDocument.defaultView||self},yy=function(s,t,i){var r=s.getBoundingClientRect(),l=ta(t)?function(u,c){for(var f=0;f<u.length;f++)if(u[f].identifier===c)return u[f];return u[0]}(t.touches,i):t;return{left:oa((l.pageX-(r.left+Bh(s).pageXOffset))/r.width),top:oa((l.pageY-(r.top+Bh(s).pageYOffset))/r.height)}},vy=function(s){!ta(s)&&s.preventDefault()},cv=me.memo(function(s){var t=s.onMove,i=s.onKey,r=uv(s,["onMove","onKey"]),l=L.useRef(null),u=Uh(t),c=Uh(i),f=L.useRef(null),p=L.useRef(!1),m=L.useMemo(function(){var x=function(A){vy(A),(ta(A)?A.touches.length>0:A.buttons>0)&&l.current?u(yy(l.current,A,f.current)):O(!1)},C=function(){return O(!1)};function O(A){var M=p.current,z=Bh(l.current),B=A?z.addEventListener:z.removeEventListener;B(M?"touchmove":"mousemove",x),B(M?"touchend":"mouseup",C)}return[function(A){var M=A.nativeEvent,z=l.current;if(z&&(vy(M),!function(q,j){return j&&!ta(q)}(M,p.current)&&z)){if(ta(M)){p.current=!0;var B=M.changedTouches||[];B.length&&(f.current=B[0].identifier)}z.focus(),u(yy(z,M,f.current)),O(!0)}},function(A){var M=A.which||A.keyCode;M<37||M>40||(A.preventDefault(),c({left:M===39?.05:M===37?-.05:0,top:M===40?.05:M===38?-.05:0}))},O]},[c,u]),g=m[0],v=m[1],_=m[2];return L.useEffect(function(){return _},[_]),me.createElement("div",ro({},r,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:l,onKeyDown:v,tabIndex:0,role:"slider"}))}),nf=function(s){return s.filter(Boolean).join(" ")},hv=function(s){var t=s.color,i=s.left,r=s.top,l=r===void 0?.5:r,u=nf(["react-colorful__pointer",s.className]);return me.createElement("div",{className:u,style:{top:100*l+"%",left:100*i+"%"}},me.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},he=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i},CA=function(s){return OA(Hh(s))},Hh=function(s){return s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?he(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?he(parseInt(s.substring(6,8),16)/255,2):1}},TA=function(s){return RA(EA(s))},MA=function(s){var t=s.s,i=s.v,r=s.a,l=(200-t)*i/100;return{h:he(s.h),s:he(l>0&&l<200?t*i/100/(l<=100?l:200-l)*100:0),l:he(l/2),a:he(r,2)}},Gh=function(s){var t=MA(s);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},EA=function(s){var t=s.h,i=s.s,r=s.v,l=s.a;t=t/360*6,i/=100,r/=100;var u=Math.floor(t),c=r*(1-i),f=r*(1-(t-u)*i),p=r*(1-(1-t+u)*i),m=u%6;return{r:he(255*[r,f,c,c,p,r][m]),g:he(255*[p,r,r,f,c,c][m]),b:he(255*[c,c,p,r,r,f][m]),a:he(l,2)}},kl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},RA=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=l<1?kl(he(255*l)):"";return"#"+kl(t)+kl(i)+kl(r)+u},OA=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=Math.max(t,i,r),c=u-Math.min(t,i,r),f=c?u===t?(i-r)/c:u===i?2+(r-t)/c:4+(t-i)/c:0;return{h:he(60*(f<0?f+6:f)),s:he(u?c/u*100:0),v:he(u/255*100),a:l}},zA=me.memo(function(s){var t=s.hue,i=s.onChange,r=nf(["react-colorful__hue",s.className]);return me.createElement("div",{className:r},me.createElement(cv,{onMove:function(l){i({h:360*l.left})},onKey:function(l){i({h:oa(t+360*l.left,0,360)})},"aria-label":"Hue","aria-valuenow":he(t),"aria-valuemax":"360","aria-valuemin":"0"},me.createElement(hv,{className:"react-colorful__hue-pointer",left:t/360,color:Gh({h:t,s:100,v:100,a:1})})))}),DA=me.memo(function(s){var t=s.hsva,i=s.onChange,r={backgroundColor:Gh({h:t.h,s:100,v:100,a:1})};return me.createElement("div",{className:"react-colorful__saturation",style:r},me.createElement(cv,{onMove:function(l){i({s:100*l.left,v:100-100*l.top})},onKey:function(l){i({s:oa(t.s+100*l.left,0,100),v:oa(t.v-100*l.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+he(t.s)+"%, Brightness "+he(t.v)+"%"},me.createElement(hv,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Gh(t)})))}),fv=function(s,t){if(s===t)return!0;for(var i in s)if(s[i]!==t[i])return!1;return!0},UA=function(s,t){return s.toLowerCase()===t.toLowerCase()||fv(Hh(s),Hh(t))};function BA(s,t,i){var r=Uh(i),l=L.useState(function(){return s.toHsva(t)}),u=l[0],c=l[1],f=L.useRef({color:t,hsva:u});L.useEffect(function(){if(!s.equal(t,f.current.color)){var m=s.toHsva(t);f.current={hsva:m,color:t},c(m)}},[t,s]),L.useEffect(function(){var m;fv(u,f.current.hsva)||s.equal(m=s.fromHsva(u),f.current.color)||(f.current={hsva:u,color:m},r(m))},[u,s,r]);var p=L.useCallback(function(m){c(function(g){return Object.assign({},g,m)})},[]);return[u,p]}var HA=typeof window<"u"?L.useLayoutEffect:L.useEffect,GA=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},xy=new Map,NA=function(s){HA(function(){var t=s.current?s.current.ownerDocument:document;if(t!==void 0&&!xy.has(t)){var i=t.createElement("style");i.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,xy.set(t,i);var r=GA();r&&i.setAttribute("nonce",r),t.head.appendChild(i)}},[])},kA=function(s){var t=s.className,i=s.colorModel,r=s.color,l=r===void 0?i.defaultColor:r,u=s.onChange,c=uv(s,["className","colorModel","color","onChange"]),f=L.useRef(null);NA(f);var p=BA(i,l,u),m=p[0],g=p[1],v=nf(["react-colorful",t]);return me.createElement("div",ro({},c,{ref:f,className:v}),me.createElement(DA,{hsva:m,onChange:g}),me.createElement(zA,{hue:m.h,onChange:g,className:"react-colorful__last-control"}))},PA={defaultColor:"000",toHsva:CA,fromHsva:function(s){return TA({h:s.h,s:s.s,v:s.v,a:1})},equal:UA},YA=function(s){return me.createElement(kA,ro({},s,{colorModel:PA}))},LA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function XA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dv={exports:{}};(function(s,t){(function(){var i,r;r=function(l){return s.exports=l},i={linear:function(l,u,c,f){return c*l/f+u},easeInQuad:function(l,u,c,f){return c*(l/=f)*l+u},easeOutQuad:function(l,u,c,f){return-c*(l/=f)*(l-2)+u},easeInOutQuad:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l+u:-c/2*(--l*(l-2)-1)+u},easeInCubic:function(l,u,c,f){return c*(l/=f)*l*l+u},easeOutCubic:function(l,u,c,f){return c*((l=l/f-1)*l*l+1)+u},easeInOutCubic:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l*l+u:c/2*((l-=2)*l*l+2)+u},easeInQuart:function(l,u,c,f){return c*(l/=f)*l*l*l+u},easeOutQuart:function(l,u,c,f){return-c*((l=l/f-1)*l*l*l-1)+u},easeInOutQuart:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l*l*l+u:-c/2*((l-=2)*l*l*l-2)+u},easeInQuint:function(l,u,c,f){return c*(l/=f)*l*l*l*l+u},easeOutQuint:function(l,u,c,f){return c*((l=l/f-1)*l*l*l*l+1)+u},easeInOutQuint:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l*l*l*l+u:c/2*((l-=2)*l*l*l*l+2)+u},easeInSine:function(l,u,c,f){return-c*Math.cos(l/f*(Math.PI/2))+c+u},easeOutSine:function(l,u,c,f){return c*Math.sin(l/f*(Math.PI/2))+u},easeInOutSine:function(l,u,c,f){return-c/2*(Math.cos(Math.PI*l/f)-1)+u},easeInExpo:function(l,u,c,f){return l===0?u:c*Math.pow(2,10*(l/f-1))+u},easeOutExpo:function(l,u,c,f){return l===f?u+c:c*(-Math.pow(2,-10*l/f)+1)+u},easeInOutExpo:function(l,u,c,f){return(l/=f/2)<1?c/2*Math.pow(2,10*(l-1))+u:c/2*(-Math.pow(2,-10*--l)+2)+u},easeInCirc:function(l,u,c,f){return-c*(Math.sqrt(1-(l/=f)*l)-1)+u},easeOutCirc:function(l,u,c,f){return c*Math.sqrt(1-(l=l/f-1)*l)+u},easeInOutCirc:function(l,u,c,f){return(l/=f/2)<1?-c/2*(Math.sqrt(1-l*l)-1)+u:c/2*(Math.sqrt(1-(l-=2)*l)+1)+u},easeInElastic:function(l,u,c,f){var p,m,g;return g=1.70158,m=0,p=c,l===0||(l/=f),m||(m=f*.3),p<Math.abs(c)?(p=c,g=m/4):g=m/(2*Math.PI)*Math.asin(c/p),-(p*Math.pow(2,10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m))+u},easeOutElastic:function(l,u,c,f){var p,m,g;return g=1.70158,m=0,p=c,l===0||(l/=f),m||(m=f*.3),p<Math.abs(c)?(p=c,g=m/4):g=m/(2*Math.PI)*Math.asin(c/p),p*Math.pow(2,-10*l)*Math.sin((l*f-g)*(2*Math.PI)/m)+c+u},easeInOutElastic:function(l,u,c,f){var p,m,g;return g=1.70158,m=0,p=c,l===0||(l/=f/2),m||(m=f*(.3*1.5)),p<Math.abs(c)?(p=c,g=m/4):g=m/(2*Math.PI)*Math.asin(c/p),l<1?-.5*(p*Math.pow(2,10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m))+u:p*Math.pow(2,-10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m)*.5+c+u},easeInBack:function(l,u,c,f,p){return p===void 0&&(p=1.70158),c*(l/=f)*l*((p+1)*l-p)+u},easeOutBack:function(l,u,c,f,p){return p===void 0&&(p=1.70158),c*((l=l/f-1)*l*((p+1)*l+p)+1)+u},easeInOutBack:function(l,u,c,f,p){return p===void 0&&(p=1.70158),(l/=f/2)<1?c/2*(l*l*(((p*=1.525)+1)*l-p))+u:c/2*((l-=2)*l*(((p*=1.525)+1)*l+p)+2)+u},easeInBounce:function(l,u,c,f){var p;return p=i.easeOutBounce(f-l,0,c,f),c-p+u},easeOutBounce:function(l,u,c,f){return(l/=f)<1/2.75?c*(7.5625*l*l)+u:l<2/2.75?c*(7.5625*(l-=1.5/2.75)*l+.75)+u:l<2.5/2.75?c*(7.5625*(l-=2.25/2.75)*l+.9375)+u:c*(7.5625*(l-=2.625/2.75)*l+.984375)+u},easeInOutBounce:function(l,u,c,f){var p;return l<f/2?(p=i.easeInBounce(l*2,0,c,f),p*.5+u):(p=i.easeOutBounce(l*2-f,0,c,f),p*.5+c*.5+u)}},r(i)}).call(LA)})(dv);var FA=dv.exports;const by=XA(FA);function ao(s,t){if(s){if(typeof s=="function")return s;if(typeof s=="string")return by[s]}else return by[t]}class qA{constructor(t){this.viewport=t,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new It(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=t=>this.handleWheel(t),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){var t;(t=this.viewport.options.events.domElement)==null||t.removeEventListener("wheel",this.wheelFunction)}down(t){if(!(this.viewport.pause||!this.viewport.visible)){if(t.pointerType==="mouse"?this.isMouseDown=!0:this.get(t.pointerId)||this.touches.push({id:t.pointerId,last:null}),this.count()===1){this.last=t.global.clone();const i=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!i||!i.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(t){return Math.abs(t)>=this.viewport.threshold}move(t){if(this.viewport.pause||!this.viewport.visible)return;const i=this.viewport.plugins.move(t);if(this.clickedAvailable&&this.last){const r=t.global.x-this.last.x,l=t.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(l))&&(this.clickedAvailable=!1)}i&&this.viewport.options.stopPropagation&&t.stopPropagation()}up(t){if(this.viewport.pause||!this.viewport.visible)return;t.pointerType==="mouse"&&(this.isMouseDown=!1),t.pointerType!=="mouse"&&this.remove(t.pointerId);const i=this.viewport.plugins.up(t);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),i&&this.viewport.options.stopPropagation&&t.stopPropagation()}getPointerPosition(t){const i=new At;return this.viewport.options.events.mapPositionToPoint(i,t.clientX,t.clientY),i}handleWheel(t){if(this.viewport.pause||!this.viewport.visible)return;const i=this.viewport.toLocal(this.getPointerPosition(t));this.viewport.left<=i.x&&i.x<=this.viewport.right&&this.viewport.top<=i.y&&i.y<=this.viewport.bottom&&this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(t){for(const i of this.touches)if(i.id===t)return i;return null}remove(t){for(let i=0;i<this.touches.length;i++)if(this.touches[i].id===t){this.touches.splice(i,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const Fr=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class jA{constructor(t){this.viewport=t,this.list=[],this.plugins={}}add(t,i,r=Fr.length){const l=this.plugins[t];l&&l.destroy(),this.plugins[t]=i;const u=Fr.indexOf(t);u!==-1&&Fr.splice(u,1),Fr.splice(r,0,t),this.sort()}get(t,i){var r;return i&&(r=this.plugins[t])!=null&&r.paused?null:this.plugins[t]}update(t){for(const i of this.list)i.update(t)}resize(){for(const t of this.list)t.resize()}reset(){for(const t of this.list)t.reset()}removeAll(){this.list.forEach(t=>{t.destroy()}),this.plugins={},this.sort()}remove(t){var i;this.plugins[t]&&((i=this.plugins[t])==null||i.destroy(),delete this.plugins[t],this.viewport.emit("plugin-remove",t),this.sort())}pause(t){var i;(i=this.plugins[t])==null||i.pause()}resume(t){var i;(i=this.plugins[t])==null||i.resume()}sort(){this.list=[];for(const t of Fr)this.plugins[t]&&this.list.push(this.plugins[t])}down(t){let i=!1;for(const r of this.list)r.down(t)&&(i=!0);return i}move(t){let i=!1;for(const r of this.viewport.plugins.list)r.move(t)&&(i=!0);return i}up(t){let i=!1;for(const r of this.list)r.up(t)&&(i=!0);return i}wheel(t){let i=!1;for(const r of this.list)r.wheel(t)&&(i=!0);return i}}class Ke{constructor(t){this.parent=t,this.paused=!1}destroy(){}down(t){return!1}move(t){return!1}up(t){return!1}wheel(t){return!1}update(t){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}const VA={removeOnInterrupt:!1,ease:"linear",time:1e3};class IA extends Ke{constructor(t,i={}){super(t),this.startWidth=null,this.startHeight=null,this.deltaWidth=null,this.deltaHeight=null,this.width=null,this.height=null,this.time=0,this.options=Object.assign({},VA,i),this.options.ease=ao(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(t){if(this.paused)return;this.time+=t;const i=new At(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,l=this.parent.height;this.complete(),(r!==this.parent.width||l!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:i,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const l=this.startWidth,u=this.deltaWidth;this.parent.fitWidth(l+u*r,this.keepCenter,this.height===null)}if(this.height!==null){const l=this.startHeight,u=this.deltaHeight;this.parent.fitHeight(l+u*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const l=this.startX,u=this.startY,c=this.deltaX,f=this.deltaY,p=new At(this.parent.x,this.parent.y);this.parent.moveCenter(l+c*r,u+f*r),this.parent.emit("moved",{viewport:this.parent,original:p,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:i,type:"animate"})}}}const WA={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class ZA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},WA,i),this.ease=ao(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(t){if(!this.paused){if(this.bounce(),this.toX){const i=this.toX;i.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),i.time>=this.options.time?(this.parent.x=i.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(i.time,i.start,i.delta,this.options.time)}if(this.toY){const i=this.toY;i.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),i.time>=this.options.time?(this.parent.y=i.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(i.time,i.start,i.delta,this.options.time)}}}calcUnderflowX(){let t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}calcUnderflowY(){let t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}oob(){const t=this.options.bounceBox;if(t){const i=typeof t.x>"u"?0:t.x,r=typeof t.y>"u"?0:t.y,l=typeof t.width>"u"?this.parent.worldWidth:t.width,u=typeof t.height>"u"?this.parent.worldHeight:t.height;return{left:this.parent.left<i,right:this.parent.right>l,top:this.parent.top<r,bottom:this.parent.bottom>u,topLeft:new At(i*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new At(l*this.parent.scale.x-this.parent.screenWidth,u*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new At(0,0),bottomRight:new At(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var t,i;if(this.paused)return;let r,l=this.parent.plugins.get("decelerate",!0);l&&(l.x||l.y)&&(l.x&&l.percentChangeX===((t=l.options)==null?void 0:t.friction)||l.y&&l.percentChangeY===((i=l.options)==null?void 0:i.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(l.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(l.percentChangeY=this.options.friction));const u=this.parent.plugins.get("drag",!0)||{},c=this.parent.plugins.get("pinch",!0)||{};if(l=l||{},!(u!=null&&u.active)&&!(c!=null&&c.active)&&(!this.toX||!this.toY)&&(!l.x||!l.y)){r=r||this.oob();const f=r.topLeft,p=r.bottomRight;if(!this.toX&&!l.x){let m=null;r.left&&this.left?m=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-f.x:r.right&&this.right&&(m=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-p.x),m!==null&&this.parent.x!==m&&(this.toX={time:0,start:this.parent.x,delta:m-this.parent.x,end:m},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!l.y){let m=null;r.top&&this.top?m=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-f.y:r.bottom&&this.bottom&&(m=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-p.y),m!==null&&this.parent.y!==m&&(this.toY={time:0,start:this.parent.y,delta:m-this.parent.y,end:m},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const QA={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class $A extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},QA,i),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="none"?this.noUnderflow=!0:t==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=t.indexOf("left")!==-1?-1:t.indexOf("right")!==-1?1:0,this.underflowY=t.indexOf("top")!==-1?-1:t.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const t=new At(this.parent.x,this.parent.y),i=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,i.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,i.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,i.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,i.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const KA={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class JA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},KA,i),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&t<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&t>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&i<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&i>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const t={x:null,y:null},i={x:null,y:null};if(typeof this.options.minScale=="number")t.x=this.options.minScale,t.y=this.options.minScale;else if(this.options.minScale!==null){const u=this.options.minScale;t.x=typeof u.x>"u"?null:u.x,t.y=typeof u.y>"u"?null:u.y}if(typeof this.options.maxScale=="number")i.x=this.options.maxScale,i.y=this.options.maxScale;else if(this.options.maxScale!==null){const u=this.options.maxScale;i.x=typeof u.x>"u"?null:u.x,i.y=typeof u.y>"u"?null:u.y}let r=this.parent.scale.x,l=this.parent.scale.y;t.x!==null&&r<t.x&&(r=t.x),i.x!==null&&r>i.x&&(r=i.x),t.y!==null&&l<t.y&&(l=t.y),i.y!==null&&l>i.y&&(l=i.y),(r!==this.parent.scale.x||l!==this.parent.scale.y)&&(this.parent.scale.set(r,l),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const t3={friction:.98,bounce:.8,minSpeed:.01},hi=16;class e3 extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},t3,i),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const t=this.parent.input.count();return(t===1||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(t){if(this.saved.length){const i=this.saved[this.saved.length-1];t.type==="clamp-x"&&t.original?i.x===t.original.x&&(i.x=this.parent.x):t.type==="clamp-y"&&t.original&&i.y===t.original.y&&(i.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const t=performance.now();for(const i of this.saved)if(i.time>=t-100){const r=t-i.time;this.x=(this.parent.x-i.x)/r,this.y=(this.parent.y-i.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(t){t=t||{},typeof t.x<"u"&&(this.x=t.x,this.percentChangeX=this.options.friction),typeof t.y<"u"&&(this.y=t.y,this.percentChangeY=this.options.friction)}update(t){if(this.paused)return;const i=this.x||this.y,r=this.timeSinceRelease,l=this.timeSinceRelease+t;if(this.x){const u=this.percentChangeX,c=Math.log(u);this.parent.x+=this.x*hi/c*(Math.pow(u,l/hi)-Math.pow(u,r/hi)),this.x*=Math.pow(this.percentChangeX,t/hi)}if(this.y){const u=this.percentChangeY,c=Math.log(u);this.parent.y+=this.y*hi/c*(Math.pow(u,l/hi)-Math.pow(u,r/hi)),this.y*=Math.pow(this.percentChangeY,t/hi)}this.timeSinceRelease+=t,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),i&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const n3={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class i3 extends Ke{constructor(t,i={}){super(t),this.windowEventHandlers=[],this.options=Object.assign({},n3,i),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){const i=l=>{t.includes(l.code)&&(this.keyIsPressed=!0)},r=l=>{t.includes(l.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",i)}addWindowEventHandler(t,i){typeof window>"u"||(window.addEventListener(t,i),this.windowEventHandlers.push({event:t,handler:i}))}destroy(){typeof window>"u"||this.windowEventHandlers.forEach(({event:t,handler:i})=>{window.removeEventListener(t,i)})}mouseButtons(t){!t||t==="all"?this.mouse=[!0,!0,!0]:this.mouse=[t.indexOf("left")!==-1,t.indexOf("middle")!==-1,t.indexOf("right")!==-1]}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="center"?(this.underflowX=0,this.underflowY=0):(t.includes("left")?this.underflowX=-1:t.includes("right")?this.underflowX=1:this.underflowX=0,t.includes("top")?this.underflowY=-1:t.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(t){const i=t.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!i||this.mouse[t.button]))}checkKeyPress(t){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&t.data.pointerType==="touch"}down(t){return this.paused||!this.options.pressDrag?!1:this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.global.x,y:t.global.y},(this.parent.parent||this.parent).toLocal(this.last,void 0,this.last),this.current=t.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(t){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===t.data.pointerId){const i=t.global.x,r=t.global.y,l=this.parent.input.count();if(l===1||l>1&&!this.parent.plugins.get("pinch",!0)){const u={x:i,y:r};(this.parent.parent||this.parent).toLocal(u,void 0,u);const c=u.x-this.last.x,f=u.y-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(c)||this.yDirection&&this.parent.input.checkThreshold(f))return this.xDirection&&(this.parent.x+=(u.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(u.y-this.last.y)*this.options.factor),this.last=u,this.moved||this.parent.emit("drag-start",{event:t,screen:new At(this.last.x,this.last.y),world:this.parent.toWorld(new At(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}else this.moved=!1}return!1}up(t){if(this.paused)return!1;const i=this.parent.input.touches;if(i.length===1){const r=i[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new At(this.last.x,this.last.y);return(this.parent.parent||this.parent).toGlobal(r,r,!0),this.parent.emit("drag-end",{event:t,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(t){if(this.paused)return!1;if(this.options.wheel){const i=this.parent.plugins.get("wheel",!0);if(!i||!i.options.wheelZoom&&!t.ctrlKey){const r=t.deltaMode?this.options.lineHeight:1,l=[t.deltaX,t.deltaY],[u,c]=this.options.wheelSwapAxes?l.reverse():l;return this.xDirection&&(this.parent.x+=u*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=c*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),this.parent.options.stopPropagation&&t.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const t=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}}const s3={speed:0,acceleration:null,radius:null};class r3 extends Ke{constructor(t,i,r={}){super(t),this.target=i,this.options=Object.assign({},s3,r),this.velocity={x:0,y:0}}update(t){if(this.paused)return;const i=this.parent.center;let r=this.target.x,l=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-i.y,2)+Math.pow(this.target.x-i.x,2))>this.options.radius){const f=Math.atan2(this.target.y-i.y,this.target.x-i.x);r=this.target.x-Math.cos(f)*this.options.radius,l=this.target.y-Math.sin(f)*this.options.radius}else return;const u=r-i.x,c=l-i.y;if(u||c)if(this.options.speed)if(this.options.acceleration){const f=Math.atan2(l-i.y,r-i.x),p=Math.sqrt(Math.pow(u,2)+Math.pow(c,2));if(p){const m=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);p>m?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*t,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*t,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const g=Math.cos(f)*this.velocity.x,v=Math.sin(f)*this.velocity.y,_=Math.abs(g)>Math.abs(u)?r:i.x+g,x=Math.abs(v)>Math.abs(c)?l:i.y+v;this.parent.moveCenter(_,x),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const f=Math.atan2(l-i.y,r-i.x),p=Math.cos(f)*this.options.speed,m=Math.sin(f)*this.options.speed,g=Math.abs(p)>Math.abs(u)?r:i.x+p,v=Math.abs(m)>Math.abs(c)?l:i.y+m;this.parent.moveCenter(g,v),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,l),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const a3={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class l3 extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},a3,i),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const t=this.options.distance;t!==null?(this.left=t,this.top=t,this.right=this.parent.screenWidth-t,this.bottom=this.parent.screenHeight-t):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(t){if(this.paused||t.pointerType!=="mouse"&&t.pointerId!==1||!this.options.allowButtons&&t.buttons!==0)return!1;const i=t.global.x,r=t.global.y;if(this.radiusSquared){const l=this.parent.toScreen(this.parent.center);if(Math.pow(l.x-i,2)+Math.pow(l.y-r,2)>=this.radiusSquared){const u=Math.atan2(l.y-r,l.x-i);this.options.linear?(this.horizontal=Math.round(Math.cos(u))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(u))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(u)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(u)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&i<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&i>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const o3={noDrag:!1,percent:1,center:null,factor:1,axis:"all"},u3=new At;class c3 extends Ke{constructor(t,i={}){super(t),this.active=!1,this.pinching=!1,this.moved=!1,this.options=Object.assign({},o3,i)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(t){if(this.paused||!this.active)return!1;const{x:i,y:r}=(this.parent.parent||this.parent).toLocal(t.global,void 0,u3),l=this.parent.input.touches;if(l.length>=2){const u=l[0],c=l[1],f=u.last&&c.last?Math.sqrt(Math.pow(c.last.x-u.last.x,2)+Math.pow(c.last.y-u.last.y,2)):null;if(u.id===t.pointerId?u.last={x:i,y:r,data:t}:c.id===t.pointerId&&(c.last={x:i,y:r,data:t}),f){let p;const m=new At(u.last.x+(c.last.x-u.last.x)/2,u.last.y+(c.last.y-u.last.y)/2);this.options.center||(p=this.parent.toLocal(m,this.parent.parent||this.parent));let g=Math.sqrt(Math.pow(c.last.x-u.last.x,2)+Math.pow(c.last.y-u.last.y,2));g=g===0?g=1e-10:g;const v=(1-f/g)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=v),this.isAxisY()&&(this.parent.scale.y+=v),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:m});const _=this.parent.plugins.get("clamp-zoom",!0);if(_&&_.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const x=(this.parent.parent||this.parent).toLocal(p,this.parent);this.parent.x+=(m.x-x.x)*this.options.factor,this.parent.y+=(m.y-x.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(m.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(m.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=m,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const h3={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class f3 extends Ke{constructor(t,i,r,l={}){super(t),this.options=Object.assign({},h3,l),this.ease=ao(l.ease,"easeInOutSine"),this.x=i,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}return!1}update(t){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const i=this.snapping;i.time+=t;let r,l,u;const c=this.startX,f=this.startY,p=this.deltaX,m=this.deltaY;if(i.time>this.options.time)r=!0,l=c+p,u=f+m;else{const g=this.ease(i.time,0,1,this.options.time);l=c+p*g,u=f+m*g}this.options.topLeft?this.parent.moveCorner(l,u):this.parent.moveCenter(l,u),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const i=this.options.topLeft?this.parent.corner:this.parent.center;(i.x!==this.x||i.y!==this.y)&&this.snapStart()}}}const d3={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class p3 extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},d3,i),this.ease=ao(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=t.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=t.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(t.container.scale.x=this.xScale,t.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):i.forceStart&&this.createSnapping()}createSnapping(){const t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,l=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:i,deltaX:r-t,deltaY:l-i},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(t){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let i;if(!this.options.center&&!this.options.noMove&&(i=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=t,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const u=this.snapping,c=this.ease(u.time,u.startX,u.deltaX,this.options.time),f=this.ease(u.time,u.startY,u.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/c,this.parent.scale.y=this.parent.screenHeight/f}const l=this.parent.plugins.get("clamp-zoom",!0);l&&l.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(i))}}resume(){this.snapping=null,super.resume()}}const m3={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class g3 extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},m3,i),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){typeof window>"u"||(window.addEventListener("keydown",i=>{t.includes(i.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",i=>{t.includes(i.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const t=this.smoothingCenter,i=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x+=i.x),this.isAxisY()&&(this.parent.scale.y+=i.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const l=this.parent.plugins.get("clamp-zoom",!0);if(l&&l.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const u=this.parent.parent||this.parent;u.toLocal(r,this.parent,r);const c=u.toLocal(t);this.parent.x+=c.x-r.x,this.parent.y+=c.y-r.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,typeof this.options.smooth=="number"&&this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(t){if(this.paused)return;const i=this.parent.input.getPointerPosition(t),r=-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/200,l=Math.pow(2,(1+this.options.percent)*r);let u;this.options.center||(u=this.parent.toLocal(i)),this.isAxisX()&&(this.parent.scale.x*=l),this.isAxisY()&&(this.parent.scale.y*=l),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const c=this.parent.plugins.get("clamp-zoom",!0);if(c&&c.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.parent||this.parent;f.toLocal(u,this.parent,u);const p=f.toLocal(i);this.parent.x+=p.x-u.x,this.parent.y+=p.y-u.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}wheel(t){if(this.paused||!this.checkKeyPress())return!1;if(t.ctrlKey&&this.options.trackpadPinch)this.pinch(t);else if(this.options.wheelZoom){const i=this.parent.input.getPointerPosition(t),r=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,l=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const u={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+u.x)*l-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+u.y)*l-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=i}else{let u;this.options.center||(u=this.parent.toLocal(i)),this.isAxisX()&&(this.parent.scale.x*=l),this.isAxisY()&&(this.parent.scale.y*=l),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const c=this.parent.plugins.get("clamp-zoom",!0);if(c&&c.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.parent||this.parent;f.toLocal(u,this.parent,u);const p=f.toLocal(i);this.parent.x+=p.x-u.x,this.parent.y+=p.y-u.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}return!this.parent.options.passiveWheel}}const y3={screenWidth:typeof window>"u"?0:window.innerWidth,screenHeight:typeof window>"u"?0:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:Vr.shared,allowPreserveDragOutside:!1};class v3 extends Pn{constructor(t){super(),this._disableOnContextMenu=i=>i.preventDefault(),this.options={...y3,...t},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new qA(this),this.plugins=new jA(this)}destroy(t){var i;!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&((i=this.options.events.domElement)==null||i.removeEventListener("contextmenu",this._disableOnContextMenu)),this.input.destroy(),super.destroy(t)}update(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new It(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(t=typeof window>"u"?0:window.innerWidth,i=typeof window>"u"?0:window.innerHeight,r,l){this.screenWidth=t,this.screenHeight=i,typeof r<"u"&&(this._worldWidth=r),typeof l<"u"&&(this._worldHeight=l),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(t){this._worldWidth=t,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(t){this._worldHeight=t,this.plugins.resize()}getVisibleBounds(){return new It(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(t,i){return arguments.length===2?this.toLocal(new At(t,i)):this.toLocal(t)}toScreen(t,i){return arguments.length===2?this.toGlobal(new At(t,i)):this.toGlobal(t)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new At(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(t){this.moveCenter(t)}moveCenter(...t){let i,r;typeof t[0]=="number"?(i=t[0],r=t[1]):(i=t[0].x,r=t[0].y);const l=(this.worldScreenWidth/2-i)*this.scale.x,u=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==l||this.y!==u)&&(this.position.set(l,u),this.plugins.reset(),this.dirty=!0),this}get corner(){return new At(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(t){this.moveCorner(t)}moveCorner(...t){let i,r;return t.length===1?(i=-t[0].x*this.scale.x,r=-t[0].y*this.scale.y):(i=-t[0]*this.scale.x,r=-t[1]*this.scale.y),(i!==this.x||r!==this.y)&&(this.position.set(i,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(t){return this.screenWidth/t}findFitHeight(t){return this.screenHeight/t}findFit(t,i){const r=this.screenWidth/t,l=this.screenHeight/i;return Math.min(r,l)}findCover(t,i){const r=this.screenWidth/t,l=this.screenHeight/i;return Math.max(r,l)}fitWidth(t=this.worldWidth,i,r=!0,l){let u;i&&(u=this.center),this.scale.x=this.screenWidth/t,r&&(this.scale.y=this.scale.x);const c=this.plugins.get("clamp-zoom",!0);return!l&&c&&c.clamp(),i&&u&&this.moveCenter(u),this}fitHeight(t=this.worldHeight,i,r=!0,l){let u;i&&(u=this.center),this.scale.y=this.screenHeight/t,r&&(this.scale.x=this.scale.y);const c=this.plugins.get("clamp-zoom",!0);return!l&&c&&c.clamp(),i&&u&&this.moveCenter(u),this}fitWorld(t){let i;t&&(i=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),t&&i&&this.moveCenter(i),this}fit(t,i=this.worldWidth,r=this.worldHeight){let l;t&&(l=this.center),this.scale.x=this.screenWidth/i,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const u=this.plugins.get("clamp-zoom",!0);return u&&u.clamp(),t&&l&&this.moveCenter(l),this}setZoom(t,i){let r;i&&(r=this.center),this.scale.set(t);const l=this.plugins.get("clamp-zoom",!0);return l&&l.clamp(),i&&r&&this.moveCenter(r),this}zoomPercent(t,i){return this.setZoom(this.scale.x+this.scale.x*t,i)}zoom(t,i){return this.fitWidth(t+this.worldScreenWidth,i),this}get scaled(){return this.scale.x}set scaled(t){this.setZoom(t,!0)}snapZoom(t){return this.plugins.add("snap-zoom",new p3(this,t)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new At(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(t){this.x=-t*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(t){this.y=-t*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(t){this._dirty=t}get forceHitArea(){return this._forceHitArea}set forceHitArea(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new It(0,0,this.worldWidth,this.worldHeight))}drag(t){return this.plugins.add("drag",new i3(this,t)),this}clamp(t){return this.plugins.add("clamp",new $A(this,t)),this}decelerate(t){return this.plugins.add("decelerate",new e3(this,t)),this}bounce(t){return this.plugins.add("bounce",new ZA(this,t)),this}pinch(t){return this.plugins.add("pinch",new c3(this,t)),this}snap(t,i,r){return this.plugins.add("snap",new f3(this,t,i,r)),this}follow(t,i){return this.plugins.add("follow",new r3(this,t,i)),this}wheel(t){return this.plugins.add("wheel",new g3(this,t)),this}animate(t){return this.plugins.add("animate",new IA(this,t)),this}clampZoom(t){return this.plugins.add("clamp-zoom",new JA(this,t)),this}mouseEdges(t){return this.plugins.add("mouse-edges",new l3(this,t)),this}get pause(){return!!this._pause}set pause(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}ensureVisible(t,i,r,l,u){u&&(r>this.worldScreenWidth||l>this.worldScreenHeight)&&(this.fit(!0,r,l),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let c=!1;t<this.left?(this.left=t,c=!0):t+r>this.right&&(this.right=t+r,c=!0),i<this.top?(this.top=i,c=!0):i+l>this.bottom&&(this.bottom=i+l,c=!0),c&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const Nh=["blur","bloom","noise"],kh=["glow","outline"],x3=[...Nh,...kh];function b3({speed:s,children:t,layers:i,color:r,filters:l}){const u=L.useRef(null),c=L.useRef(null),f=L.useRef(null),p=L.useRef(null),m=L.useRef(null),g=L.useRef(null),[v,_]=L.useState(null),[x,C]=L.useState([]),O=L.useRef(1);return L.useLayoutEffect(()=>{if(u.current){const A=Math.min(u.current.getBoundingClientRect().width,window.innerHeight);_(A)}},[]),L.useEffect(()=>{if(!c.current||v===null)return;const A=c.current;(async()=>{const M=await so.create(A,v,v);g.current=M,f.current=M.app;const z=new v3({screenWidth:v,screenHeight:v,events:M.app.renderer.events});f.current.stage.addChild(z),p.current=z,z.drag().pinch().wheel();const B=j=>{j.preventDefault()};A.addEventListener("wheel",B,{passive:!1});const q=new la({radius:v/80});m.current=q,z.addChild(q.container),q.container.position.set(0,0),z.moveCenter(0,0),f.current.ticker.add(j=>{m.current&&m.current.motion(O.current*.001*j.deltaTime)})})()},[v]),L.useEffect(()=>{const A=p.current;if(!A||!v)return;A.setZoom(1),A.moveCenter(0,0),m.current&&(A.removeChild(m.current.container),m.current.container.destroy({children:!0}));const M=new la({layers:i,radius:v/80,numChildren:t,colour:r});M.container.x=0,M.container.y=0,m.current=M,A.addChild(M.container)},[i,t,r]),L.useEffect(()=>{if(!m.current||!g.current)return;const A=l.filter(z=>!x.includes(z)),M=x.filter(z=>!l.includes(z));if(A.length>0)for(const z of A)kh.includes(z)?m.current.addFilters([z]):Nh.includes(z)&&g.current.addFilters([z]);if(M.length>0)for(const z of M)kh.includes(z)?m.current.removeFilters([z]):Nh.includes(z)&&g.current.removeFilters([z]);C(l)},[l]),L.useEffect(()=>{O.current=s},[s]),$.jsx("div",{ref:u,children:v&&$.jsx("canvas",{ref:c})})}function _3(){const[s,t]=L.useState(1),[i,r]=L.useState(6),[l,u]=L.useState(4),[c,f]=L.useState("#ffffff"),[p,m]=L.useState([]),g=v=>{m(_=>_.includes(v)?_.filter(x=>x!==v):[..._,v])};return{title:"Spin Art",art:$.jsx(b3,{speed:s,layers:l,children:i,color:c,filters:p}),controls:[{description:"Speed:",input:$.jsxs($.Fragment,{children:[$.jsx("input",{type:"range",min:"0",max:"4",step:"0.1",value:s,onChange:v=>t(parseFloat(v.target.value))})," ",s,"x"]})},{description:"Children:",input:$.jsx("input",{className:"input__box",type:"number",min:"0",max:"10",value:i,onChange:v=>r(parseInt(v.target.value))})},{description:"Layers:",input:$.jsx("input",{className:"input__box",type:"number",min:"1",max:"6",value:l,onChange:v=>u(parseInt(v.target.value))})},{description:"Shape Color:",input:$.jsx(YA,{color:c,onChange:f})},{description:"Filters:",input:$.jsx("div",{children:x3.map(v=>$.jsx("button",{onClick:()=>g(v),style:{margin:"4px",background:p.includes(v)?"#413677":"#aaa",color:"white",border:"none",padding:"6px 12px",cursor:"pointer"},children:v},v))})}]}}function S3(){const{id:s}=zy();if(s==="spin-classic"){const t=_3();return $.jsx(w3,{title:t.title,art:t.art,controls:t.controls})}else return $.jsx("div",{children:"Artwork Note Found."})}function w3({title:s,art:t,controls:i}){return $.jsx("section",{className:"featured-display",children:$.jsxs("div",{className:"interactive",children:[$.jsxs("div",{className:"interactive__controls",children:[$.jsx("h1",{className:"section-head",children:s}),$.jsx("div",{children:i.map((r,l)=>$.jsxs("div",{className:"control",children:[$.jsx("div",{className:"control__description",children:r.description}),$.jsx("div",{className:"control__input",children:$.jsx("label",{children:r.input})})]},l))})]}),$.jsx("div",{className:"interactive__art",children:t})]})})}function A3(){return $.jsx("main",{children:$.jsx("section",{className:"featured-display",children:$.jsxs("div",{className:"section-content",children:[$.jsx("h1",{className:"section-head",children:"About"}),$.jsx("p",{children:"This website is inspired by the power of nesting visuals within each other."}),$.jsx("p",{children:"More features and galleries coming soon!"})]})})})}function C3(){const t=pi().pathname.startsWith("/art");return $.jsxs($.Fragment,{children:[!t&&$.jsx(p_,{}),$.jsxs(Bb,{children:[$.jsx(qr,{path:"/",element:$.jsx(m_,{})}),$.jsx(qr,{path:"/gallery/:id",element:$.jsx(wA,{})}),$.jsx(qr,{path:"/art/:id",element:$.jsx(S3,{})}),$.jsx(qr,{path:"/about",element:$.jsx(A3,{})})]})]})}function T3(){return $.jsx(s_,{basename:"/MathArt",children:$.jsx(C3,{})})}const M3=new URLSearchParams(window.location.search),_y=M3.get("redirect");_y&&window.history.replaceState(null,"",decodeURIComponent(_y));F1.createRoot(document.getElementById("root")).render($.jsx(T3,{}));export{Me as $,E0 as A,Te as B,Pn as C,di as D,zt as E,Li as F,rn as G,Zy as H,sn as I,Yi as J,Tg as K,na as L,Ct as M,U2 as N,q2 as O,At as P,Jt as Q,sa as R,X2 as S,Vr as T,vh as U,It as V,W2 as W,Eg as X,Pc as Y,Og as Z,c2 as _,kn as a,Ky as a0,R0 as a1,mt as a2,Kt as a3,J2 as a4,_S as a5,YS as a6,XS as a7,IS as a8,ZS as a9,QS as aa,Lr as ab,Zr as ac,py as ad,Jl as ae,eS as af,Wl as ag,Os as ah,X0 as ai,Vg as aj,qg as ak,O_ as al,Un as am,D_ as an,j0 as ao,mS as b,ra as c,Xl as d,$e as e,jg as f,fS as g,Wh as h,C0 as i,u0 as j,gn as k,Zh as l,PS as m,pg as n,LS as o,jS as p,WS as q,j_ as r,D0 as s,Kl as t,Gt as u,z_ as v,Ye as w,Yn as x,KS as y,Hn as z};
