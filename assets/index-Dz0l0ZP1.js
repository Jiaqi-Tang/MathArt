const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-CvFzdSJZ.js","assets/webworkerAll-DZwnfvD1.js","assets/colorToUniform-KTpA7KSL.js","assets/CanvasPool-sFqsoQfP.js","assets/WebGPURenderer-Jh_AHOGa.js","assets/SharedSystems-Mivv5GLl.js","assets/WebGLRenderer-PxJGSWJj.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function ua(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var wc={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function G1(){if($m)return Ur;$m=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,u){var c=null;if(u!==void 0&&(c=""+u),l.key!==void 0&&(c=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:c,ref:l!==void 0?l:null,props:u}}return Ur.Fragment=t,Ur.jsx=i,Ur.jsxs=i,Ur}var Qm;function P1(){return Qm||(Qm=1,wc.exports=G1()),wc.exports}var q=P1(),Ac={exports:{}},Br={},Cc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function L1(){return Km||(Km=1,function(s){function t(b,T){var R=b.length;b.push(T);t:for(;0<R;){var P=R-1>>>1,w=b[P];if(0<l(w,T))b[P]=T,b[R]=w,R=P;else break t}}function i(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var T=b[0],R=b.pop();if(R!==T){b[0]=R;t:for(var P=0,w=b.length,D=w>>>1;P<D;){var H=2*(P+1)-1,X=b[H],K=H+1,J=b[K];if(0>l(X,R))K<w&&0>l(J,X)?(b[P]=J,b[K]=R,P=K):(b[P]=X,b[H]=R,P=H);else if(K<w&&0>l(J,R))b[P]=J,b[K]=R,P=K;else break t}}return T}function l(b,T){var R=b.sortIndex-T.sortIndex;return R!==0?R:b.id-T.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();s.unstable_now=function(){return c.now()-f}}var d=[],m=[],g=1,v=null,_=3,x=!1,C=!1,O=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function F(b){for(var T=i(m);T!==null;){if(T.callback===null)r(m);else if(T.startTime<=b)r(m),T.sortIndex=T.expirationTime,t(d,T);else break;T=i(m)}}function V(b){if(O=!1,F(b),!C)if(i(d)!==null)C=!0,W||(W=!0,ft());else{var T=i(m);T!==null&&Gt(V,T.startTime-b)}}var W=!1,$=-1,rt=5,it=-1;function tt(){return A?!0:!(s.unstable_now()-it<rt)}function nt(){if(A=!1,W){var b=s.unstable_now();it=b;var T=!0;try{t:{C=!1,O&&(O=!1,U($),$=-1),x=!0;var R=_;try{e:{for(F(b),v=i(d);v!==null&&!(v.expirationTime>b&&tt());){var P=v.callback;if(typeof P=="function"){v.callback=null,_=v.priorityLevel;var w=P(v.expirationTime<=b);if(b=s.unstable_now(),typeof w=="function"){v.callback=w,F(b),T=!0;break e}v===i(d)&&r(d),F(b)}else r(d);v=i(d)}if(v!==null)T=!0;else{var D=i(m);D!==null&&Gt(V,D.startTime-b),T=!1}}break t}finally{v=null,_=R,x=!1}T=void 0}}finally{T?ft():W=!1}}}var ft;if(typeof z=="function")ft=function(){z(nt)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,kt=bt.port2;bt.port1.onmessage=nt,ft=function(){kt.postMessage(null)}}else ft=function(){M(nt,0)};function Gt(b,T){$=M(function(){b(s.unstable_now())},T)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(b){b.callback=null},s.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<b?Math.floor(1e3/b):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(b){switch(_){case 1:case 2:case 3:var T=3;break;default:T=_}var R=_;_=T;try{return b()}finally{_=R}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var R=_;_=b;try{return T()}finally{_=R}},s.unstable_scheduleCallback=function(b,T,R){var P=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?P+R:P):R=P,b){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=R+w,b={id:g++,callback:T,priorityLevel:b,startTime:R,expirationTime:w,sortIndex:-1},R>P?(b.sortIndex=R,t(m,b),i(d)===null&&b===i(m)&&(O?(U($),$=-1):O=!0,Gt(V,R-P))):(b.sortIndex=w,t(d,b),C||x||(C=!0,W||(W=!0,ft()))),b},s.unstable_shouldYield=tt,s.unstable_wrapCallback=function(b){var T=_;return function(){var R=_;_=T;try{return b.apply(this,arguments)}finally{_=R}}}}(Tc)),Tc}var Jm;function Y1(){return Jm||(Jm=1,Cc.exports=L1()),Cc.exports}var Mc={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function X1(){if(tg)return dt;tg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function A(w,D,H){this.props=w,this.context=D,this.refs=O,this.updater=H||x}A.prototype.isReactComponent={},A.prototype.setState=function(w,D){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,D,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function M(){}M.prototype=A.prototype;function U(w,D,H){this.props=w,this.context=D,this.refs=O,this.updater=H||x}var z=U.prototype=new M;z.constructor=U,C(z,A.prototype),z.isPureReactComponent=!0;var F=Array.isArray,V={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function $(w,D,H,X,K,J){return H=J.ref,{$$typeof:s,type:w,key:D,ref:H!==void 0?H:null,props:J}}function rt(w,D){return $(w.type,D,void 0,void 0,void 0,w.props)}function it(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function tt(w){var D={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(H){return D[H]})}var nt=/\/+/g;function ft(w,D){return typeof w=="object"&&w!==null&&w.key!=null?tt(""+w.key):D.toString(36)}function bt(){}function kt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(bt,bt):(w.status="pending",w.then(function(D){w.status==="pending"&&(w.status="fulfilled",w.value=D)},function(D){w.status==="pending"&&(w.status="rejected",w.reason=D)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Gt(w,D,H,X,K){var J=typeof w;(J==="undefined"||J==="boolean")&&(w=null);var et=!1;if(w===null)et=!0;else switch(J){case"bigint":case"string":case"number":et=!0;break;case"object":switch(w.$$typeof){case s:case t:et=!0;break;case g:return et=w._init,Gt(et(w._payload),D,H,X,K)}}if(et)return K=K(w),et=X===""?"."+ft(w,0):X,F(K)?(H="",et!=null&&(H=et.replace(nt,"$&/")+"/"),Gt(K,D,H,"",function(Et){return Et})):K!=null&&(it(K)&&(K=rt(K,H+(K.key==null||w&&w.key===K.key?"":(""+K.key).replace(nt,"$&/")+"/")+et)),D.push(K)),1;et=0;var ht=X===""?".":X+":";if(F(w))for(var at=0;at<w.length;at++)X=w[at],J=ht+ft(X,at),et+=Gt(X,D,H,J,K);else if(at=_(w),typeof at=="function")for(w=at.call(w),at=0;!(X=w.next()).done;)X=X.value,J=ht+ft(X,at++),et+=Gt(X,D,H,J,K);else if(J==="object"){if(typeof w.then=="function")return Gt(kt(w),D,H,X,K);throw D=String(w),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return et}function b(w,D,H){if(w==null)return w;var X=[],K=0;return Gt(w,X,"","",function(J){return D.call(H,J,K++)}),X}function T(w){if(w._status===-1){var D=w._result;D=D(),D.then(function(H){(w._status===0||w._status===-1)&&(w._status=1,w._result=H)},function(H){(w._status===0||w._status===-1)&&(w._status=2,w._result=H)}),w._status===-1&&(w._status=0,w._result=D)}if(w._status===1)return w._result.default;throw w._result}var R=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function P(){}return dt.Children={map:b,forEach:function(w,D,H){b(w,function(){D.apply(this,arguments)},H)},count:function(w){var D=0;return b(w,function(){D++}),D},toArray:function(w){return b(w,function(D){return D})||[]},only:function(w){if(!it(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},dt.Component=A,dt.Fragment=i,dt.Profiler=l,dt.PureComponent=U,dt.StrictMode=r,dt.Suspense=d,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,dt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return V.H.useMemoCache(w)}},dt.cache=function(w){return function(){return w.apply(null,arguments)}},dt.cloneElement=function(w,D,H){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=C({},w.props),K=w.key,J=void 0;if(D!=null)for(et in D.ref!==void 0&&(J=void 0),D.key!==void 0&&(K=""+D.key),D)!W.call(D,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&D.ref===void 0||(X[et]=D[et]);var et=arguments.length-2;if(et===1)X.children=H;else if(1<et){for(var ht=Array(et),at=0;at<et;at++)ht[at]=arguments[at+2];X.children=ht}return $(w.type,K,void 0,void 0,J,X)},dt.createContext=function(w){return w={$$typeof:c,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},dt.createElement=function(w,D,H){var X,K={},J=null;if(D!=null)for(X in D.key!==void 0&&(J=""+D.key),D)W.call(D,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(K[X]=D[X]);var et=arguments.length-2;if(et===1)K.children=H;else if(1<et){for(var ht=Array(et),at=0;at<et;at++)ht[at]=arguments[at+2];K.children=ht}if(w&&w.defaultProps)for(X in et=w.defaultProps,et)K[X]===void 0&&(K[X]=et[X]);return $(w,J,void 0,void 0,null,K)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(w){return{$$typeof:f,render:w}},dt.isValidElement=it,dt.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:T}},dt.memo=function(w,D){return{$$typeof:m,type:w,compare:D===void 0?null:D}},dt.startTransition=function(w){var D=V.T,H={};V.T=H;try{var X=w(),K=V.S;K!==null&&K(H,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(P,R)}catch(J){R(J)}finally{V.T=D}},dt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},dt.use=function(w){return V.H.use(w)},dt.useActionState=function(w,D,H){return V.H.useActionState(w,D,H)},dt.useCallback=function(w,D){return V.H.useCallback(w,D)},dt.useContext=function(w){return V.H.useContext(w)},dt.useDebugValue=function(){},dt.useDeferredValue=function(w,D){return V.H.useDeferredValue(w,D)},dt.useEffect=function(w,D,H){var X=V.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(w,D)},dt.useId=function(){return V.H.useId()},dt.useImperativeHandle=function(w,D,H){return V.H.useImperativeHandle(w,D,H)},dt.useInsertionEffect=function(w,D){return V.H.useInsertionEffect(w,D)},dt.useLayoutEffect=function(w,D){return V.H.useLayoutEffect(w,D)},dt.useMemo=function(w,D){return V.H.useMemo(w,D)},dt.useOptimistic=function(w,D){return V.H.useOptimistic(w,D)},dt.useReducer=function(w,D,H){return V.H.useReducer(w,D,H)},dt.useRef=function(w){return V.H.useRef(w)},dt.useState=function(w){return V.H.useState(w)},dt.useSyncExternalStore=function(w,D,H){return V.H.useSyncExternalStore(w,D,H)},dt.useTransition=function(){return V.H.useTransition()},dt.version="19.1.0",dt}var eg;function Lh(){return eg||(eg=1,Mc.exports=X1()),Mc.exports}var Ec={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function j1(){if(ng)return pe;ng=1;var s=Lh();function t(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pe.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(d,m,null,g)},pe.flushSync=function(d){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,d)return d()}finally{c.T=m,r.p=g,r.d.f()}},pe.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},pe.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},pe.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pe.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},pe.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pe.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},pe.requestFormReset=function(d){r.d.r(d)},pe.unstable_batchedUpdates=function(d,m){return d(m)},pe.useFormState=function(d,m,g){return c.H.useFormState(d,m,g)},pe.useFormStatus=function(){return c.H.useHostTransitionStatus()},pe.version="19.1.0",pe}var ig;function F1(){if(ig)return Ec.exports;ig=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ec.exports=j1(),Ec.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function q1(){if(sg)return Br;sg=1;var s=Y1(),t=Lh(),i=F1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function c(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(r(188))}function d(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var p=h.alternate;if(p===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===a)return f(h),e;if(p===o)return f(h),n;p=p.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=p;else{for(var y=!1,S=h.child;S;){if(S===a){y=!0,a=h,o=p;break}if(S===o){y=!0,o=h,a=p;break}S=S.sibling}if(!y){for(S=p.child;S;){if(S===a){y=!0,a=p,o=h;break}if(S===o){y=!0,o=p,a=h;break}S=S.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),z=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Symbol.for("react.client.reference");function kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case A:return"Profiler";case O:return"StrictMode";case V:return"Suspense";case W:return"SuspenseList";case it:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case z:return(e.displayName||"Context")+".Provider";case U:return(e._context.displayName||"Context")+".Consumer";case F:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:kt(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return kt(e(n))}catch{}}return null}var Gt=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},P=[],w=-1;function D(e){return{current:e}}function H(e){0>w||(e.current=P[w],P[w]=null,w--)}function X(e,n){w++,P[w]=e.current,e.current=n}var K=D(null),J=D(null),et=D(null),ht=D(null);function at(e,n){switch(X(et,n),X(J,e),X(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Am(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Am(n),e=Cm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(K),X(K,e)}function Et(){H(K),H(J),H(et)}function _t(e){e.memoizedState!==null&&X(ht,e);var n=K.current,a=Cm(n,e.type);n!==a&&(X(J,e),X(K,a))}function ve(e){J.current===e&&(H(K),H(J)),ht.current===e&&(H(ht),Er._currentValue=R)}var le=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,be=s.unstable_cancelCallback,pt=s.unstable_shouldYield,St=s.unstable_requestPaint,Ee=s.unstable_now,uo=s.unstable_getCurrentPriorityLevel,co=s.unstable_ImmediatePriority,rf=s.unstable_UserBlockingPriority,da=s.unstable_NormalPriority,xv=s.unstable_LowPriority,af=s.unstable_IdlePriority,bv=s.log,_v=s.unstable_setDisableYieldValue,Hs=null,Re=null;function Ln(e){if(typeof bv=="function"&&_v(e),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Hs,e)}catch{}}var Oe=Math.clz32?Math.clz32:Av,Sv=Math.log,wv=Math.LN2;function Av(e){return e>>>=0,e===0?32:31-(Sv(e)/wv|0)|0}var pa=256,ma=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ga(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,p=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~p,o!==0?h=mi(o):(y&=S,y!==0?h=mi(y):a||(a=S&~e,a!==0&&(h=mi(a))))):(S=o&~p,S!==0?h=mi(S):y!==0?h=mi(y):a||(a=o&~e,a!==0&&(h=mi(a)))),h===0?0:n!==0&&n!==h&&(n&p)===0&&(p=h&-h,a=n&-n,p>=a||p===32&&(a&4194048)!==0)?n:h}function ks(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Cv(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(){var e=pa;return pa<<=1,(pa&4194048)===0&&(pa=256),e}function of(){var e=ma;return ma<<=1,(ma&62914560)===0&&(ma=4194304),e}function ho(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Gs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tv(e,n,a,o,h,p){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,E=e.expirationTimes,L=e.hiddenUpdates;for(a=y&~a;0<a;){var I=31-Oe(a),Q=1<<I;S[I]=0,E[I]=-1;var Y=L[I];if(Y!==null)for(L[I]=null,I=0;I<Y.length;I++){var j=Y[I];j!==null&&(j.lane&=-536870913)}a&=~Q}o!==0&&uf(e,o,0),p!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=p&~(y&~n))}function uf(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Oe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function cf(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Oe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function fo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function po(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function hf(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:Fm(e.type))}function Mv(e,n){var a=T.p;try{return T.p=e,n()}finally{T.p=a}}var Yn=Math.random().toString(36).slice(2),fe="__reactFiber$"+Yn,_e="__reactProps$"+Yn,Fi="__reactContainer$"+Yn,mo="__reactEvents$"+Yn,Ev="__reactListeners$"+Yn,Rv="__reactHandles$"+Yn,ff="__reactResources$"+Yn,Ps="__reactMarker$"+Yn;function go(e){delete e[fe],delete e[_e],delete e[mo],delete e[Ev],delete e[Rv]}function qi(e){var n=e[fe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Fi]||a[fe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Rm(e);e!==null;){if(a=e[fe])return a;e=Rm(e)}return n}e=a,a=e.parentNode}return null}function Vi(e){if(e=e[fe]||e[Fi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ls(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ii(e){var n=e[ff];return n||(n=e[ff]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ne(e){e[Ps]=!0}var df=new Set,pf={};function gi(e,n){Wi(e,n),Wi(e+"Capture",n)}function Wi(e,n){for(pf[e]=n,e=0;e<n.length;e++)df.add(n[e])}var Ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},gf={};function zv(e){return le.call(gf,e)?!0:le.call(mf,e)?!1:Ov.test(e)?gf[e]=!0:(mf[e]=!0,!1)}function ya(e,n,a){if(zv(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function va(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function yn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var yo,yf;function Zi(e){if(yo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);yo=n&&n[1]||"",yf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yo+e+yf}var vo=!1;function xo(e,n){if(!e||vo)return"";vo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var Y=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){Y=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){Y=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&Y&&typeof j.stack=="string")return[j.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=o.DetermineComponentFrameRoot(),y=p[0],S=p[1];if(y&&S){var E=y.split(`
`),L=S.split(`
`);for(h=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===E.length||h===L.length)for(o=E.length-1,h=L.length-1;1<=o&&0<=h&&E[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(E[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||E[o]!==L[h]){var I=`
`+E[o].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=o&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zi(a):""}function Dv(e){switch(e.tag){case 26:case 27:case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return xo(e.type,!1);case 11:return xo(e.type.render,!1);case 1:return xo(e.type,!0);case 31:return Zi("Activity");default:return""}}function vf(e){try{var n="";do n+=Dv(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uv(e){var n=xf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,p=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(y){o=""+y,p.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function xa(e){e._valueTracker||(e._valueTracker=Uv(e))}function bf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=xf(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function ba(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bv=/[\n"\\]/g;function Xe(e){return e.replace(Bv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function bo(e,n,a,o,h,p,y,S){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ye(n)):e.value!==""+Ye(n)&&(e.value=""+Ye(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?_o(e,y,Ye(n)):a!=null?_o(e,y,Ye(a)):o!=null&&e.removeAttribute("value"),h==null&&p!=null&&(e.defaultChecked=!!p),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ye(S):e.removeAttribute("name")}function _f(e,n,a,o,h,p,y,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||a!=null){if(!(p!=="submit"&&p!=="reset"||n!=null))return;a=a!=null?""+Ye(a):"",n=n!=null?""+Ye(n):a,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function _o(e,n,a){n==="number"&&ba(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function $i(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ye(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Sf(e,n,a){if(n!=null&&(n=""+Ye(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ye(a):""}function wf(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Gt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ye(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Qi(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Af(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Nv.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Cf(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&Af(e,h,o)}else for(var p in n)n.hasOwnProperty(p)&&Af(e,p,n[p])}function So(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _a(e){return kv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var wo=null;function Ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Ji=null;function Tf(e){var n=Vi(e);if(n&&(e=n.stateNode)){var a=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(bo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[_e]||null;if(!h)throw Error(r(90));bo(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&bf(o)}break t;case"textarea":Sf(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&$i(e,!!a.multiple,n,!1)}}}var Co=!1;function Mf(e,n,a){if(Co)return e(n,a);Co=!0;try{var o=e(n);return o}finally{if(Co=!1,(Ki!==null||Ji!==null)&&(al(),Ki&&(n=Ki,e=Ji,Ji=Ki=null,Tf(n),e)))for(n=0;n<e.length;n++)Tf(e[n])}}function Ys(e,n){var a=e.stateNode;if(a===null)return null;var o=a[_e]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),To=!1;if(vn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){To=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{To=!1}var Xn=null,Mo=null,Sa=null;function Ef(){if(Sa)return Sa;var e,n=Mo,a=n.length,o,h="value"in Xn?Xn.value:Xn.textContent,p=h.length;for(e=0;e<a&&n[e]===h[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===h[p-o];o++);return Sa=h.slice(e,1<o?1-o:void 0)}function wa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Aa(){return!0}function Rf(){return!1}function Se(e){function n(a,o,h,p,y){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Aa:Rf,this.isPropagationStopped=Rf,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Aa)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Aa)},persist:function(){},isPersistent:Aa}),n}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=Se(yi),js=g({},yi,{view:0,detail:0}),Gv=Se(js),Eo,Ro,Fs,Ta=g({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Eo=e.screenX-Fs.screenX,Ro=e.screenY-Fs.screenY):Ro=Eo=0,Fs=e),Eo)},movementY:function(e){return"movementY"in e?e.movementY:Ro}}),Of=Se(Ta),Pv=g({},Ta,{dataTransfer:0}),Lv=Se(Pv),Yv=g({},js,{relatedTarget:0}),Oo=Se(Yv),Xv=g({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),jv=Se(Xv),Fv=g({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qv=Se(Fv),Vv=g({},yi,{data:0}),zf=Se(Vv),Iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $v(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zv[e])?!!n[e]:!1}function zo(){return $v}var Qv=g({},js,{key:function(e){if(e.key){var n=Iv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zo,charCode:function(e){return e.type==="keypress"?wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kv=Se(Qv),Jv=g({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=Se(Jv),tx=g({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zo}),ex=Se(tx),nx=g({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=Se(nx),sx=g({},Ta,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=Se(sx),ax=g({},yi,{newState:0,oldState:0}),lx=Se(ax),ox=[9,13,27,32],Do=vn&&"CompositionEvent"in window,qs=null;vn&&"documentMode"in document&&(qs=document.documentMode);var ux=vn&&"TextEvent"in window&&!qs,Uf=vn&&(!Do||qs&&8<qs&&11>=qs),Bf=" ",Nf=!1;function Hf(e,n){switch(e){case"keyup":return ox.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function cx(e,n){switch(e){case"compositionend":return kf(n);case"keypress":return n.which!==32?null:(Nf=!0,Bf);case"textInput":return e=n.data,e===Bf&&Nf?null:e;default:return null}}function hx(e,n){if(ts)return e==="compositionend"||!Do&&Hf(e,n)?(e=Ef(),Sa=Mo=Xn=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Uf&&n.locale!=="ko"?null:n.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fx[e.type]:n==="textarea"}function Pf(e,n,a,o){Ki?Ji?Ji.push(o):Ji=[o]:Ki=o,n=fl(n,"onChange"),0<n.length&&(a=new Ca("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Vs=null,Is=null;function dx(e){xm(e,0)}function Ma(e){var n=Ls(e);if(bf(n))return e}function Lf(e,n){if(e==="change")return n}var Yf=!1;if(vn){var Uo;if(vn){var Bo="oninput"in document;if(!Bo){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),Bo=typeof Xf.oninput=="function"}Uo=Bo}else Uo=!1;Yf=Uo&&(!document.documentMode||9<document.documentMode)}function jf(){Vs&&(Vs.detachEvent("onpropertychange",Ff),Is=Vs=null)}function Ff(e){if(e.propertyName==="value"&&Ma(Is)){var n=[];Pf(n,Is,e,Ao(e)),Mf(dx,n)}}function px(e,n,a){e==="focusin"?(jf(),Vs=n,Is=a,Vs.attachEvent("onpropertychange",Ff)):e==="focusout"&&jf()}function mx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(Is)}function gx(e,n){if(e==="click")return Ma(n)}function yx(e,n){if(e==="input"||e==="change")return Ma(n)}function vx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ze=typeof Object.is=="function"?Object.is:vx;function Ws(e,n){if(ze(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!le.call(n,h)||!ze(e[h],n[h]))return!1}return!0}function qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vf(e,n){var a=qf(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qf(a)}}function If(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?If(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Wf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ba(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ba(e.document)}return n}function No(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xx=vn&&"documentMode"in document&&11>=document.documentMode,es=null,Ho=null,Zs=null,ko=!1;function Zf(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ko||es==null||es!==ba(o)||(o=es,"selectionStart"in o&&No(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zs&&Ws(Zs,o)||(Zs=o,o=fl(Ho,"onSelect"),0<o.length&&(n=new Ca("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=es)))}function vi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ns={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Go={},$f={};vn&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function xi(e){if(Go[e])return Go[e];if(!ns[e])return e;var n=ns[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in $f)return Go[e]=n[a];return e}var Qf=xi("animationend"),Kf=xi("animationiteration"),Jf=xi("animationstart"),bx=xi("transitionrun"),_x=xi("transitionstart"),Sx=xi("transitioncancel"),td=xi("transitionend"),ed=new Map,Po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Po.push("scrollEnd");function Je(e,n){ed.set(e,n),gi(n,[e])}var nd=new WeakMap;function je(e,n){if(typeof e=="object"&&e!==null){var a=nd.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vf(n)},nd.set(e,n),n)}return{value:e,source:n,stack:vf(n)}}var Fe=[],is=0,Lo=0;function Ea(){for(var e=is,n=Lo=is=0;n<e;){var a=Fe[n];Fe[n++]=null;var o=Fe[n];Fe[n++]=null;var h=Fe[n];Fe[n++]=null;var p=Fe[n];if(Fe[n++]=null,o!==null&&h!==null){var y=o.pending;y===null?h.next=h:(h.next=y.next,y.next=h),o.pending=h}p!==0&&id(a,h,p)}}function Ra(e,n,a,o){Fe[is++]=e,Fe[is++]=n,Fe[is++]=a,Fe[is++]=o,Lo|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Yo(e,n,a,o){return Ra(e,n,a,o),Oa(e)}function ss(e,n){return Ra(e,null,null,n),Oa(e)}function id(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,p=e.return;p!==null;)p.childLanes|=a,o=p.alternate,o!==null&&(o.childLanes|=a),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(h=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,h&&n!==null&&(h=31-Oe(a),e=p.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),p):null}function Oa(e){if(50<br)throw br=0,Iu=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var rs={};function wx(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(e,n,a,o){return new wx(e,n,a,o)}function Xo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,n){var a=e.alternate;return a===null?(a=De(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sd(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function za(e,n,a,o,h,p){var y=0;if(o=e,typeof e=="function")Xo(e)&&(y=1);else if(typeof e=="string")y=C1(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case it:return e=De(31,a,n,h),e.elementType=it,e.lanes=p,e;case C:return bi(a.children,h,p,n);case O:y=8,h|=24;break;case A:return e=De(12,a,n,h|2),e.elementType=A,e.lanes=p,e;case V:return e=De(13,a,n,h),e.elementType=V,e.lanes=p,e;case W:return e=De(19,a,n,h),e.elementType=W,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:case z:y=10;break t;case U:y=9;break t;case F:y=11;break t;case $:y=14;break t;case rt:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=De(y,a,n,h),n.elementType=e,n.type=o,n.lanes=p,n}function bi(e,n,a,o){return e=De(7,e,o,n),e.lanes=a,e}function jo(e,n,a){return e=De(6,e,null,n),e.lanes=a,e}function Fo(e,n,a){return n=De(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var as=[],ls=0,Da=null,Ua=0,qe=[],Ve=0,_i=null,bn=1,_n="";function Si(e,n){as[ls++]=Ua,as[ls++]=Da,Da=e,Ua=n}function rd(e,n,a){qe[Ve++]=bn,qe[Ve++]=_n,qe[Ve++]=_i,_i=e;var o=bn;e=_n;var h=32-Oe(o)-1;o&=~(1<<h),a+=1;var p=32-Oe(n)+h;if(30<p){var y=h-h%5;p=(o&(1<<y)-1).toString(32),o>>=y,h-=y,bn=1<<32-Oe(n)+h|a<<h|o,_n=p+e}else bn=1<<p|a<<h|o,_n=e}function qo(e){e.return!==null&&(Si(e,1),rd(e,1,0))}function Vo(e){for(;e===Da;)Da=as[--ls],as[ls]=null,Ua=as[--ls],as[ls]=null;for(;e===_i;)_i=qe[--Ve],qe[Ve]=null,_n=qe[--Ve],qe[Ve]=null,bn=qe[--Ve],qe[Ve]=null}var ge=null,Ft=null,Mt=!1,wi=null,ln=!1,Io=Error(r(519));function Ai(e){var n=Error(r(418,""));throw Ks(je(n,e)),Io}function ad(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[fe]=e,n[_e]=o,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Sr.length;a++)xt(Sr[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),_f(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),xa(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),wf(n,o.value,o.defaultValue,o.children),xa(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||wm(n.textContent,a)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=dl),n=!0):n=!1,n||Ai(e)}function ld(e){for(ge=e.return;ge;)switch(ge.tag){case 5:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:ge=ge.return}}function $s(e){if(e!==ge)return!1;if(!Mt)return ld(e),Mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||uc(e.type,e.memoizedProps)),a=!a),a&&Ft&&Ai(e),ld(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Ft=en(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Ft=null}}else n===27?(n=Ft,si(e.type)?(e=dc,dc=null,Ft=e):Ft=n):Ft=ge?en(e.stateNode.nextSibling):null;return!0}function Qs(){Ft=ge=null,Mt=!1}function od(){var e=wi;return e!==null&&(Ce===null?Ce=e:Ce.push.apply(Ce,e),wi=null),e}function Ks(e){wi===null?wi=[e]:wi.push(e)}var Wo=D(null),Ci=null,Sn=null;function jn(e,n,a){X(Wo,n._currentValue),n._currentValue=a}function wn(e){e._currentValue=Wo.current,H(Wo)}function Zo(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function $o(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var p=h.dependencies;if(p!==null){var y=h.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=h;for(var E=0;E<n.length;E++)if(S.context===n[E]){p.lanes|=a,S=p.alternate,S!==null&&(S.lanes|=a),Zo(p.return,a,e),o||(y=null);break t}p=S.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,p=y.alternate,p!==null&&(p.lanes|=a),Zo(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function Js(e,n,a,o){e=null;for(var h=n,p=!1;h!==null;){if(!p){if((h.flags&524288)!==0)p=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var S=h.type;ze(h.pendingProps.value,y.value)||(e!==null?e.push(S):e=[S])}}else if(h===ht.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Er):e=[Er])}h=h.return}e!==null&&$o(n,e,a,o),n.flags|=262144}function Ba(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ci=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function de(e){return ud(Ci,e)}function Na(e,n){return Ci===null&&Ti(e),ud(e,n)}function ud(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Sn===null){if(e===null)throw Error(r(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return a}var Ax=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Cx=s.unstable_scheduleCallback,Tx=s.unstable_NormalPriority,te={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qo(){return{controller:new Ax,data:new Map,refCount:0}}function tr(e){e.refCount--,e.refCount===0&&Cx(Tx,function(){e.controller.abort()})}var er=null,Ko=0,os=0,us=null;function Mx(e,n){if(er===null){var a=er=[];Ko=0,os=tc(),us={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Ko++,n.then(cd,cd),n}function cd(){if(--Ko===0&&er!==null){us!==null&&(us.status="fulfilled");var e=er;er=null,os=0,us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ex(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hd=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Mx(e,n),hd!==null&&hd(e,n)};var Mi=D(null);function Jo(){var e=Mi.current;return e!==null?e:Pt.pooledCache}function Ha(e,n){n===null?X(Mi,Mi.current):X(Mi,n.pool)}function fd(){var e=Jo();return e===null?null:{parent:te._currentValue,pool:e}}var nr=Error(r(460)),dd=Error(r(474)),ka=Error(r(542)),tu={then:function(){}};function pd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ga(){}function md(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Ga,Ga),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yd(e),e;default:if(typeof n.status=="string")n.then(Ga,Ga);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yd(e),e}throw ir=n,nr}}var ir=null;function gd(){if(ir===null)throw Error(r(459));var e=ir;return ir=null,e}function yd(e){if(e===nr||e===ka)throw Error(r(483))}var Fn=!1;function eu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Rt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Oa(e),id(e,null,a),n}return Ra(e,o,n,a),Oa(e)}function sr(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,cf(e,a)}}function iu(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,p=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};p===null?h=p=y:p=p.next=y,a=a.next}while(a!==null);p===null?h=p=n:p=p.next=n}else h=p=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var su=!1;function rr(){if(su){var e=us;if(e!==null)throw e}}function ar(e,n,a,o){su=!1;var h=e.updateQueue;Fn=!1;var p=h.firstBaseUpdate,y=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var E=S,L=E.next;E.next=null,y===null?p=L:y.next=L,y=E;var I=e.alternate;I!==null&&(I=I.updateQueue,S=I.lastBaseUpdate,S!==y&&(S===null?I.firstBaseUpdate=L:S.next=L,I.lastBaseUpdate=E))}if(p!==null){var Q=h.baseState;y=0,I=L=E=null,S=p;do{var Y=S.lane&-536870913,j=Y!==S.lane;if(j?(wt&Y)===Y:(o&Y)===Y){Y!==0&&Y===os&&(su=!0),I!==null&&(I=I.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ct=e,ot=S;Y=n;var Bt=a;switch(ot.tag){case 1:if(ct=ot.payload,typeof ct=="function"){Q=ct.call(Bt,Q,Y);break t}Q=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=ot.payload,Y=typeof ct=="function"?ct.call(Bt,Q,Y):ct,Y==null)break t;Q=g({},Q,Y);break t;case 2:Fn=!0}}Y=S.callback,Y!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[Y]:j.push(Y))}else j={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},I===null?(L=I=j,E=Q):I=I.next=j,y|=Y;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;j=S,S=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);I===null&&(E=Q),h.baseState=E,h.firstBaseUpdate=L,h.lastBaseUpdate=I,p===null&&(h.shared.lanes=0),ti|=y,e.lanes=y,e.memoizedState=Q}}function vd(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function xd(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vd(a[e],n)}var cs=D(null),Pa=D(0);function bd(e,n){e=On,X(Pa,e),X(cs,n),On=e|n.baseLanes}function ru(){X(Pa,On),X(cs,cs.current)}function au(){On=Pa.current,H(cs),H(Pa)}var In=0,gt=null,Dt=null,$t=null,La=!1,hs=!1,Ei=!1,Ya=0,lr=0,fs=null,Rx=0;function Wt(){throw Error(r(321))}function lu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!ze(e[a],n[a]))return!1;return!0}function ou(e,n,a,o,h,p){return In=p,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?ip:sp,Ei=!1,p=a(o,h),Ei=!1,hs&&(p=Sd(n,a,o,h)),_d(e),p}function _d(e){b.H=Ia;var n=Dt!==null&&Dt.next!==null;if(In=0,$t=Dt=gt=null,La=!1,lr=0,fs=null,n)throw Error(r(300));e===null||ie||(e=e.dependencies,e!==null&&Ba(e)&&(ie=!0))}function Sd(e,n,a,o){gt=e;var h=0;do{if(hs&&(fs=null),lr=0,hs=!1,25<=h)throw Error(r(301));if(h+=1,$t=Dt=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}b.H=Hx,p=n(a,o)}while(hs);return p}function Ox(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?or(n):n,e=e.useState()[0],(Dt!==null?Dt.memoizedState:null)!==e&&(gt.flags|=1024),n}function uu(){var e=Ya!==0;return Ya=0,e}function cu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function hu(e){if(La){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}La=!1}In=0,$t=Dt=gt=null,hs=!1,lr=Ya=0,fs=null}function we(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?gt.memoizedState=$t=e:$t=$t.next=e,$t}function Qt(){if(Dt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var n=$t===null?gt.memoizedState:$t.next;if(n!==null)$t=n,Dt=e;else{if(e===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},$t===null?gt.memoizedState=$t=e:$t=$t.next=e}return $t}function fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function or(e){var n=lr;return lr+=1,fs===null&&(fs=[]),e=md(fs,e,n),n=gt,($t===null?n.memoizedState:$t.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?ip:sp),e}function Xa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return or(e);if(e.$$typeof===z)return de(e)}throw Error(r(438,String(e)))}function du(e){var n=null,a=gt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=fu(),gt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=tt;return n.index++,a}function An(e,n){return typeof n=="function"?n(e):n}function ja(e){var n=Qt();return pu(n,Dt,e)}function pu(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,p=o.pending;if(p!==null){if(h!==null){var y=h.next;h.next=p.next,p.next=y}n.baseQueue=h=p,o.pending=null}if(p=e.baseState,h===null)e.memoizedState=p;else{n=h.next;var S=y=null,E=null,L=n,I=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(wt&Q)===Q:(In&Q)===Q){var Y=L.revertLane;if(Y===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===os&&(I=!0);else if((In&Y)===Y){L=L.next,Y===os&&(I=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(S=E=Q,y=p):E=E.next=Q,gt.lanes|=Y,ti|=Y;Q=L.action,Ei&&a(p,Q),p=L.hasEagerState?L.eagerState:a(p,Q)}else Y={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(S=E=Y,y=p):E=E.next=Y,gt.lanes|=Q,ti|=Q;L=L.next}while(L!==null&&L!==n);if(E===null?y=p:E.next=S,!ze(p,e.memoizedState)&&(ie=!0,I&&(a=us,a!==null)))throw a;e.memoizedState=p,e.baseState=y,e.baseQueue=E,o.lastRenderedState=p}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mu(e){var n=Qt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,p=n.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do p=e(p,y.action),y=y.next;while(y!==h);ze(p,n.memoizedState)||(ie=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),a.lastRenderedState=p}return[p,o]}function wd(e,n,a){var o=gt,h=Qt(),p=Mt;if(p){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!ze((Dt||h).memoizedState,a);y&&(h.memoizedState=a,ie=!0),h=h.queue;var S=Td.bind(null,o,h,e);if(ur(2048,8,S,[e]),h.getSnapshot!==n||y||$t!==null&&$t.memoizedState.tag&1){if(o.flags|=2048,ds(9,Fa(),Cd.bind(null,o,h,a,n),null),Pt===null)throw Error(r(349));p||(In&124)!==0||Ad(o,n,a)}return a}function Ad(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=gt.updateQueue,n===null?(n=fu(),gt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Cd(e,n,a,o){n.value=a,n.getSnapshot=o,Md(n)&&Ed(e)}function Td(e,n,a){return a(function(){Md(n)&&Ed(e)})}function Md(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!ze(e,a)}catch{return!0}}function Ed(e){var n=ss(e,2);n!==null&&ke(n,e,2)}function gu(e){var n=we();if(typeof e=="function"){var a=e;if(e=a(),Ei){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},n}function Rd(e,n,a,o){return e.baseState=a,pu(e,Dt,typeof o=="function"?o:An)}function zx(e,n,a,o,h){if(Va(e))throw Error(r(485));if(e=n.action,e!==null){var p={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){p.listeners.push(y)}};b.T!==null?a(!0):p.isTransition=!1,o(p),a=n.pending,a===null?(p.next=n.pending=p,Od(n,p)):(p.next=a.next,n.pending=a.next=p)}}function Od(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var p=b.T,y={};b.T=y;try{var S=a(h,o),E=b.S;E!==null&&E(y,S),zd(e,n,S)}catch(L){yu(e,n,L)}finally{b.T=p}}else try{p=a(h,o),zd(e,n,p)}catch(L){yu(e,n,L)}}function zd(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dd(e,n,o)},function(o){return yu(e,n,o)}):Dd(e,n,a)}function Dd(e,n,a){n.status="fulfilled",n.value=a,Ud(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Od(e,a)))}function yu(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ud(n),n=n.next;while(n!==o)}e.action=null}function Ud(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Bd(e,n){return n}function Nd(e,n){if(Mt){var a=Pt.formState;if(a!==null){t:{var o=gt;if(Mt){if(Ft){e:{for(var h=Ft,p=ln;h.nodeType!==8;){if(!p){h=null;break e}if(h=en(h.nextSibling),h===null){h=null;break e}}p=h.data,h=p==="F!"||p==="F"?h:null}if(h){Ft=en(h.nextSibling),o=h.data==="F!";break t}}Ai(o)}o=!1}o&&(n=a[0])}}return a=we(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:n},a.queue=o,a=tp.bind(null,gt,o),o.dispatch=a,o=gu(!1),p=Su.bind(null,gt,!1,o.queue),o=we(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=zx.bind(null,gt,h,p,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function Hd(e){var n=Qt();return kd(n,Dt,e)}function kd(e,n,a){if(n=pu(e,n,Bd)[0],e=ja(An)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=or(n)}catch(y){throw y===nr?ka:y}else o=n;n=Qt();var h=n.queue,p=h.dispatch;return a!==n.memoizedState&&(gt.flags|=2048,ds(9,Fa(),Dx.bind(null,h,a),null)),[o,p,e]}function Dx(e,n){e.action=n}function Gd(e){var n=Qt(),a=Dt;if(a!==null)return kd(n,a,e);Qt(),n=n.memoizedState,a=Qt();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ds(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=gt.updateQueue,n===null&&(n=fu(),gt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Fa(){return{destroy:void 0,resource:void 0}}function Pd(){return Qt().memoizedState}function qa(e,n,a,o){var h=we();o=o===void 0?null:o,gt.flags|=e,h.memoizedState=ds(1|n,Fa(),a,o)}function ur(e,n,a,o){var h=Qt();o=o===void 0?null:o;var p=h.memoizedState.inst;Dt!==null&&o!==null&&lu(o,Dt.memoizedState.deps)?h.memoizedState=ds(n,p,a,o):(gt.flags|=e,h.memoizedState=ds(1|n,p,a,o))}function Ld(e,n){qa(8390656,8,e,n)}function Yd(e,n){ur(2048,8,e,n)}function Xd(e,n){return ur(4,2,e,n)}function jd(e,n){return ur(4,4,e,n)}function Fd(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qd(e,n,a){a=a!=null?a.concat([e]):null,ur(4,4,Fd.bind(null,n,e),a)}function vu(){}function Vd(e,n){var a=Qt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&lu(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Id(e,n){var a=Qt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&lu(n,o[1]))return o[0];if(o=e(),Ei){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o}function xu(e,n,a){return a===void 0||(In&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=$p(),gt.lanes|=e,ti|=e,a)}function Wd(e,n,a,o){return ze(a,n)?a:cs.current!==null?(e=xu(e,a,o),ze(e,n)||(ie=!0),e):(In&42)===0?(ie=!0,e.memoizedState=a):(e=$p(),gt.lanes|=e,ti|=e,n)}function Zd(e,n,a,o,h){var p=T.p;T.p=p!==0&&8>p?p:8;var y=b.T,S={};b.T=S,Su(e,!1,n,a);try{var E=h(),L=b.S;if(L!==null&&L(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=Ex(E,o);cr(e,n,I,He(e))}else cr(e,n,o,He(e))}catch(Q){cr(e,n,{then:function(){},status:"rejected",reason:Q},He())}finally{T.p=p,b.T=y}}function Ux(){}function bu(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=$d(e).queue;Zd(e,h,n,R,a===null?Ux:function(){return Qd(e),a(o)})}function $d(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:R},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qd(e){var n=$d(e).next.queue;cr(e,n,{},He())}function _u(){return de(Er)}function Kd(){return Qt().memoizedState}function Jd(){return Qt().memoizedState}function Bx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=He();e=qn(a);var o=Vn(n,e,a);o!==null&&(ke(o,n,a),sr(o,n,a)),n={cache:Qo()},e.payload=n;return}n=n.return}}function Nx(e,n,a){var o=He();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Va(e)?ep(n,a):(a=Yo(e,n,a,o),a!==null&&(ke(a,e,o),np(a,n,o)))}function tp(e,n,a){var o=He();cr(e,n,a,o)}function cr(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Va(e))ep(n,h);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var y=n.lastRenderedState,S=p(y,a);if(h.hasEagerState=!0,h.eagerState=S,ze(S,y))return Ra(e,n,h,0),Pt===null&&Ea(),!1}catch{}finally{}if(a=Yo(e,n,h,o),a!==null)return ke(a,e,o),np(a,n,o),!0}return!1}function Su(e,n,a,o){if(o={lane:2,revertLane:tc(),action:o,hasEagerState:!1,eagerState:null,next:null},Va(e)){if(n)throw Error(r(479))}else n=Yo(e,a,o,2),n!==null&&ke(n,e,2)}function Va(e){var n=e.alternate;return e===gt||n!==null&&n===gt}function ep(e,n){hs=La=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function np(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,cf(e,a)}}var Ia={readContext:de,use:Xa,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},ip={readContext:de,use:Xa,useCallback:function(e,n){return we().memoizedState=[e,n===void 0?null:n],e},useContext:de,useEffect:Ld,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,qa(4194308,4,Fd.bind(null,n,e),a)},useLayoutEffect:function(e,n){return qa(4194308,4,e,n)},useInsertionEffect:function(e,n){qa(4,2,e,n)},useMemo:function(e,n){var a=we();n=n===void 0?null:n;var o=e();if(Ei){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=we();if(a!==void 0){var h=a(n);if(Ei){Ln(!0);try{a(n)}finally{Ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=Nx.bind(null,gt,e),[o.memoizedState,e]},useRef:function(e){var n=we();return e={current:e},n.memoizedState=e},useState:function(e){e=gu(e);var n=e.queue,a=tp.bind(null,gt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:vu,useDeferredValue:function(e,n){var a=we();return xu(a,e,n)},useTransition:function(){var e=gu(!1);return e=Zd.bind(null,gt,e.queue,!0,!1),we().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=gt,h=we();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Pt===null)throw Error(r(349));(wt&124)!==0||Ad(o,n,a)}h.memoizedState=a;var p={value:a,getSnapshot:n};return h.queue=p,Ld(Td.bind(null,o,p,e),[e]),o.flags|=2048,ds(9,Fa(),Cd.bind(null,o,p,a,n),null),a},useId:function(){var e=we(),n=Pt.identifierPrefix;if(Mt){var a=_n,o=bn;a=(o&~(1<<32-Oe(o)-1)).toString(32)+a,n=""+n+"R"+a,a=Ya++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=Rx++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:_u,useFormState:Nd,useActionState:Nd,useOptimistic:function(e){var n=we();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Su.bind(null,gt,!0,a),a.dispatch=n,[e,n]},useMemoCache:du,useCacheRefresh:function(){return we().memoizedState=Bx.bind(null,gt)}},sp={readContext:de,use:Xa,useCallback:Vd,useContext:de,useEffect:Yd,useImperativeHandle:qd,useInsertionEffect:Xd,useLayoutEffect:jd,useMemo:Id,useReducer:ja,useRef:Pd,useState:function(){return ja(An)},useDebugValue:vu,useDeferredValue:function(e,n){var a=Qt();return Wd(a,Dt.memoizedState,e,n)},useTransition:function(){var e=ja(An)[0],n=Qt().memoizedState;return[typeof e=="boolean"?e:or(e),n]},useSyncExternalStore:wd,useId:Kd,useHostTransitionStatus:_u,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,n){var a=Qt();return Rd(a,Dt,e,n)},useMemoCache:du,useCacheRefresh:Jd},Hx={readContext:de,use:Xa,useCallback:Vd,useContext:de,useEffect:Yd,useImperativeHandle:qd,useInsertionEffect:Xd,useLayoutEffect:jd,useMemo:Id,useReducer:mu,useRef:Pd,useState:function(){return mu(An)},useDebugValue:vu,useDeferredValue:function(e,n){var a=Qt();return Dt===null?xu(a,e,n):Wd(a,Dt.memoizedState,e,n)},useTransition:function(){var e=mu(An)[0],n=Qt().memoizedState;return[typeof e=="boolean"?e:or(e),n]},useSyncExternalStore:wd,useId:Kd,useHostTransitionStatus:_u,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,n){var a=Qt();return Dt!==null?Rd(a,Dt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:du,useCacheRefresh:Jd},ps=null,hr=0;function Wa(e){var n=hr;return hr+=1,ps===null&&(ps=[]),md(ps,e,n)}function fr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Za(e,n){throw n.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rp(e){var n=e._init;return n(e._payload)}function ap(e){function n(N,B){if(e){var G=N.deletions;G===null?(N.deletions=[B],N.flags|=16):G.push(B)}}function a(N,B){if(!e)return null;for(;B!==null;)n(N,B),B=B.sibling;return null}function o(N){for(var B=new Map;N!==null;)N.key!==null?B.set(N.key,N):B.set(N.index,N),N=N.sibling;return B}function h(N,B){return N=xn(N,B),N.index=0,N.sibling=null,N}function p(N,B,G){return N.index=G,e?(G=N.alternate,G!==null?(G=G.index,G<B?(N.flags|=67108866,B):G):(N.flags|=67108866,B)):(N.flags|=1048576,B)}function y(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function S(N,B,G,Z){return B===null||B.tag!==6?(B=jo(G,N.mode,Z),B.return=N,B):(B=h(B,G),B.return=N,B)}function E(N,B,G,Z){var st=G.type;return st===C?I(N,B,G.props.children,Z,G.key):B!==null&&(B.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&rp(st)===B.type)?(B=h(B,G.props),fr(B,G),B.return=N,B):(B=za(G.type,G.key,G.props,null,N.mode,Z),fr(B,G),B.return=N,B)}function L(N,B,G,Z){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=Fo(G,N.mode,Z),B.return=N,B):(B=h(B,G.children||[]),B.return=N,B)}function I(N,B,G,Z,st){return B===null||B.tag!==7?(B=bi(G,N.mode,Z,st),B.return=N,B):(B=h(B,G),B.return=N,B)}function Q(N,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=jo(""+B,N.mode,G),B.return=N,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case _:return G=za(B.type,B.key,B.props,null,N.mode,G),fr(G,B),G.return=N,G;case x:return B=Fo(B,N.mode,G),B.return=N,B;case rt:var Z=B._init;return B=Z(B._payload),Q(N,B,G)}if(Gt(B)||ft(B))return B=bi(B,N.mode,G,null),B.return=N,B;if(typeof B.then=="function")return Q(N,Wa(B),G);if(B.$$typeof===z)return Q(N,Na(N,B),G);Za(N,B)}return null}function Y(N,B,G,Z){var st=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return st!==null?null:S(N,B,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return G.key===st?E(N,B,G,Z):null;case x:return G.key===st?L(N,B,G,Z):null;case rt:return st=G._init,G=st(G._payload),Y(N,B,G,Z)}if(Gt(G)||ft(G))return st!==null?null:I(N,B,G,Z,null);if(typeof G.then=="function")return Y(N,B,Wa(G),Z);if(G.$$typeof===z)return Y(N,B,Na(N,G),Z);Za(N,G)}return null}function j(N,B,G,Z,st){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return N=N.get(G)||null,S(B,N,""+Z,st);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return N=N.get(Z.key===null?G:Z.key)||null,E(B,N,Z,st);case x:return N=N.get(Z.key===null?G:Z.key)||null,L(B,N,Z,st);case rt:var yt=Z._init;return Z=yt(Z._payload),j(N,B,G,Z,st)}if(Gt(Z)||ft(Z))return N=N.get(G)||null,I(B,N,Z,st,null);if(typeof Z.then=="function")return j(N,B,G,Wa(Z),st);if(Z.$$typeof===z)return j(N,B,G,Na(B,Z),st);Za(B,Z)}return null}function ct(N,B,G,Z){for(var st=null,yt=null,lt=B,ut=B=0,re=null;lt!==null&&ut<G.length;ut++){lt.index>ut?(re=lt,lt=null):re=lt.sibling;var Tt=Y(N,lt,G[ut],Z);if(Tt===null){lt===null&&(lt=re);break}e&&lt&&Tt.alternate===null&&n(N,lt),B=p(Tt,B,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt,lt=re}if(ut===G.length)return a(N,lt),Mt&&Si(N,ut),st;if(lt===null){for(;ut<G.length;ut++)lt=Q(N,G[ut],Z),lt!==null&&(B=p(lt,B,ut),yt===null?st=lt:yt.sibling=lt,yt=lt);return Mt&&Si(N,ut),st}for(lt=o(lt);ut<G.length;ut++)re=j(lt,N,ut,G[ut],Z),re!==null&&(e&&re.alternate!==null&&lt.delete(re.key===null?ut:re.key),B=p(re,B,ut),yt===null?st=re:yt.sibling=re,yt=re);return e&&lt.forEach(function(ui){return n(N,ui)}),Mt&&Si(N,ut),st}function ot(N,B,G,Z){if(G==null)throw Error(r(151));for(var st=null,yt=null,lt=B,ut=B=0,re=null,Tt=G.next();lt!==null&&!Tt.done;ut++,Tt=G.next()){lt.index>ut?(re=lt,lt=null):re=lt.sibling;var ui=Y(N,lt,Tt.value,Z);if(ui===null){lt===null&&(lt=re);break}e&&lt&&ui.alternate===null&&n(N,lt),B=p(ui,B,ut),yt===null?st=ui:yt.sibling=ui,yt=ui,lt=re}if(Tt.done)return a(N,lt),Mt&&Si(N,ut),st;if(lt===null){for(;!Tt.done;ut++,Tt=G.next())Tt=Q(N,Tt.value,Z),Tt!==null&&(B=p(Tt,B,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt);return Mt&&Si(N,ut),st}for(lt=o(lt);!Tt.done;ut++,Tt=G.next())Tt=j(lt,N,ut,Tt.value,Z),Tt!==null&&(e&&Tt.alternate!==null&&lt.delete(Tt.key===null?ut:Tt.key),B=p(Tt,B,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt);return e&&lt.forEach(function(k1){return n(N,k1)}),Mt&&Si(N,ut),st}function Bt(N,B,G,Z){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case _:t:{for(var st=G.key;B!==null;){if(B.key===st){if(st=G.type,st===C){if(B.tag===7){a(N,B.sibling),Z=h(B,G.props.children),Z.return=N,N=Z;break t}}else if(B.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&rp(st)===B.type){a(N,B.sibling),Z=h(B,G.props),fr(Z,G),Z.return=N,N=Z;break t}a(N,B);break}else n(N,B);B=B.sibling}G.type===C?(Z=bi(G.props.children,N.mode,Z,G.key),Z.return=N,N=Z):(Z=za(G.type,G.key,G.props,null,N.mode,Z),fr(Z,G),Z.return=N,N=Z)}return y(N);case x:t:{for(st=G.key;B!==null;){if(B.key===st)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){a(N,B.sibling),Z=h(B,G.children||[]),Z.return=N,N=Z;break t}else{a(N,B);break}else n(N,B);B=B.sibling}Z=Fo(G,N.mode,Z),Z.return=N,N=Z}return y(N);case rt:return st=G._init,G=st(G._payload),Bt(N,B,G,Z)}if(Gt(G))return ct(N,B,G,Z);if(ft(G)){if(st=ft(G),typeof st!="function")throw Error(r(150));return G=st.call(G),ot(N,B,G,Z)}if(typeof G.then=="function")return Bt(N,B,Wa(G),Z);if(G.$$typeof===z)return Bt(N,B,Na(N,G),Z);Za(N,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(a(N,B.sibling),Z=h(B,G),Z.return=N,N=Z):(a(N,B),Z=jo(G,N.mode,Z),Z.return=N,N=Z),y(N)):a(N,B)}return function(N,B,G,Z){try{hr=0;var st=Bt(N,B,G,Z);return ps=null,st}catch(lt){if(lt===nr||lt===ka)throw lt;var yt=De(29,lt,null,N.mode);return yt.lanes=Z,yt.return=N,yt}finally{}}}var ms=ap(!0),lp=ap(!1),Ie=D(null),on=null;function Wn(e){var n=e.alternate;X(ee,ee.current&1),X(Ie,e),on===null&&(n===null||cs.current!==null||n.memoizedState!==null)&&(on=e)}function op(e){if(e.tag===22){if(X(ee,ee.current),X(Ie,e),on===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(on=e)}}else Zn()}function Zn(){X(ee,ee.current),X(Ie,Ie.current)}function Cn(e){H(Ie),on===e&&(on=null),H(ee)}var ee=D(0);function $a(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fc(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function wu(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:g({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Au={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=He(),h=qn(o);h.payload=n,a!=null&&(h.callback=a),n=Vn(e,h,o),n!==null&&(ke(n,e,o),sr(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=He(),h=qn(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Vn(e,h,o),n!==null&&(ke(n,e,o),sr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=He(),o=qn(a);o.tag=2,n!=null&&(o.callback=n),n=Vn(e,o,a),n!==null&&(ke(n,e,a),sr(n,e,a))}};function up(e,n,a,o,h,p,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,p,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(a,o)||!Ws(h,p):!0}function cp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Au.enqueueReplaceState(n,n.state,null)}function Ri(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=g({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var Qa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function hp(e){Qa(e)}function fp(e){console.error(e)}function dp(e){Qa(e)}function Ka(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function pp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cu(e,n,a){return a=qn(a),a.tag=3,a.payload={element:null},a.callback=function(){Ka(e,n)},a}function mp(e){return e=qn(e),e.tag=3,e}function gp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;e.payload=function(){return h(p)},e.callback=function(){pp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){pp(n,a,o),typeof h!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function kx(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Js(n,a,h,!0),a=Ie.current,a!==null){switch(a.tag){case 13:return on===null?Zu():a.alternate===null&&qt===0&&(qt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===tu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Qu(e,o,h)),!1;case 22:return a.flags|=65536,o===tu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Qu(e,o,h)),!1}throw Error(r(435,a.tag))}return Qu(e,o,h),Zu(),!1}if(Mt)return n=Ie.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Io&&(e=Error(r(422),{cause:o}),Ks(je(e,a)))):(o!==Io&&(n=Error(r(423),{cause:o}),Ks(je(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=je(o,a),h=Cu(e.stateNode,o,h),iu(e,h),qt!==4&&(qt=2)),!1;var p=Error(r(520),{cause:o});if(p=je(p,a),xr===null?xr=[p]:xr.push(p),qt!==4&&(qt=2),n===null)return!0;o=je(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Cu(a.stateNode,o,e),iu(a,e),!1;case 1:if(n=a.type,p=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ei===null||!ei.has(p))))return a.flags|=65536,h&=-h,a.lanes|=h,h=mp(h),gp(h,e,a,o),iu(a,h),!1}a=a.return}while(a!==null);return!1}var yp=Error(r(461)),ie=!1;function oe(e,n,a,o){n.child=e===null?lp(n,null,a,o):ms(n,e.child,a,o)}function vp(e,n,a,o,h){a=a.render;var p=n.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return Ti(n),o=ou(e,n,a,y,p,h),S=uu(),e!==null&&!ie?(cu(e,n,h),Tn(e,n,h)):(Mt&&S&&qo(n),n.flags|=1,oe(e,n,o,h),n.child)}function xp(e,n,a,o,h){if(e===null){var p=a.type;return typeof p=="function"&&!Xo(p)&&p.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=p,bp(e,n,p,o,h)):(e=za(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!Uu(e,h)){var y=p.memoizedProps;if(a=a.compare,a=a!==null?a:Ws,a(y,o)&&e.ref===n.ref)return Tn(e,n,h)}return n.flags|=1,e=xn(p,o),e.ref=n.ref,e.return=n,n.child=e}function bp(e,n,a,o,h){if(e!==null){var p=e.memoizedProps;if(Ws(p,o)&&e.ref===n.ref)if(ie=!1,n.pendingProps=o=p,Uu(e,h))(e.flags&131072)!==0&&(ie=!0);else return n.lanes=e.lanes,Tn(e,n,h)}return Tu(e,n,a,o,h)}function _p(e,n,a){var o=n.pendingProps,h=o.children,p=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=p!==null?p.baseLanes|a:a,e!==null){for(h=n.child=e.child,p=0;h!==null;)p=p|h.lanes|h.childLanes,h=h.sibling;n.childLanes=p&~o}else n.childLanes=0,n.child=null;return Sp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ha(n,p!==null?p.cachePool:null),p!==null?bd(n,p):ru(),op(n);else return n.lanes=n.childLanes=536870912,Sp(e,n,p!==null?p.baseLanes|a:a,a)}else p!==null?(Ha(n,p.cachePool),bd(n,p),Zn(),n.memoizedState=null):(e!==null&&Ha(n,null),ru(),Zn());return oe(e,n,h,a),n.child}function Sp(e,n,a,o){var h=Jo();return h=h===null?null:{parent:te._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Ha(n,null),ru(),op(n),e!==null&&Js(e,n,o,!0),null}function Ja(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Tu(e,n,a,o,h){return Ti(n),a=ou(e,n,a,o,void 0,h),o=uu(),e!==null&&!ie?(cu(e,n,h),Tn(e,n,h)):(Mt&&o&&qo(n),n.flags|=1,oe(e,n,a,h),n.child)}function wp(e,n,a,o,h,p){return Ti(n),n.updateQueue=null,a=Sd(n,o,a,h),_d(e),o=uu(),e!==null&&!ie?(cu(e,n,p),Tn(e,n,p)):(Mt&&o&&qo(n),n.flags|=1,oe(e,n,a,p),n.child)}function Ap(e,n,a,o,h){if(Ti(n),n.stateNode===null){var p=rs,y=a.contextType;typeof y=="object"&&y!==null&&(p=de(y)),p=new a(o,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Au,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=o,p.state=n.memoizedState,p.refs={},eu(n),y=a.contextType,p.context=typeof y=="object"&&y!==null?de(y):rs,p.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(wu(n,a,y,o),p.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(y=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),y!==p.state&&Au.enqueueReplaceState(p,p.state,null),ar(n,o,p,h),rr(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){p=n.stateNode;var S=n.memoizedProps,E=Ri(a,S);p.props=E;var L=p.context,I=a.contextType;y=rs,typeof I=="object"&&I!==null&&(y=de(I));var Q=a.getDerivedStateFromProps;I=typeof Q=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,I||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||L!==y)&&cp(n,p,o,y),Fn=!1;var Y=n.memoizedState;p.state=Y,ar(n,o,p,h),rr(),L=n.memoizedState,S||Y!==L||Fn?(typeof Q=="function"&&(wu(n,a,Q,o),L=n.memoizedState),(E=Fn||up(n,a,E,o,Y,L,y))?(I||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),p.props=o,p.state=L,p.context=y,o=E):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{p=n.stateNode,nu(e,n),y=n.memoizedProps,I=Ri(a,y),p.props=I,Q=n.pendingProps,Y=p.context,L=a.contextType,E=rs,typeof L=="object"&&L!==null&&(E=de(L)),S=a.getDerivedStateFromProps,(L=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==Q||Y!==E)&&cp(n,p,o,E),Fn=!1,Y=n.memoizedState,p.state=Y,ar(n,o,p,h),rr();var j=n.memoizedState;y!==Q||Y!==j||Fn||e!==null&&e.dependencies!==null&&Ba(e.dependencies)?(typeof S=="function"&&(wu(n,a,S,o),j=n.memoizedState),(I=Fn||up(n,a,I,o,Y,j,E)||e!==null&&e.dependencies!==null&&Ba(e.dependencies))?(L||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(o,j,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(o,j,E)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),p.props=o,p.state=j,p.context=E,o=I):(typeof p.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),o=!1)}return p=o,Ja(e,n),o=(n.flags&128)!==0,p||o?(p=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&o?(n.child=ms(n,e.child,null,h),n.child=ms(n,null,a,h)):oe(e,n,a,h),n.memoizedState=p.state,e=n.child):e=Tn(e,n,h),e}function Cp(e,n,a,o){return Qs(),n.flags|=256,oe(e,n,a,o),n.child}var Mu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eu(e){return{baseLanes:e,cachePool:fd()}}function Ru(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=We),e}function Tp(e,n,a){var o=n.pendingProps,h=!1,p=(n.flags&128)!==0,y;if((y=p)||(y=e!==null&&e.memoizedState===null?!1:(ee.current&2)!==0),y&&(h=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(h?Wn(n):Zn(),Mt){var S=Ft,E;if(E=S){t:{for(E=S,S=ln;E.nodeType!==8;){if(!S){S=null;break t}if(E=en(E.nextSibling),E===null){S=null;break t}}S=E}S!==null?(n.memoizedState={dehydrated:S,treeContext:_i!==null?{id:bn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},E=De(18,null,null,0),E.stateNode=S,E.return=n,n.child=E,ge=n,Ft=null,E=!0):E=!1}E||Ai(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return fc(S)?n.lanes=32:n.lanes=536870912,null;Cn(n)}return S=o.children,o=o.fallback,h?(Zn(),h=n.mode,S=tl({mode:"hidden",children:S},h),o=bi(o,h,a,null),S.return=n,o.return=n,S.sibling=o,n.child=S,h=n.child,h.memoizedState=Eu(a),h.childLanes=Ru(e,y,a),n.memoizedState=Mu,o):(Wn(n),Ou(n,S))}if(E=e.memoizedState,E!==null&&(S=E.dehydrated,S!==null)){if(p)n.flags&256?(Wn(n),n.flags&=-257,n=zu(e,n,a)):n.memoizedState!==null?(Zn(),n.child=e.child,n.flags|=128,n=null):(Zn(),h=o.fallback,S=n.mode,o=tl({mode:"visible",children:o.children},S),h=bi(h,S,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,ms(n,e.child,null,a),o=n.child,o.memoizedState=Eu(a),o.childLanes=Ru(e,y,a),n.memoizedState=Mu,n=h);else if(Wn(n),fc(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(r(419)),o.stack="",o.digest=y,Ks({value:o,source:null,stack:null}),n=zu(e,n,a)}else if(ie||Js(e,n,a,!1),y=(a&e.childLanes)!==0,ie||y){if(y=Pt,y!==null&&(o=a&-a,o=(o&42)!==0?1:fo(o),o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,ss(e,o),ke(y,e,o),yp;S.data==="$?"||Zu(),n=zu(e,n,a)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Ft=en(S.nextSibling),ge=n,Mt=!0,wi=null,ln=!1,e!==null&&(qe[Ve++]=bn,qe[Ve++]=_n,qe[Ve++]=_i,bn=e.id,_n=e.overflow,_i=n),n=Ou(n,o.children),n.flags|=4096);return n}return h?(Zn(),h=o.fallback,S=n.mode,E=e.child,L=E.sibling,o=xn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,L!==null?h=xn(L,h):(h=bi(h,S,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,S=e.child.memoizedState,S===null?S=Eu(a):(E=S.cachePool,E!==null?(L=te._currentValue,E=E.parent!==L?{parent:L,pool:L}:E):E=fd(),S={baseLanes:S.baseLanes|a,cachePool:E}),h.memoizedState=S,h.childLanes=Ru(e,y,a),n.memoizedState=Mu,o):(Wn(n),a=e.child,e=a.sibling,a=xn(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function Ou(e,n){return n=tl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tl(e,n){return e=De(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function zu(e,n,a){return ms(n,e.child,null,a),e=Ou(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Mp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zo(e.return,n,a)}function Du(e,n,a,o,h){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=a,p.tailMode=h)}function Ep(e,n,a){var o=n.pendingProps,h=o.revealOrder,p=o.tail;if(oe(e,n,o.children,a),o=ee.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mp(e,a,n);else if(e.tag===19)Mp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(X(ee,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&$a(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Du(n,!1,h,a,p);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&$a(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Du(n,!0,a,null,p);break;case"together":Du(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Tn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ti|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Js(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=xn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Uu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ba(e)))}function Gx(e,n,a){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),jn(n,te,e.memoizedState.cache),Qs();break;case 27:case 5:_t(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:jn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Wn(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Tp(e,n,a):(Wn(n),e=Tn(e,n,a),e!==null?e.sibling:null);Wn(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Js(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return Ep(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),X(ee,ee.current),o)break;return null;case 22:case 23:return n.lanes=0,_p(e,n,a);case 24:jn(n,te,e.memoizedState.cache)}return Tn(e,n,a)}function Rp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ie=!0;else{if(!Uu(e,a)&&(n.flags&128)===0)return ie=!1,Gx(e,n,a);ie=(e.flags&131072)!==0}else ie=!1,Mt&&(n.flags&1048576)!==0&&rd(n,Ua,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")Xo(o)?(e=Ri(o,e),n.tag=1,n=Ap(null,n,o,e,a)):(n.tag=0,n=Tu(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===F){n.tag=11,n=vp(null,n,o,e,a);break t}else if(h===$){n.tag=14,n=xp(null,n,o,e,a);break t}}throw n=kt(o)||o,Error(r(306,n,""))}}return n;case 0:return Tu(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ri(o,n.pendingProps),Ap(e,n,o,h,a);case 3:t:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var p=n.memoizedState;h=p.element,nu(e,n),ar(n,o,null,a);var y=n.memoizedState;if(o=y.cache,jn(n,te,o),o!==p.cache&&$o(n,[te],a,!0),rr(),o=y.element,p.isDehydrated)if(p={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=Cp(e,n,o,a);break t}else if(o!==h){h=je(Error(r(424)),n),Ks(h),n=Cp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ft=en(e.firstChild),ge=n,Mt=!0,wi=null,ln=!0,a=lp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),o===h){n=Tn(e,n,a);break t}oe(e,n,o,a)}n=n.child}return n;case 26:return Ja(e,n),e===null?(a=Um(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,e=n.pendingProps,o=pl(et.current).createElement(a),o[fe]=n,o[_e]=e,ce(o,a,e),ne(o),n.stateNode=o):n.memoizedState=Um(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _t(n),e===null&&Mt&&(o=n.stateNode=Om(n.type,n.pendingProps,et.current),ge=n,ln=!0,h=Ft,si(n.type)?(dc=h,Ft=en(o.firstChild)):Ft=h),oe(e,n,n.pendingProps.children,a),Ja(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((h=o=Ft)&&(o=f1(o,n.type,n.pendingProps,ln),o!==null?(n.stateNode=o,ge=n,Ft=en(o.firstChild),ln=!1,h=!0):h=!1),h||Ai(n)),_t(n),h=n.type,p=n.pendingProps,y=e!==null?e.memoizedProps:null,o=p.children,uc(h,p)?o=null:y!==null&&uc(h,y)&&(n.flags|=32),n.memoizedState!==null&&(h=ou(e,n,Ox,null,null,a),Er._currentValue=h),Ja(e,n),oe(e,n,o,a),n.child;case 6:return e===null&&Mt&&((e=a=Ft)&&(a=d1(a,n.pendingProps,ln),a!==null?(n.stateNode=a,ge=n,Ft=null,e=!0):e=!1),e||Ai(n)),null;case 13:return Tp(e,n,a);case 4:return at(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ms(n,null,o,a):oe(e,n,o,a),n.child;case 11:return vp(e,n,n.type,n.pendingProps,a);case 7:return oe(e,n,n.pendingProps,a),n.child;case 8:return oe(e,n,n.pendingProps.children,a),n.child;case 12:return oe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,jn(n,n.type,o.value),oe(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ti(n),h=de(h),o=o(h),n.flags|=1,oe(e,n,o,a),n.child;case 14:return xp(e,n,n.type,n.pendingProps,a);case 15:return bp(e,n,n.type,n.pendingProps,a);case 19:return Ep(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=tl(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xn(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return _p(e,n,a);case 24:return Ti(n),o=de(te),e===null?(h=Jo(),h===null&&(h=Pt,p=Qo(),h.pooledCache=p,p.refCount++,p!==null&&(h.pooledCacheLanes|=a),h=p),n.memoizedState={parent:o,cache:h},eu(n),jn(n,te,h)):((e.lanes&a)!==0&&(nu(e,n),ar(n,null,null,a),rr()),h=e.memoizedState,p=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),jn(n,te,o)):(o=p.cache,jn(n,te,o),o!==h.cache&&$o(n,[te],a,!0))),oe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mn(e){e.flags|=4}function Op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gm(n)){if(n=Ie.current,n!==null&&((wt&4194048)===wt?on!==null:(wt&62914560)!==wt&&(wt&536870912)===0||n!==on))throw ir=tu,dd;e.flags|=8192}}function el(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?of():536870912,e.lanes|=n,xs|=n)}function dr(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function Px(e,n,a){var o=n.pendingProps;switch(Vo(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(n),null;case 1:return Yt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wn(te),Et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($s(n)?Mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,od())),Yt(n),null;case 26:return a=n.memoizedState,e===null?(Mn(n),a!==null?(Yt(n),Op(n,a)):(Yt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mn(n),Yt(n),Op(n,a)):(Yt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Mn(n),Yt(n),n.flags&=-16777217),null;case 27:ve(n),a=et.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Yt(n),null}e=K.current,$s(n)?ad(n):(e=Om(h,o,a),n.stateNode=e,Mn(n))}return Yt(n),null;case 5:if(ve(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Yt(n),null}if(e=K.current,$s(n))ad(n);else{switch(h=pl(et.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[fe]=n,e[_e]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ce(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mn(n)}}return Yt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=et.current,$s(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[fe]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||wm(e.nodeValue,a)),e||Ai(n)}else e=pl(e).createTextNode(o),e[fe]=n,n.stateNode=e}return Yt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=$s(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[fe]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),h=!1}else h=od(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}if(Cn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var p=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),el(n,n.updateQueue),Yt(n),null;case 4:return Et(),e===null&&sc(n.stateNode.containerInfo),Yt(n),null;case 10:return wn(n.type),Yt(n),null;case 19:if(H(ee),h=n.memoizedState,h===null)return Yt(n),null;if(o=(n.flags&128)!==0,p=h.rendering,p===null)if(o)dr(h,!1);else{if(qt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=$a(e),p!==null){for(n.flags|=128,dr(h,!1),e=p.updateQueue,n.updateQueue=e,el(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)sd(a,e),a=a.sibling;return X(ee,ee.current&1|2),n.child}e=e.sibling}h.tail!==null&&Ee()>sl&&(n.flags|=128,o=!0,dr(h,!1),n.lanes=4194304)}else{if(!o)if(e=$a(p),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,el(n,e),dr(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!Mt)return Yt(n),null}else 2*Ee()-h.renderingStartTime>sl&&a!==536870912&&(n.flags|=128,o=!0,dr(h,!1),n.lanes=4194304);h.isBackwards?(p.sibling=n.child,n.child=p):(e=h.last,e!==null?e.sibling=p:n.child=p,h.last=p)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=Ee(),n.sibling=null,e=ee.current,X(ee,o?e&1|2:e&1),n):(Yt(n),null);case 22:case 23:return Cn(n),au(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Yt(n),n.subtreeFlags&6&&(n.flags|=8192)):Yt(n),a=n.updateQueue,a!==null&&el(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&H(Mi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wn(te),Yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Lx(e,n){switch(Vo(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wn(te),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ve(n),null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(ee),null;case 4:return Et(),null;case 10:return wn(n.type),null;case 22:case 23:return Cn(n),au(),e!==null&&H(Mi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wn(te),null;case 25:return null;default:return null}}function zp(e,n){switch(Vo(n),n.tag){case 3:wn(te),Et();break;case 26:case 27:case 5:ve(n);break;case 4:Et();break;case 13:Cn(n);break;case 19:H(ee);break;case 10:wn(n.type);break;case 22:case 23:Cn(n),au(),e!==null&&H(Mi);break;case 24:wn(te)}}function pr(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var p=a.create,y=a.inst;o=p(),y.destroy=o}a=a.next}while(a!==h)}}catch(S){Nt(n,n.return,S)}}function $n(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var p=h.next;o=p;do{if((o.tag&e)===e){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,h=n;var E=a,L=S;try{L()}catch(I){Nt(h,E,I)}}}o=o.next}while(o!==p)}}catch(I){Nt(n,n.return,I)}}function Dp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{xd(n,a)}catch(o){Nt(e,e.return,o)}}}function Up(e,n,a){a.props=Ri(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Nt(e,n,o)}}function mr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Nt(e,n,h)}}function un(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Nt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Nt(e,n,h)}else a.current=null}function Bp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Nt(e,e.return,h)}}function Bu(e,n,a){try{var o=e.stateNode;l1(o,e.type,a,n),o[_e]=n}catch(h){Nt(e,e.return,h)}}function Np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function Nu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=dl));else if(o!==4&&(o===27&&si(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Hu(e,n,a),e=e.sibling;e!==null;)Hu(e,n,a),e=e.sibling}function nl(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&si(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nl(e,n,a),e=e.sibling;e!==null;)nl(e,n,a),e=e.sibling}function Hp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ce(n,o,a),n[fe]=e,n[_e]=a}catch(p){Nt(e,e.return,p)}}var En=!1,Zt=!1,ku=!1,kp=typeof WeakSet=="function"?WeakSet:Set,se=null;function Yx(e,n){if(e=e.containerInfo,lc=bl,e=Wf(e),No(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,p=o.focusNode;o=o.focusOffset;try{a.nodeType,p.nodeType}catch{a=null;break t}var y=0,S=-1,E=-1,L=0,I=0,Q=e,Y=null;e:for(;;){for(var j;Q!==a||h!==0&&Q.nodeType!==3||(S=y+h),Q!==p||o!==0&&Q.nodeType!==3||(E=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(j=Q.firstChild)!==null;)Y=Q,Q=j;for(;;){if(Q===e)break e;if(Y===a&&++L===h&&(S=y),Y===p&&++I===o&&(E=y),(j=Q.nextSibling)!==null)break;Q=Y,Y=Q.parentNode}Q=j}a=S===-1||E===-1?null:{start:S,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(oc={focusedElem:e,selectionRange:a},bl=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){switch(n=se,p=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,a=n,h=p.memoizedProps,p=p.memoizedState,o=a.stateNode;try{var ct=Ri(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(ct,p),o.__reactInternalSnapshotBeforeUpdate=e}catch(ot){Nt(a,a.return,ot)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)hc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}}function Gp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(e,a),o&4&&pr(5,a);break;case 1:if(Qn(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Nt(a,a.return,y)}else{var h=Ri(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Nt(a,a.return,y)}}o&64&&Dp(a),o&512&&mr(a,a.return);break;case 3:if(Qn(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xd(e,n)}catch(y){Nt(a,a.return,y)}}break;case 27:n===null&&o&4&&Hp(a);case 26:case 5:Qn(e,a),n===null&&o&4&&Bp(a),o&512&&mr(a,a.return);break;case 12:Qn(e,a);break;case 13:Qn(e,a),o&4&&Yp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$x.bind(null,a),p1(e,a))));break;case 22:if(o=a.memoizedState!==null||En,!o){n=n!==null&&n.memoizedState!==null||Zt,h=En;var p=Zt;En=o,(Zt=n)&&!p?Kn(e,a,(a.subtreeFlags&8772)!==0):Qn(e,a),En=h,Zt=p}break;case 30:break;default:Qn(e,a)}}function Pp(e){var n=e.alternate;n!==null&&(e.alternate=null,Pp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&go(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lt=null,Ae=!1;function Rn(e,n,a){for(a=a.child;a!==null;)Lp(e,n,a),a=a.sibling}function Lp(e,n,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Hs,a)}catch{}switch(a.tag){case 26:Zt||un(a,n),Rn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||un(a,n);var o=Lt,h=Ae;si(a.type)&&(Lt=a.stateNode,Ae=!1),Rn(e,n,a),Ar(a.stateNode),Lt=o,Ae=h;break;case 5:Zt||un(a,n);case 6:if(o=Lt,h=Ae,Lt=null,Rn(e,n,a),Lt=o,Ae=h,Lt!==null)if(Ae)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(p){Nt(a,n,p)}else try{Lt.removeChild(a.stateNode)}catch(p){Nt(a,n,p)}break;case 18:Lt!==null&&(Ae?(e=Lt,Em(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dr(e)):Em(Lt,a.stateNode));break;case 4:o=Lt,h=Ae,Lt=a.stateNode.containerInfo,Ae=!0,Rn(e,n,a),Lt=o,Ae=h;break;case 0:case 11:case 14:case 15:Zt||$n(2,a,n),Zt||$n(4,a,n),Rn(e,n,a);break;case 1:Zt||(un(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Up(a,n,o)),Rn(e,n,a);break;case 21:Rn(e,n,a);break;case 22:Zt=(o=Zt)||a.memoizedState!==null,Rn(e,n,a),Zt=o;break;default:Rn(e,n,a)}}function Yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dr(e)}catch(a){Nt(n,n.return,a)}}function Xx(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new kp),n;default:throw Error(r(435,e.tag))}}function Gu(e,n){var a=Xx(e);n.forEach(function(o){var h=Qx.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function Ue(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],p=e,y=n,S=y;t:for(;S!==null;){switch(S.tag){case 27:if(si(S.type)){Lt=S.stateNode,Ae=!1;break t}break;case 5:Lt=S.stateNode,Ae=!1;break t;case 3:case 4:Lt=S.stateNode.containerInfo,Ae=!0;break t}S=S.return}if(Lt===null)throw Error(r(160));Lp(p,y,h),Lt=null,Ae=!1,p=h.alternate,p!==null&&(p.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var tn=null;function Xp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ue(n,e),Be(e),o&4&&($n(3,e,e.return),pr(3,e),$n(5,e,e.return));break;case 1:Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),o&64&&En&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=tn;if(Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),o&4){var p=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":p=h.getElementsByTagName("title")[0],(!p||p[Ps]||p[fe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=h.createElement(o),h.head.insertBefore(p,h.querySelector("head > title"))),ce(p,o,a),p[fe]=e,ne(p),o=p;break t;case"link":var y=Hm("link","href",h).get(o+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(p=y[S],p.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&p.getAttribute("rel")===(a.rel==null?null:a.rel)&&p.getAttribute("title")===(a.title==null?null:a.title)&&p.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break e}}p=h.createElement(o),ce(p,o,a),h.head.appendChild(p);break;case"meta":if(y=Hm("meta","content",h).get(o+(a.content||""))){for(S=0;S<y.length;S++)if(p=y[S],p.getAttribute("content")===(a.content==null?null:""+a.content)&&p.getAttribute("name")===(a.name==null?null:a.name)&&p.getAttribute("property")===(a.property==null?null:a.property)&&p.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&p.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break e}}p=h.createElement(o),ce(p,o,a),h.head.appendChild(p);break;default:throw Error(r(468,o))}p[fe]=e,ne(p),o=p}e.stateNode=o}else km(h,e.type,e.stateNode);else e.stateNode=Nm(h,o,e.memoizedProps);else p!==o?(p===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):p.count--,o===null?km(h,e.type,e.stateNode):Nm(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),a!==null&&o&4&&Bu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),e.flags&32){h=e.stateNode;try{Qi(h,"")}catch(j){Nt(e,e.return,j)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bu(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ku=!0);break;case 6:if(Ue(n,e),Be(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(j){Nt(e,e.return,j)}}break;case 3:if(yl=null,h=tn,tn=ml(n.containerInfo),Ue(n,e),tn=h,Be(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Dr(n.containerInfo)}catch(j){Nt(e,e.return,j)}ku&&(ku=!1,jp(e));break;case 4:o=tn,tn=ml(e.stateNode.containerInfo),Ue(n,e),Be(e),tn=o;break;case 12:Ue(n,e),Be(e);break;case 13:Ue(n,e),Be(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fu=Ee()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 22:h=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,L=En,I=Zt;if(En=L||h,Zt=I||E,Ue(n,e),Zt=I,En=L,Be(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||E||En||Zt||Oi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(p=E.stateNode,h)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=E.stateNode;var Q=E.memoizedProps.style,Y=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(j){Nt(E,E.return,j)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=h?"":E.memoizedProps}catch(j){Nt(E,E.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Gu(e,a))));break;case 19:Ue(n,e),Be(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Gu(e,o)));break;case 30:break;case 21:break;default:Ue(n,e),Be(e)}}function Be(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Np(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,p=Nu(e);nl(e,p,h);break;case 5:var y=a.stateNode;a.flags&32&&(Qi(y,""),a.flags&=-33);var S=Nu(e);nl(e,S,y);break;case 3:case 4:var E=a.stateNode.containerInfo,L=Nu(e);Hu(e,L,E);break;default:throw Error(r(161))}}catch(I){Nt(e,e.return,I)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(e,n.alternate,n),n=n.sibling}function Oi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$n(4,n,n.return),Oi(n);break;case 1:un(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Up(n,n.return,a),Oi(n);break;case 27:Ar(n.stateNode);case 26:case 5:un(n,n.return),Oi(n);break;case 22:n.memoizedState===null&&Oi(n);break;case 30:Oi(n);break;default:Oi(n)}e=e.sibling}}function Kn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,p=n,y=p.flags;switch(p.tag){case 0:case 11:case 15:Kn(h,p,a),pr(4,p);break;case 1:if(Kn(h,p,a),o=p,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Nt(o,o.return,L)}if(o=p,h=o.updateQueue,h!==null){var S=o.stateNode;try{var E=h.shared.hiddenCallbacks;if(E!==null)for(h.shared.hiddenCallbacks=null,h=0;h<E.length;h++)vd(E[h],S)}catch(L){Nt(o,o.return,L)}}a&&y&64&&Dp(p),mr(p,p.return);break;case 27:Hp(p);case 26:case 5:Kn(h,p,a),a&&o===null&&y&4&&Bp(p),mr(p,p.return);break;case 12:Kn(h,p,a);break;case 13:Kn(h,p,a),a&&y&4&&Yp(h,p);break;case 22:p.memoizedState===null&&Kn(h,p,a),mr(p,p.return);break;case 30:break;default:Kn(h,p,a)}n=n.sibling}}function Pu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tr(a))}function Lu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e))}function cn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(e,n,a,o),n=n.sibling}function Fp(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:cn(e,n,a,o),h&2048&&pr(9,n);break;case 1:cn(e,n,a,o);break;case 3:cn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e)));break;case 12:if(h&2048){cn(e,n,a,o),e=n.stateNode;try{var p=n.memoizedProps,y=p.id,S=p.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Nt(n,n.return,E)}}else cn(e,n,a,o);break;case 13:cn(e,n,a,o);break;case 23:break;case 22:p=n.stateNode,y=n.alternate,n.memoizedState!==null?p._visibility&2?cn(e,n,a,o):gr(e,n):p._visibility&2?cn(e,n,a,o):(p._visibility|=2,gs(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Pu(y,n);break;case 24:cn(e,n,a,o),h&2048&&Lu(n.alternate,n);break;default:cn(e,n,a,o)}}function gs(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var p=e,y=n,S=a,E=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:gs(p,y,S,E,h),pr(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?gs(p,y,S,E,h):gr(p,y):(I._visibility|=2,gs(p,y,S,E,h)),h&&L&2048&&Pu(y.alternate,y);break;case 24:gs(p,y,S,E,h),h&&L&2048&&Lu(y.alternate,y);break;default:gs(p,y,S,E,h)}n=n.sibling}}function gr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:gr(a,o),h&2048&&Pu(o.alternate,o);break;case 24:gr(a,o),h&2048&&Lu(o.alternate,o);break;default:gr(a,o)}n=n.sibling}}var yr=8192;function ys(e){if(e.subtreeFlags&yr)for(e=e.child;e!==null;)qp(e),e=e.sibling}function qp(e){switch(e.tag){case 26:ys(e),e.flags&yr&&e.memoizedState!==null&&M1(tn,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var n=tn;tn=ml(e.stateNode.containerInfo),ys(e),tn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=yr,yr=16777216,ys(e),yr=n):ys(e));break;default:ys(e)}}function Vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function vr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];se=o,Wp(o,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ip(e),e=e.sibling}function Ip(e){switch(e.tag){case 0:case 11:case 15:vr(e),e.flags&2048&&$n(9,e,e.return);break;case 3:vr(e);break;case 12:vr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,il(e)):vr(e);break;default:vr(e)}}function il(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];se=o,Wp(o,e)}Vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$n(8,n,n.return),il(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,il(n));break;default:il(n)}e=e.sibling}}function Wp(e,n){for(;se!==null;){var a=se;switch(a.tag){case 0:case 11:case 15:$n(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tr(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,se=o;else t:for(a=e;se!==null;){o=se;var h=o.sibling,p=o.return;if(Pp(o),o===a){se=null;break t}if(h!==null){h.return=p,se=h;break t}se=p}}}var jx={getCacheForType:function(e){var n=de(te),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Fx=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Pt=null,vt=null,wt=0,Ot=0,Ne=null,Jn=!1,vs=!1,Yu=!1,On=0,qt=0,ti=0,zi=0,Xu=0,We=0,xs=0,xr=null,Ce=null,ju=!1,Fu=0,sl=1/0,rl=null,ei=null,ue=0,ni=null,bs=null,_s=0,qu=0,Vu=null,Zp=null,br=0,Iu=null;function He(){if((Rt&2)!==0&&wt!==0)return wt&-wt;if(b.T!==null){var e=os;return e!==0?e:tc()}return hf()}function $p(){We===0&&(We=(wt&536870912)===0||Mt?lf():536870912);var e=Ie.current;return e!==null&&(e.flags|=32),We}function ke(e,n,a){(e===Pt&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),ii(e,wt,We,!1)),Gs(e,a),((Rt&2)===0||e!==Pt)&&(e===Pt&&((Rt&2)===0&&(zi|=a),qt===4&&ii(e,wt,We,!1)),hn(e))}function Qp(e,n,a){if((Rt&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ks(e,n),h=o?Ix(e,n):$u(e,n,!0),p=o;do{if(h===0){vs&&!o&&ii(e,n,0,!1);break}else{if(a=e.current.alternate,p&&!qx(a)){h=$u(e,n,!1),p=!1;continue}if(h===2){if(p=n,e.errorRecoveryDisabledLanes&p)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var S=e;h=xr;var E=S.current.memoizedState.isDehydrated;if(E&&(Ss(S,y).flags|=256),y=$u(S,y,!1),y!==2){if(Yu&&!E){S.errorRecoveryDisabledLanes|=p,zi|=p,h=4;break t}p=Ce,Ce=h,p!==null&&(Ce===null?Ce=p:Ce.push.apply(Ce,p))}h=y}if(p=!1,h!==2)continue}}if(h===1){Ss(e,0),ii(e,n,0,!0);break}t:{switch(o=e,p=h,p){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ii(o,n,We,!Jn);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Fu+300-Ee(),10<h)){if(ii(o,n,We,!Jn),ga(o,0,!0)!==0)break t;o.timeoutHandle=Tm(Kp.bind(null,o,a,Ce,rl,ju,n,We,zi,xs,Jn,p,2,-0,0),h);break t}Kp(o,a,Ce,rl,ju,n,We,zi,xs,Jn,p,0,-0,0)}}break}while(!0);hn(e)}function Kp(e,n,a,o,h,p,y,S,E,L,I,Q,Y,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Mr={stylesheets:null,count:0,unsuspend:T1},qp(n),Q=E1(),Q!==null)){e.cancelPendingCommit=Q(rm.bind(null,e,n,p,a,o,h,y,S,E,I,1,Y,j)),ii(e,p,y,!L);return}rm(e,n,p,a,o,h,y,S,E)}function qx(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],p=h.getSnapshot;h=h.value;try{if(!ze(p(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ii(e,n,a,o){n&=~Xu,n&=~zi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var p=31-Oe(h),y=1<<p;o[p]=-1,h&=~y}a!==0&&uf(e,a,n)}function al(){return(Rt&6)===0?(_r(0),!1):!0}function Wu(){if(vt!==null){if(Ot===0)var e=vt.return;else e=vt,Sn=Ci=null,hu(e),ps=null,hr=0,e=vt;for(;e!==null;)zp(e.alternate,e),e=e.return;vt=null}}function Ss(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,u1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wu(),Pt=e,vt=a=xn(e.current,null),wt=n,Ot=0,Ne=null,Jn=!1,vs=ks(e,n),Yu=!1,xs=We=Xu=zi=ti=qt=0,Ce=xr=null,ju=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-Oe(o),p=1<<h;n|=e[h],o&=~p}return On=n,Ea(),a}function Jp(e,n){gt=null,b.H=Ia,n===nr||n===ka?(n=gd(),Ot=3):n===dd?(n=gd(),Ot=4):Ot=n===yp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ne=n,vt===null&&(qt=1,Ka(e,je(n,e.current)))}function tm(){var e=b.H;return b.H=Ia,e===null?Ia:e}function em(){var e=b.A;return b.A=jx,e}function Zu(){qt=4,Jn||(wt&4194048)!==wt&&Ie.current!==null||(vs=!0),(ti&134217727)===0&&(zi&134217727)===0||Pt===null||ii(Pt,wt,We,!1)}function $u(e,n,a){var o=Rt;Rt|=2;var h=tm(),p=em();(Pt!==e||wt!==n)&&(rl=null,Ss(e,n)),n=!1;var y=qt;t:do try{if(Ot!==0&&vt!==null){var S=vt,E=Ne;switch(Ot){case 8:Wu(),y=6;break t;case 3:case 2:case 9:case 6:Ie.current===null&&(n=!0);var L=Ot;if(Ot=0,Ne=null,ws(e,S,E,L),a&&vs){y=0;break t}break;default:L=Ot,Ot=0,Ne=null,ws(e,S,E,L)}}Vx(),y=qt;break}catch(I){Jp(e,I)}while(!0);return n&&e.shellSuspendCounter++,Sn=Ci=null,Rt=o,b.H=h,b.A=p,vt===null&&(Pt=null,wt=0,Ea()),y}function Vx(){for(;vt!==null;)nm(vt)}function Ix(e,n){var a=Rt;Rt|=2;var o=tm(),h=em();Pt!==e||wt!==n?(rl=null,sl=Ee()+500,Ss(e,n)):vs=ks(e,n);t:do try{if(Ot!==0&&vt!==null){n=vt;var p=Ne;e:switch(Ot){case 1:Ot=0,Ne=null,ws(e,n,p,1);break;case 2:case 9:if(pd(p)){Ot=0,Ne=null,im(n);break}n=function(){Ot!==2&&Ot!==9||Pt!==e||(Ot=7),hn(e)},p.then(n,n);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:pd(p)?(Ot=0,Ne=null,im(n)):(Ot=0,Ne=null,ws(e,n,p,7));break;case 5:var y=null;switch(vt.tag){case 26:y=vt.memoizedState;case 5:case 27:var S=vt;if(!y||Gm(y)){Ot=0,Ne=null;var E=S.sibling;if(E!==null)vt=E;else{var L=S.return;L!==null?(vt=L,ll(L)):vt=null}break e}}Ot=0,Ne=null,ws(e,n,p,5);break;case 6:Ot=0,Ne=null,ws(e,n,p,6);break;case 8:Wu(),qt=6;break t;default:throw Error(r(462))}}Wx();break}catch(I){Jp(e,I)}while(!0);return Sn=Ci=null,b.H=o,b.A=h,Rt=a,vt!==null?0:(Pt=null,wt=0,Ea(),qt)}function Wx(){for(;vt!==null&&!pt();)nm(vt)}function nm(e){var n=Rp(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?ll(e):vt=n}function im(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=wp(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=wp(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:hu(n);default:zp(a,n),n=vt=sd(n,On),n=Rp(a,n,On)}e.memoizedProps=e.pendingProps,n===null?ll(e):vt=n}function ws(e,n,a,o){Sn=Ci=null,hu(n),ps=null,hr=0;var h=n.return;try{if(kx(e,h,n,a,wt)){qt=1,Ka(e,je(a,e.current)),vt=null;return}}catch(p){if(h!==null)throw vt=h,p;qt=1,Ka(e,je(a,e.current)),vt=null;return}n.flags&32768?(Mt||o===1?e=!0:vs||(wt&536870912)!==0?e=!1:(Jn=e=!0,(o===2||o===9||o===3||o===6)&&(o=Ie.current,o!==null&&o.tag===13&&(o.flags|=16384))),sm(n,e)):ll(n)}function ll(e){var n=e;do{if((n.flags&32768)!==0){sm(n,Jn);return}e=n.return;var a=Px(n.alternate,n,On);if(a!==null){vt=a;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);qt===0&&(qt=5)}function sm(e,n){do{var a=Lx(e.alternate,e);if(a!==null){a.flags&=32767,vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){vt=e;return}vt=e=a}while(e!==null);qt=6,vt=null}function rm(e,n,a,o,h,p,y,S,E){e.cancelPendingCommit=null;do ol();while(ue!==0);if((Rt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(p=n.lanes|n.childLanes,p|=Lo,Tv(e,a,p,y,S,E),e===Pt&&(vt=Pt=null,wt=0),bs=n,ni=e,_s=a,qu=p,Vu=h,Zp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Kx(da,function(){return cm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=b.T,b.T=null,h=T.p,T.p=2,y=Rt,Rt|=4;try{Yx(e,n,a)}finally{Rt=y,T.p=h,b.T=o}}ue=1,am(),lm(),om()}}function am(){if(ue===1){ue=0;var e=ni,n=bs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=b.T,b.T=null;var o=T.p;T.p=2;var h=Rt;Rt|=4;try{Xp(n,e);var p=oc,y=Wf(e.containerInfo),S=p.focusedElem,E=p.selectionRange;if(y!==S&&S&&S.ownerDocument&&If(S.ownerDocument.documentElement,S)){if(E!==null&&No(S)){var L=E.start,I=E.end;if(I===void 0&&(I=L),"selectionStart"in S)S.selectionStart=L,S.selectionEnd=Math.min(I,S.value.length);else{var Q=S.ownerDocument||document,Y=Q&&Q.defaultView||window;if(Y.getSelection){var j=Y.getSelection(),ct=S.textContent.length,ot=Math.min(E.start,ct),Bt=E.end===void 0?ot:Math.min(E.end,ct);!j.extend&&ot>Bt&&(y=Bt,Bt=ot,ot=y);var N=Vf(S,ot),B=Vf(S,Bt);if(N&&B&&(j.rangeCount!==1||j.anchorNode!==N.node||j.anchorOffset!==N.offset||j.focusNode!==B.node||j.focusOffset!==B.offset)){var G=Q.createRange();G.setStart(N.node,N.offset),j.removeAllRanges(),ot>Bt?(j.addRange(G),j.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),j.addRange(G))}}}}for(Q=[],j=S;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Q.length;S++){var Z=Q[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}bl=!!lc,oc=lc=null}finally{Rt=h,T.p=o,b.T=a}}e.current=n,ue=2}}function lm(){if(ue===2){ue=0;var e=ni,n=bs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=b.T,b.T=null;var o=T.p;T.p=2;var h=Rt;Rt|=4;try{Gp(e,n.alternate,n)}finally{Rt=h,T.p=o,b.T=a}}ue=3}}function om(){if(ue===4||ue===3){ue=0,St();var e=ni,n=bs,a=_s,o=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ue=5:(ue=0,bs=ni=null,um(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ei=null),po(a),n=n.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Hs,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=b.T,h=T.p,T.p=2,b.T=null;try{for(var p=e.onRecoverableError,y=0;y<o.length;y++){var S=o[y];p(S.value,{componentStack:S.stack})}}finally{b.T=n,T.p=h}}(_s&3)!==0&&ol(),hn(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Iu?br++:(br=0,Iu=e):br=0,_r(0)}}function um(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tr(n)))}function ol(e){return am(),lm(),om(),cm()}function cm(){if(ue!==5)return!1;var e=ni,n=qu;qu=0;var a=po(_s),o=b.T,h=T.p;try{T.p=32>a?32:a,b.T=null,a=Vu,Vu=null;var p=ni,y=_s;if(ue=0,bs=ni=null,_s=0,(Rt&6)!==0)throw Error(r(331));var S=Rt;if(Rt|=4,Ip(p.current),Fp(p,p.current,y,a),Rt=S,_r(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Hs,p)}catch{}return!0}finally{T.p=h,b.T=o,um(e,n)}}function hm(e,n,a){n=je(a,n),n=Cu(e.stateNode,n,2),e=Vn(e,n,2),e!==null&&(Gs(e,2),hn(e))}function Nt(e,n,a){if(e.tag===3)hm(e,e,a);else for(;n!==null;){if(n.tag===3){hm(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ei===null||!ei.has(o))){e=je(a,e),a=mp(2),o=Vn(n,a,2),o!==null&&(gp(a,o,n,e),Gs(o,2),hn(o));break}}n=n.return}}function Qu(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Fx;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(Yu=!0,h.add(a),e=Zx.bind(null,e,n,a),n.then(e,e))}function Zx(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pt===e&&(wt&a)===a&&(qt===4||qt===3&&(wt&62914560)===wt&&300>Ee()-Fu?(Rt&2)===0&&Ss(e,0):Xu|=a,xs===wt&&(xs=0)),hn(e)}function fm(e,n){n===0&&(n=of()),e=ss(e,n),e!==null&&(Gs(e,n),hn(e))}function $x(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),fm(e,a)}function Qx(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),fm(e,a)}function Kx(e,n){return xe(e,n)}var ul=null,As=null,Ku=!1,cl=!1,Ju=!1,Di=0;function hn(e){e!==As&&e.next===null&&(As===null?ul=As=e:As=As.next=e),cl=!0,Ku||(Ku=!0,t1())}function _r(e,n){if(!Ju&&cl){Ju=!0;do for(var a=!1,o=ul;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var p=0;else{var y=o.suspendedLanes,S=o.pingedLanes;p=(1<<31-Oe(42|e)+1)-1,p&=h&~(y&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(a=!0,gm(o,p))}else p=wt,p=ga(o,o===Pt?p:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(p&3)===0||ks(o,p)||(a=!0,gm(o,p));o=o.next}while(a);Ju=!1}}function Jx(){dm()}function dm(){cl=Ku=!1;var e=0;Di!==0&&(o1()&&(e=Di),Di=0);for(var n=Ee(),a=null,o=ul;o!==null;){var h=o.next,p=pm(o,n);p===0?(o.next=null,a===null?ul=h:a.next=h,h===null&&(As=a)):(a=o,(e!==0||(p&3)!==0)&&(cl=!0)),o=h}_r(e)}function pm(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var y=31-Oe(p),S=1<<y,E=h[y];E===-1?((S&a)===0||(S&o)!==0)&&(h[y]=Cv(S,n)):E<=n&&(e.expiredLanes|=S),p&=~S}if(n=Pt,a=wt,a=ga(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&be(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ks(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&be(o),po(a)){case 2:case 8:a=rf;break;case 32:a=da;break;case 268435456:a=af;break;default:a=da}return o=mm.bind(null,e),a=xe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&be(o),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,n){if(ue!==0&&ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ol()&&e.callbackNode!==a)return null;var o=wt;return o=ga(e,e===Pt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Qp(e,o,n),pm(e,Ee()),e.callbackNode!=null&&e.callbackNode===a?mm.bind(null,e):null)}function gm(e,n){if(ol())return null;Qp(e,n,!0)}function t1(){c1(function(){(Rt&6)!==0?xe(co,Jx):dm()})}function tc(){return Di===0&&(Di=lf()),Di}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_a(""+e)}function vm(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function e1(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var p=ym((h[_e]||null).action),y=o.submitter;y&&(n=(n=y[_e]||null)?ym(n.formAction):y.getAttribute("formAction"),n!==null&&(p=n,y=null));var S=new Ca("action","action",null,o,h);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Di!==0){var E=y?vm(h,y):new FormData(h);bu(a,{pending:!0,data:E,method:h.method,action:p},null,E)}}else typeof p=="function"&&(S.preventDefault(),E=y?vm(h,y):new FormData(h),bu(a,{pending:!0,data:E,method:h.method,action:p},p,E))},currentTarget:h}]})}}for(var ec=0;ec<Po.length;ec++){var nc=Po[ec],n1=nc.toLowerCase(),i1=nc[0].toUpperCase()+nc.slice(1);Je(n1,"on"+i1)}Je(Qf,"onAnimationEnd"),Je(Kf,"onAnimationIteration"),Je(Jf,"onAnimationStart"),Je("dblclick","onDoubleClick"),Je("focusin","onFocus"),Je("focusout","onBlur"),Je(bx,"onTransitionRun"),Je(_x,"onTransitionStart"),Je(Sx,"onTransitionCancel"),Je(td,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sr));function xm(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var p=void 0;if(n)for(var y=o.length-1;0<=y;y--){var S=o[y],E=S.instance,L=S.currentTarget;if(S=S.listener,E!==p&&h.isPropagationStopped())break t;p=S,h.currentTarget=L;try{p(h)}catch(I){Qa(I)}h.currentTarget=null,p=E}else for(y=0;y<o.length;y++){if(S=o[y],E=S.instance,L=S.currentTarget,S=S.listener,E!==p&&h.isPropagationStopped())break t;p=S,h.currentTarget=L;try{p(h)}catch(I){Qa(I)}h.currentTarget=null,p=E}}}}function xt(e,n){var a=n[mo];a===void 0&&(a=n[mo]=new Set);var o=e+"__bubble";a.has(o)||(bm(n,e,2,!1),a.add(o))}function ic(e,n,a){var o=0;n&&(o|=4),bm(a,e,o,n)}var hl="_reactListening"+Math.random().toString(36).slice(2);function sc(e){if(!e[hl]){e[hl]=!0,df.forEach(function(a){a!=="selectionchange"&&(s1.has(a)||ic(a,!1,e),ic(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hl]||(n[hl]=!0,ic("selectionchange",!1,n))}}function bm(e,n,a,o){switch(Fm(n)){case 2:var h=z1;break;case 8:h=D1;break;default:h=vc}a=h.bind(null,n,a,e),h=void 0,!To||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function rc(e,n,a,o,h){var p=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===h)break;if(y===4)for(y=o.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;S!==null;){if(y=qi(S),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){o=p=y;continue t}S=S.parentNode}}o=o.return}Mf(function(){var L=p,I=Ao(a),Q=[];t:{var Y=ed.get(e);if(Y!==void 0){var j=Ca,ct=e;switch(e){case"keypress":if(wa(a)===0)break t;case"keydown":case"keyup":j=Kv;break;case"focusin":ct="focus",j=Oo;break;case"focusout":ct="blur",j=Oo;break;case"beforeblur":case"afterblur":j=Oo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=ex;break;case Qf:case Kf:case Jf:j=jv;break;case td:j=ix;break;case"scroll":case"scrollend":j=Gv;break;case"wheel":j=rx;break;case"copy":case"cut":case"paste":j=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Df;break;case"toggle":case"beforetoggle":j=lx}var ot=(n&4)!==0,Bt=!ot&&(e==="scroll"||e==="scrollend"),N=ot?Y!==null?Y+"Capture":null:Y;ot=[];for(var B=L,G;B!==null;){var Z=B;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||N===null||(Z=Ys(B,N),Z!=null&&ot.push(wr(B,Z,G))),Bt)break;B=B.return}0<ot.length&&(Y=new j(Y,ct,null,a,I),Q.push({event:Y,listeners:ot}))}}if((n&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",Y&&a!==wo&&(ct=a.relatedTarget||a.fromElement)&&(qi(ct)||ct[Fi]))break t;if((j||Y)&&(Y=I.window===I?I:(Y=I.ownerDocument)?Y.defaultView||Y.parentWindow:window,j?(ct=a.relatedTarget||a.toElement,j=L,ct=ct?qi(ct):null,ct!==null&&(Bt=u(ct),ot=ct.tag,ct!==Bt||ot!==5&&ot!==27&&ot!==6)&&(ct=null)):(j=null,ct=L),j!==ct)){if(ot=Of,Z="onMouseLeave",N="onMouseEnter",B="mouse",(e==="pointerout"||e==="pointerover")&&(ot=Df,Z="onPointerLeave",N="onPointerEnter",B="pointer"),Bt=j==null?Y:Ls(j),G=ct==null?Y:Ls(ct),Y=new ot(Z,B+"leave",j,a,I),Y.target=Bt,Y.relatedTarget=G,Z=null,qi(I)===L&&(ot=new ot(N,B+"enter",ct,a,I),ot.target=G,ot.relatedTarget=Bt,Z=ot),Bt=Z,j&&ct)e:{for(ot=j,N=ct,B=0,G=ot;G;G=Cs(G))B++;for(G=0,Z=N;Z;Z=Cs(Z))G++;for(;0<B-G;)ot=Cs(ot),B--;for(;0<G-B;)N=Cs(N),G--;for(;B--;){if(ot===N||N!==null&&ot===N.alternate)break e;ot=Cs(ot),N=Cs(N)}ot=null}else ot=null;j!==null&&_m(Q,Y,j,ot,!1),ct!==null&&Bt!==null&&_m(Q,Bt,ct,ot,!0)}}t:{if(Y=L?Ls(L):window,j=Y.nodeName&&Y.nodeName.toLowerCase(),j==="select"||j==="input"&&Y.type==="file")var st=Lf;else if(Gf(Y))if(Yf)st=yx;else{st=mx;var yt=px}else j=Y.nodeName,!j||j.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?L&&So(L.elementType)&&(st=Lf):st=gx;if(st&&(st=st(e,L))){Pf(Q,st,a,I);break t}yt&&yt(e,Y,L),e==="focusout"&&L&&Y.type==="number"&&L.memoizedProps.value!=null&&_o(Y,"number",Y.value)}switch(yt=L?Ls(L):window,e){case"focusin":(Gf(yt)||yt.contentEditable==="true")&&(es=yt,Ho=L,Zs=null);break;case"focusout":Zs=Ho=es=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,Zf(Q,a,I);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":Zf(Q,a,I)}var lt;if(Do)t:{switch(e){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else ts?Hf(e,a)&&(ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(Uf&&a.locale!=="ko"&&(ts||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ts&&(lt=Ef()):(Xn=I,Mo="value"in Xn?Xn.value:Xn.textContent,ts=!0)),yt=fl(L,ut),0<yt.length&&(ut=new zf(ut,e,null,a,I),Q.push({event:ut,listeners:yt}),lt?ut.data=lt:(lt=kf(a),lt!==null&&(ut.data=lt)))),(lt=ux?cx(e,a):hx(e,a))&&(ut=fl(L,"onBeforeInput"),0<ut.length&&(yt=new zf("onBeforeInput","beforeinput",null,a,I),Q.push({event:yt,listeners:ut}),yt.data=lt)),e1(Q,e,L,a,I)}xm(Q,n)})}function wr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function fl(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,p=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||p===null||(h=Ys(e,a),h!=null&&o.unshift(wr(e,h,p)),h=Ys(e,n),h!=null&&o.push(wr(e,h,p))),e.tag===3)return o;e=e.return}return[]}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _m(e,n,a,o,h){for(var p=n._reactName,y=[];a!==null&&a!==o;){var S=a,E=S.alternate,L=S.stateNode;if(S=S.tag,E!==null&&E===o)break;S!==5&&S!==26&&S!==27||L===null||(E=L,h?(L=Ys(a,p),L!=null&&y.unshift(wr(a,L,E))):h||(L=Ys(a,p),L!=null&&y.push(wr(a,L,E)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var r1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(a1,"")}function wm(e,n){return n=Sm(n),Sm(e)===n}function dl(){}function Ut(e,n,a,o,h,p){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Qi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Qi(e,""+o);break;case"className":va(e,"class",o);break;case"tabIndex":va(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":va(e,a,o);break;case"style":Cf(e,o,p);break;case"data":if(n!=="object"){va(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(a==="formAction"?(n!=="input"&&Ut(e,n,"name",h.name,h,null),Ut(e,n,"formEncType",h.formEncType,h,null),Ut(e,n,"formMethod",h.formMethod,h,null),Ut(e,n,"formTarget",h.formTarget,h,null)):(Ut(e,n,"encType",h.encType,h,null),Ut(e,n,"method",h.method,h,null),Ut(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=_a(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=dl);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=_a(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),ya(e,"popover",o);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hv.get(a)||a,ya(e,a,o))}}function ac(e,n,a,o,h,p){switch(a){case"style":Cf(e,o,p);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Qi(e,o):(typeof o=="number"||typeof o=="bigint")&&Qi(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=dl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pf.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),p=e[_e]||null,p=p!=null?p[a]:null,typeof p=="function"&&e.removeEventListener(n,p,h),typeof o=="function")){typeof p!="function"&&p!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ya(e,a,o)}}}function ce(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,h=!1,p;for(p in a)if(a.hasOwnProperty(p)){var y=a[p];if(y!=null)switch(p){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ut(e,n,p,y,a,null)}}h&&Ut(e,n,"srcSet",a.srcSet,a,null),o&&Ut(e,n,"src",a.src,a,null);return;case"input":xt("invalid",e);var S=p=y=h=null,E=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var I=a[o];if(I!=null)switch(o){case"name":h=I;break;case"type":y=I;break;case"checked":E=I;break;case"defaultChecked":L=I;break;case"value":p=I;break;case"defaultValue":S=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(r(137,n));break;default:Ut(e,n,o,I,a,null)}}_f(e,p,S,E,L,y,h,!1),xa(e);return;case"select":xt("invalid",e),o=y=p=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":p=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:Ut(e,n,h,S,a,null)}n=p,a=y,e.multiple=!!o,n!=null?$i(e,!!o,n,!1):a!=null&&$i(e,!!o,a,!0);return;case"textarea":xt("invalid",e),p=h=o=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":h=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ut(e,n,y,S,a,null)}wf(e,o,h,p),xa(e);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(o=a[E],o!=null))switch(E){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ut(e,n,E,o,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<Sr.length;o++)xt(Sr[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ut(e,n,L,o,a,null)}return;default:if(So(n)){for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!==void 0&&ac(e,n,I,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&Ut(e,n,S,o,a,null))}function l1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,p=null,y=null,S=null,E=null,L=null,I=null;for(j in a){var Q=a[j];if(a.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":E=Q;default:o.hasOwnProperty(j)||Ut(e,n,j,null,o,Q)}}for(var Y in o){var j=o[Y];if(Q=a[Y],o.hasOwnProperty(Y)&&(j!=null||Q!=null))switch(Y){case"type":p=j;break;case"name":h=j;break;case"checked":L=j;break;case"defaultChecked":I=j;break;case"value":y=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==Q&&Ut(e,n,Y,j,o,Q)}}bo(e,y,S,E,L,I,p,h);return;case"select":j=y=S=Y=null;for(p in a)if(E=a[p],a.hasOwnProperty(p)&&E!=null)switch(p){case"value":break;case"multiple":j=E;default:o.hasOwnProperty(p)||Ut(e,n,p,null,o,E)}for(h in o)if(p=o[h],E=a[h],o.hasOwnProperty(h)&&(p!=null||E!=null))switch(h){case"value":Y=p;break;case"defaultValue":S=p;break;case"multiple":y=p;default:p!==E&&Ut(e,n,h,p,o,E)}n=S,a=y,o=j,Y!=null?$i(e,!!a,Y,!1):!!o!=!!a&&(n!=null?$i(e,!!a,n,!0):$i(e,!!a,a?[]:"",!1));return;case"textarea":j=Y=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ut(e,n,S,null,o,h)}for(y in o)if(h=o[y],p=a[y],o.hasOwnProperty(y)&&(h!=null||p!=null))switch(y){case"value":Y=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==p&&Ut(e,n,y,h,o,p)}Sf(e,Y,j);return;case"option":for(var ct in a)if(Y=a[ct],a.hasOwnProperty(ct)&&Y!=null&&!o.hasOwnProperty(ct))switch(ct){case"selected":e.selected=!1;break;default:Ut(e,n,ct,null,o,Y)}for(E in o)if(Y=o[E],j=a[E],o.hasOwnProperty(E)&&Y!==j&&(Y!=null||j!=null))switch(E){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ut(e,n,E,Y,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in a)Y=a[ot],a.hasOwnProperty(ot)&&Y!=null&&!o.hasOwnProperty(ot)&&Ut(e,n,ot,null,o,Y);for(L in o)if(Y=o[L],j=a[L],o.hasOwnProperty(L)&&Y!==j&&(Y!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Ut(e,n,L,Y,o,j)}return;default:if(So(n)){for(var Bt in a)Y=a[Bt],a.hasOwnProperty(Bt)&&Y!==void 0&&!o.hasOwnProperty(Bt)&&ac(e,n,Bt,void 0,o,Y);for(I in o)Y=o[I],j=a[I],!o.hasOwnProperty(I)||Y===j||Y===void 0&&j===void 0||ac(e,n,I,Y,o,j);return}}for(var N in a)Y=a[N],a.hasOwnProperty(N)&&Y!=null&&!o.hasOwnProperty(N)&&Ut(e,n,N,null,o,Y);for(Q in o)Y=o[Q],j=a[Q],!o.hasOwnProperty(Q)||Y===j||Y==null&&j==null||Ut(e,n,Q,Y,o,j)}var lc=null,oc=null;function pl(e){return e.nodeType===9?e:e.ownerDocument}function Am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function uc(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var cc=null;function o1(){var e=window.event;return e&&e.type==="popstate"?e===cc?!1:(cc=e,!0):(cc=null,!1)}var Tm=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,c1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(e){return Mm.resolve(null).then(e).catch(h1)}:Tm;function h1(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function Em(e,n){var a=n,o=0,h=0;do{var p=a.nextSibling;if(e.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(0<o&&8>o){a=o;var y=e.ownerDocument;if(a&1&&Ar(y.documentElement),a&2&&Ar(y.body),a&4)for(a=y.head,Ar(a),y=a.firstChild;y;){var S=y.nextSibling,E=y.nodeName;y[Ps]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}if(h===0){e.removeChild(p),Dr(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=p}while(a);Dr(n)}function hc(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hc(a),go(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function f1(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ps])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function d1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=en(e.nextSibling),e===null))return null;return e}function fc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function p1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var dc=null;function Rm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Om(e,n,a){switch(n=pl(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ar(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);go(e)}var Ze=new Map,zm=new Set;function ml(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=T.d;T.d={f:m1,r:g1,D:y1,C:v1,L:x1,m:b1,X:S1,S:_1,M:w1};function m1(){var e=zn.f(),n=al();return e||n}function g1(e){var n=Vi(e);n!==null&&n.tag===5&&n.type==="form"?Qd(n):zn.r(e)}var Ts=typeof document>"u"?null:document;function Dm(e,n,a){var o=Ts;if(o&&typeof n=="string"&&n){var h=Xe(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),zm.has(h)||(zm.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ce(n,"link",e),ne(n),o.head.appendChild(n)))}}function y1(e){zn.D(e),Dm("dns-prefetch",e,null)}function v1(e,n){zn.C(e,n),Dm("preconnect",e,n)}function x1(e,n,a){zn.L(e,n,a);var o=Ts;if(o&&e&&n){var h='link[rel="preload"][as="'+Xe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Xe(a.imageSizes)+'"]')):h+='[href="'+Xe(e)+'"]';var p=h;switch(n){case"style":p=Ms(e);break;case"script":p=Es(e)}Ze.has(p)||(e=g({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ze.set(p,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(Cr(p))||n==="script"&&o.querySelector(Tr(p))||(n=o.createElement("link"),ce(n,"link",e),ne(n),o.head.appendChild(n)))}}function b1(e,n){zn.m(e,n);var a=Ts;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+Xe(o)+'"][href="'+Xe(e)+'"]',p=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Es(e)}if(!Ze.has(p)&&(e=g({rel:"modulepreload",href:e},n),Ze.set(p,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tr(p)))return}o=a.createElement("link"),ce(o,"link",e),ne(o),a.head.appendChild(o)}}}function _1(e,n,a){zn.S(e,n,a);var o=Ts;if(o&&e){var h=Ii(o).hoistableStyles,p=Ms(e);n=n||"default";var y=h.get(p);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(Cr(p)))S.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ze.get(p))&&pc(e,a);var E=y=o.createElement("link");ne(E),ce(E,"link",e),E._p=new Promise(function(L,I){E.onload=L,E.onerror=I}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,gl(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:S},h.set(p,y)}}}function S1(e,n){zn.X(e,n);var a=Ts;if(a&&e){var o=Ii(a).hoistableScripts,h=Es(e),p=o.get(h);p||(p=a.querySelector(Tr(h)),p||(e=g({src:e,async:!0},n),(n=Ze.get(h))&&mc(e,n),p=a.createElement("script"),ne(p),ce(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(h,p))}}function w1(e,n){zn.M(e,n);var a=Ts;if(a&&e){var o=Ii(a).hoistableScripts,h=Es(e),p=o.get(h);p||(p=a.querySelector(Tr(h)),p||(e=g({src:e,async:!0,type:"module"},n),(n=Ze.get(h))&&mc(e,n),p=a.createElement("script"),ne(p),ce(p,"link",e),a.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},o.set(h,p))}}function Um(e,n,a,o){var h=(h=et.current)?ml(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ms(a.href),a=Ii(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ms(a.href);var p=Ii(h).hoistableStyles,y=p.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,y),(p=h.querySelector(Cr(e)))&&!p._p&&(y.instance=p,y.state.loading=5),Ze.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ze.set(e,a),p||A1(h,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Es(a),a=Ii(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ms(e){return'href="'+Xe(e)+'"'}function Cr(e){return'link[rel="stylesheet"]['+e+"]"}function Bm(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function A1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ce(n,"link",a),ne(n),e.head.appendChild(n))}function Es(e){return'[src="'+Xe(e)+'"]'}function Tr(e){return"script[async]"+e}function Nm(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Xe(a.href)+'"]');if(o)return n.instance=o,ne(o),o;var h=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ne(o),ce(o,"style",h),gl(o,a.precedence,e),n.instance=o;case"stylesheet":h=Ms(a.href);var p=e.querySelector(Cr(h));if(p)return n.state.loading|=4,n.instance=p,ne(p),p;o=Bm(a),(h=Ze.get(h))&&pc(o,h),p=(e.ownerDocument||e).createElement("link"),ne(p);var y=p;return y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),ce(p,"link",o),n.state.loading|=4,gl(p,a.precedence,e),n.instance=p;case"script":return p=Es(a.src),(h=e.querySelector(Tr(p)))?(n.instance=h,ne(h),h):(o=a,(h=Ze.get(p))&&(o=g({},a),mc(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ne(h),ce(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gl(o,a.precedence,e));return n.instance}function gl(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,p=h,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===n)p=S;else if(p!==h)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function pc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function mc(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yl=null;function Hm(e,n,a){if(yl===null){var o=new Map,h=yl=new Map;h.set(a,o)}else h=yl,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var p=a[h];if(!(p[Ps]||p[fe]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var y=p.getAttribute(n)||"";y=e+y;var S=o.get(y);S?S.push(p):o.set(y,[p])}}return o}function km(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function C1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Mr=null;function T1(){}function M1(e,n,a){if(Mr===null)throw Error(r(475));var o=Mr;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ms(a.href),p=e.querySelector(Cr(h));if(p){e=p._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=vl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=p,ne(p);return}p=e.ownerDocument||e,a=Bm(a),(h=Ze.get(h))&&pc(a,h),p=p.createElement("link"),ne(p);var y=p;y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),ce(p,"link",a),n.instance=p}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=vl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function E1(){if(Mr===null)throw Error(r(475));var e=Mr;return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function vl(){if(this.count--,this.count===0){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xl=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xl=new Map,n.forEach(R1,e),xl=null,vl.call(e))}function R1(e,n){if(!(n.state.loading&4)){var a=xl.get(e);if(a)var o=a.get(null);else{a=new Map,xl.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<h.length;p++){var y=h[p];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}h=n.instance,y=h.getAttribute("data-precedence"),p=a.get(y)||o,p===o&&a.set(null,h),a.set(y,h),this.count++,o=vl.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),p?p.parentNode.insertBefore(h,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Er={$$typeof:z,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function O1(e,n,a,o,h,p,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ho(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ho(0),this.hiddenUpdates=ho(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=p,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Pm(e,n,a,o,h,p,y,S,E,L,I,Q){return e=new O1(e,n,a,y,S,E,L,Q),n=1,p===!0&&(n|=24),p=De(3,null,null,n),e.current=p,p.stateNode=e,n=Qo(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:o,isDehydrated:a,cache:n},eu(p),e}function Lm(e){return e?(e=rs,e):rs}function Ym(e,n,a,o,h,p){h=Lm(h),o.context===null?o.context=h:o.pendingContext=h,o=qn(n),o.payload={element:a},p=p===void 0?null:p,p!==null&&(o.callback=p),a=Vn(e,o,n),a!==null&&(ke(a,e,n),sr(a,e,n))}function Xm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function yc(e,n){Xm(e,n),(e=e.alternate)&&Xm(e,n)}function jm(e){if(e.tag===13){var n=ss(e,67108864);n!==null&&ke(n,e,67108864),yc(e,67108864)}}var bl=!0;function z1(e,n,a,o){var h=b.T;b.T=null;var p=T.p;try{T.p=2,vc(e,n,a,o)}finally{T.p=p,b.T=h}}function D1(e,n,a,o){var h=b.T;b.T=null;var p=T.p;try{T.p=8,vc(e,n,a,o)}finally{T.p=p,b.T=h}}function vc(e,n,a,o){if(bl){var h=xc(o);if(h===null)rc(e,n,o,_l,a),qm(e,o);else if(B1(h,e,n,a,o))o.stopPropagation();else if(qm(e,o),n&4&&-1<U1.indexOf(e)){for(;h!==null;){var p=Vi(h);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=mi(p.pendingLanes);if(y!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var E=1<<31-Oe(y);S.entanglements[1]|=E,y&=~E}hn(p),(Rt&6)===0&&(sl=Ee()+500,_r(0))}}break;case 13:S=ss(p,2),S!==null&&ke(S,p,2),al(),yc(p,2)}if(p=xc(o),p===null&&rc(e,n,o,_l,a),p===h)break;h=p}h!==null&&o.stopPropagation()}else rc(e,n,o,null,a)}}function xc(e){return e=Ao(e),bc(e)}var _l=null;function bc(e){if(_l=null,e=qi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=c(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _l=e,null}function Fm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(uo()){case co:return 2;case rf:return 8;case da:case xv:return 32;case af:return 268435456;default:return 32}default:return 32}}var _c=!1,ri=null,ai=null,li=null,Rr=new Map,Or=new Map,oi=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,n){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Rr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(n.pointerId)}}function zr(e,n,a,o,h,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:p,targetContainers:[h]},n!==null&&(n=Vi(n),n!==null&&jm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function B1(e,n,a,o,h){switch(n){case"focusin":return ri=zr(ri,e,n,a,o,h),!0;case"dragenter":return ai=zr(ai,e,n,a,o,h),!0;case"mouseover":return li=zr(li,e,n,a,o,h),!0;case"pointerover":var p=h.pointerId;return Rr.set(p,zr(Rr.get(p)||null,e,n,a,o,h)),!0;case"gotpointercapture":return p=h.pointerId,Or.set(p,zr(Or.get(p)||null,e,n,a,o,h)),!0}return!1}function Vm(e){var n=qi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=c(a),n!==null){e.blockedOn=n,Mv(e.priority,function(){if(a.tag===13){var o=He();o=fo(o);var h=ss(a,o);h!==null&&ke(h,a,o),yc(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=xc(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);wo=o,a.target.dispatchEvent(o),wo=null}else return n=Vi(a),n!==null&&jm(n),e.blockedOn=a,!1;n.shift()}return!0}function Im(e,n,a){Sl(e)&&a.delete(n)}function N1(){_c=!1,ri!==null&&Sl(ri)&&(ri=null),ai!==null&&Sl(ai)&&(ai=null),li!==null&&Sl(li)&&(li=null),Rr.forEach(Im),Or.forEach(Im)}function wl(e,n){e.blockedOn===n&&(e.blockedOn=null,_c||(_c=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,N1)))}var Al=null;function Wm(e){Al!==e&&(Al=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Al===e&&(Al=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bc(o||a)===null)continue;break}var p=Vi(a);p!==null&&(e.splice(n,3),n-=3,bu(p,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Dr(e){function n(E){return wl(E,e)}ri!==null&&wl(ri,e),ai!==null&&wl(ai,e),li!==null&&wl(li,e),Rr.forEach(n),Or.forEach(n);for(var a=0;a<oi.length;a++){var o=oi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<oi.length&&(a=oi[0],a.blockedOn===null);)Vm(a),a.blockedOn===null&&oi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],p=a[o+1],y=h[_e]||null;if(typeof p=="function")y||Wm(a);else if(y){var S=null;if(p&&p.hasAttribute("formAction")){if(h=p,y=p[_e]||null)S=y.formAction;else if(bc(h)!==null)continue}else S=y.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Wm(a)}}}function Sc(e){this._internalRoot=e}Cl.prototype.render=Sc.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=He();Ym(a,o,e,n,null,null)},Cl.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ym(e.current,2,null,e,null,null),al(),n[Fi]=null}};function Cl(e){this._internalRoot=e}Cl.prototype.unstable_scheduleHydration=function(e){if(e){var n=hf();e={blockedOn:null,target:e,priority:n};for(var a=0;a<oi.length&&n!==0&&n<oi[a].priority;a++);oi.splice(a,0,e),a===0&&Vm(e)}};var Zm=t.version;if(Zm!=="19.1.0")throw Error(r(527,Zm,"19.1.0"));T.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=d(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var H1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tl.isDisabled&&Tl.supportsFiber)try{Hs=Tl.inject(H1),Re=Tl}catch{}}return Br.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=hp,p=fp,y=dp,S=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Pm(e,1,!1,null,null,a,o,h,p,y,S,null),e[Fi]=n.current,sc(e),new Sc(n)},Br.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",p=hp,y=fp,S=dp,E=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=Pm(e,1,!0,n,a??null,o,h,p,y,S,E,L),n.context=Lm(null),a=n.current,o=He(),o=fo(o),h=qn(o),h.callback=null,Vn(a,h,o),a=o,n.current.lanes=a,Gs(n,a),hn(n),e[Fi]=n.current,sc(e),new Cl(n)},Br.version="19.1.0",Br}var rg;function V1(){if(rg)return Ac.exports;rg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ac.exports=q1(),Ac.exports}var I1=V1();const W1=ua(I1);var k=Lh();const me=ua(k);var Nr={},ag;function Z1(){if(ag)return Nr;ag=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.parse=c,Nr.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function c(_,x){const C=new u,O=_.length;if(O<2)return C;const A=(x==null?void 0:x.decode)||g;let M=0;do{const U=_.indexOf("=",M);if(U===-1)break;const z=_.indexOf(";",M),F=z===-1?O:z;if(U>F){M=_.lastIndexOf(";",U-1)+1;continue}const V=f(_,M,U),W=d(_,U,V),$=_.slice(V,W);if(C[$]===void 0){let rt=f(_,U+1,F),it=d(_,F,rt);const tt=A(_.slice(rt,it));C[$]=tt}M=F+1}while(M<O);return C}function f(_,x,C){do{const O=_.charCodeAt(x);if(O!==32&&O!==9)return x}while(++x<C);return C}function d(_,x,C){for(;x>C;){const O=_.charCodeAt(--x);if(O!==32&&O!==9)return x+1}return C}function m(_,x,C){const O=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=O(x);if(!t.test(A))throw new TypeError(`argument val is invalid: ${x}`);let M=_+"="+A;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return l.call(_)==="[object Date]"}return Nr}Z1();var lg="popstate";function $1(s={}){function t(l,u){let{pathname:c="/",search:f="",hash:d=""}=Xi(l.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),dh("",{pathname:c,search:f,hash:d},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let c=l.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let d=l.location.href,m=d.indexOf("#");f=m===-1?d:d.slice(0,m)}return f+"#"+(typeof u=="string"?u:ta(u))}function r(l,u){sn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return K1(t,i,r,s)}function jt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function sn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q1(){return Math.random().toString(36).substring(2,10)}function og(s,t){return{usr:s.state,key:s.key,idx:t}}function dh(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Xi(t):t,state:i,key:t&&t.key||r||Q1()}}function ta({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Xi(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function K1(s,t,i,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,c=l.history,f="POP",d=null,m=g();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function g(){return(c.state||{idx:null}).idx}function v(){f="POP";let A=g(),M=A==null?null:A-m;m=A,d&&d({action:f,location:O.location,delta:M})}function _(A,M){f="PUSH";let U=dh(O.location,A,M);i&&i(U,A),m=g()+1;let z=og(U,m),F=O.createHref(U);try{c.pushState(z,"",F)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;l.location.assign(F)}u&&d&&d({action:f,location:O.location,delta:1})}function x(A,M){f="REPLACE";let U=dh(O.location,A,M);i&&i(U,A),m=g();let z=og(U,m),F=O.createHref(U);c.replaceState(z,"",F),u&&d&&d({action:f,location:O.location,delta:0})}function C(A){let M=l.location.origin!=="null"?l.location.origin:l.location.href,U=typeof A=="string"?A:ta(A);return U=U.replace(/ $/,"%20"),jt(M,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,M)}let O={get action(){return f},get location(){return s(l,c)},listen(A){if(d)throw new Error("A history only accepts one active listener");return l.addEventListener(lg,v),d=A,()=>{l.removeEventListener(lg,v),d=null}},createHref(A){return t(l,A)},createURL:C,encodeLocation(A){let M=C(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:x,go(A){return c.go(A)}};return O}function Cy(s,t,i="/"){return J1(s,t,i,!1)}function J1(s,t,i,r){let l=typeof t=="string"?Xi(t):t,u=Hn(l.pathname||"/",i);if(u==null)return null;let c=Ty(s);tb(c);let f=null;for(let d=0;f==null&&d<c.length;++d){let m=hb(u);f=ub(c[d],m,r)}return f}function Ty(s,t=[],i=[],r=""){let l=(u,c,f)=>{let d={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};d.relativePath.startsWith("/")&&(jt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=Un([r,d.relativePath]),g=i.concat(d);u.children&&u.children.length>0&&(jt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ty(u.children,t,g,m)),!(u.path==null&&!u.index)&&t.push({path:m,score:lb(m,u.index),routesMeta:g})};return s.forEach((u,c)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,c);else for(let d of My(u.path))l(u,c,d)}),t}function My(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let c=My(r.join("/")),f=[];return f.push(...c.map(d=>d===""?u:[u,d].join("/"))),l&&f.push(...c),f.map(d=>s.startsWith("/")&&d===""?"/":d)}function tb(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:ob(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var eb=/^:[\w-]+$/,nb=3,ib=2,sb=1,rb=10,ab=-2,ug=s=>s==="*";function lb(s,t){let i=s.split("/"),r=i.length;return i.some(ug)&&(r+=ab),t&&(r+=ib),i.filter(l=>!ug(l)).reduce((l,u)=>l+(eb.test(u)?nb:u===""?sb:rb),r)}function ob(s,t){return s.length===t.length&&s.slice(0,-1).every((r,l)=>r===t[l])?s[s.length-1]-t[t.length-1]:0}function ub(s,t,i=!1){let{routesMeta:r}=s,l={},u="/",c=[];for(let f=0;f<r.length;++f){let d=r[f],m=f===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=Il({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),_=d.route;if(!v&&m&&i&&!r[r.length-1].route.index&&(v=Il({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(l,v.params),c.push({params:l,pathname:Un([u,v.pathname]),pathnameBase:mb(Un([u,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(u=Un([u,v.pathnameBase]))}return c}function Il(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=cb(s.path,s.caseSensitive,s.end),l=t.match(i);if(!l)return null;let u=l[0],c=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},_)=>{if(g==="*"){let C=f[_]||"";c=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const x=f[_];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:c,pattern:s}}function cb(s,t=!1,i=!0){sn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function hb(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Hn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function fb(s,t="/"){let{pathname:i,search:r="",hash:l=""}=typeof s=="string"?Xi(s):s;return{pathname:i?i.startsWith("/")?i:db(i,t):t,search:gb(r),hash:yb(l)}}function db(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Rc(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pb(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Ey(s){let t=pb(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Ry(s,t,i,r=!1){let l;typeof s=="string"?l=Xi(s):(l={...s},jt(!l.pathname||!l.pathname.includes("?"),Rc("?","pathname","search",l)),jt(!l.pathname||!l.pathname.includes("#"),Rc("#","pathname","hash",l)),jt(!l.search||!l.search.includes("#"),Rc("#","search","hash",l)));let u=s===""||l.pathname==="",c=u?"/":l.pathname,f;if(c==null)f=i;else{let v=t.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),v-=1;l.pathname=_.join("/")}f=v>=0?t[v]:"/"}let d=fb(l,f),m=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Un=s=>s.join("/").replace(/\/\/+/g,"/"),mb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),gb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,yb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function vb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Oy=["POST","PUT","PATCH","DELETE"];new Set(Oy);var xb=["GET",...Oy];new Set(xb);var Ns=k.createContext(null);Ns.displayName="DataRouter";var Ql=k.createContext(null);Ql.displayName="DataRouterState";var zy=k.createContext({isTransitioning:!1});zy.displayName="ViewTransition";var bb=k.createContext(new Map);bb.displayName="Fetchers";var _b=k.createContext(null);_b.displayName="Await";var pn=k.createContext(null);pn.displayName="Navigation";var ca=k.createContext(null);ca.displayName="Location";var mn=k.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var Yh=k.createContext(null);Yh.displayName="RouteError";function Sb(s,{relative:t}={}){jt(ha(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=k.useContext(pn),{hash:l,pathname:u,search:c}=fa(s,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Un([i,u])),r.createHref({pathname:f,search:c,hash:l})}function ha(){return k.useContext(ca)!=null}function pi(){return jt(ha(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(ca).location}var Dy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uy(s){k.useContext(pn).static||k.useLayoutEffect(s)}function wb(){let{isDataRoute:s}=k.useContext(mn);return s?Hb():Ab()}function Ab(){jt(ha(),"useNavigate() may be used only in the context of a <Router> component.");let s=k.useContext(Ns),{basename:t,navigator:i}=k.useContext(pn),{matches:r}=k.useContext(mn),{pathname:l}=pi(),u=JSON.stringify(Ey(r)),c=k.useRef(!1);return Uy(()=>{c.current=!0}),k.useCallback((d,m={})=>{if(sn(c.current,Dy),!c.current)return;if(typeof d=="number"){i.go(d);return}let g=Ry(d,JSON.parse(u),l,m.relative==="path");s==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Un([t,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[t,i,u,l,s])}k.createContext(null);function By(){let{matches:s}=k.useContext(mn),t=s[s.length-1];return t?t.params:{}}function fa(s,{relative:t}={}){let{matches:i}=k.useContext(mn),{pathname:r}=pi(),l=JSON.stringify(Ey(i));return k.useMemo(()=>Ry(s,JSON.parse(l),r,t==="path"),[s,l,r,t])}function Cb(s,t){return Ny(s,t)}function Ny(s,t,i,r){var U;jt(ha(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=k.useContext(pn),{matches:c}=k.useContext(mn),f=c[c.length-1],d=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let z=v&&v.path||"";Hy(m,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let _=pi(),x;if(t){let z=typeof t=="string"?Xi(t):t;jt(g==="/"||((U=z.pathname)==null?void 0:U.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=_;let C=x.pathname||"/",O=C;if(g!=="/"){let z=g.replace(/^\//,"").split("/");O="/"+C.replace(/^\//,"").split("/").slice(z.length).join("/")}let A=!u&&i&&i.matches&&i.matches.length>0?i.matches:Cy(s,{pathname:O});sn(v||A!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),sn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Ob(A&&A.map(z=>Object.assign({},z,{params:Object.assign({},d,z.params),pathname:Un([g,l.encodeLocation?l.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:Un([g,l.encodeLocation?l.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,i,r);return t&&M?k.createElement(ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function Tb(){let s=Nb(),t=vb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),i?k.createElement("pre",{style:l},i):null,c)}var Mb=k.createElement(Tb,null),Eb=class extends k.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?k.createElement(mn.Provider,{value:this.props.routeContext},k.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rb({routeContext:s,match:t,children:i}){let r=k.useContext(Ns);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),k.createElement(mn.Provider,{value:s},i)}function Ob(s,t=[],i=null,r=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let l=s,u=i==null?void 0:i.errors;if(u!=null){let d=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);jt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,d+1))}let c=!1,f=-1;if(i)for(let d=0;d<l.length;d++){let m=l[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:g,errors:v}=i,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||_){c=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((d,m,g)=>{let v,_=!1,x=null,C=null;i&&(v=u&&m.route.id?u[m.route.id]:void 0,x=m.route.errorElement||Mb,c&&(f<0&&g===0?(Hy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):f===g&&(_=!0,C=m.route.hydrateFallbackElement||null)));let O=t.concat(l.slice(0,g+1)),A=()=>{let M;return v?M=x:_?M=C:m.route.Component?M=k.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=d,k.createElement(Rb,{match:m,routeContext:{outlet:d,matches:O,isDataRoute:i!=null},children:M})};return i&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?k.createElement(Eb,{location:i.location,revalidation:i.revalidation,component:x,error:v,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):A()},null)}function Xh(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(s){let t=k.useContext(Ns);return jt(t,Xh(s)),t}function Db(s){let t=k.useContext(Ql);return jt(t,Xh(s)),t}function Ub(s){let t=k.useContext(mn);return jt(t,Xh(s)),t}function jh(s){let t=Ub(s),i=t.matches[t.matches.length-1];return jt(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Bb(){return jh("useRouteId")}function Nb(){var r;let s=k.useContext(Yh),t=Db("useRouteError"),i=jh("useRouteError");return s!==void 0?s:(r=t.errors)==null?void 0:r[i]}function Hb(){let{router:s}=zb("useNavigate"),t=jh("useNavigate"),i=k.useRef(!1);return Uy(()=>{i.current=!0}),k.useCallback(async(l,u={})=>{sn(i.current,Dy),i.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:t,...u}))},[s,t])}var cg={};function Hy(s,t,i){!t&&!cg[s]&&(cg[s]=!0,sn(!1,i))}k.memo(kb);function kb({routes:s,future:t,state:i}){return Ny(s,void 0,i,t)}function jr(s){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gb({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:l,static:u=!1}){jt(!ha(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),f=k.useMemo(()=>({basename:c,navigator:l,static:u,future:{}}),[c,l,u]);typeof i=="string"&&(i=Xi(i));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:_="default"}=i,x=k.useMemo(()=>{let C=Hn(d,c);return C==null?null:{location:{pathname:C,search:m,hash:g,state:v,key:_},navigationType:r}},[c,d,m,g,v,_,r]);return sn(x!=null,`<Router basename="${c}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:k.createElement(pn.Provider,{value:f},k.createElement(ca.Provider,{children:t,value:x}))}function Pb({children:s,location:t}){return Cb(ph(s),t)}function ph(s,t=[]){let i=[];return k.Children.forEach(s,(r,l)=>{if(!k.isValidElement(r))return;let u=[...t,l];if(r.type===k.Fragment){i.push.apply(i,ph(r.props.children,u));return}jt(r.type===jr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=ph(r.props.children,u)),i.push(c)}),i}var Pl="get",Ll="application/x-www-form-urlencoded";function Kl(s){return s!=null&&typeof s.tagName=="string"}function Lb(s){return Kl(s)&&s.tagName.toLowerCase()==="button"}function Yb(s){return Kl(s)&&s.tagName.toLowerCase()==="form"}function Xb(s){return Kl(s)&&s.tagName.toLowerCase()==="input"}function jb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Fb(s,t){return s.button===0&&(!t||t==="_self")&&!jb(s)}var Ml=null;function qb(){if(Ml===null)try{new FormData(document.createElement("form"),0),Ml=!1}catch{Ml=!0}return Ml}var Vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Oc(s){return s!=null&&!Vb.has(s)?(sn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ll}"`),null):s}function Ib(s,t){let i,r,l,u,c;if(Yb(s)){let f=s.getAttribute("action");r=f?Hn(f,t):null,i=s.getAttribute("method")||Pl,l=Oc(s.getAttribute("enctype"))||Ll,u=new FormData(s)}else if(Lb(s)||Xb(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=s.getAttribute("formaction")||f.getAttribute("action");if(r=d?Hn(d,t):null,i=s.getAttribute("formmethod")||f.getAttribute("method")||Pl,l=Oc(s.getAttribute("formenctype"))||Oc(f.getAttribute("enctype"))||Ll,u=new FormData(f,s),!qb()){let{name:m,type:g,value:v}=s;if(g==="image"){let _=m?`${m}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else m&&u.append(m,v)}}else{if(Kl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Pl,r=null,l=Ll,c=s}return u&&l==="text/plain"&&(c=u,u=void 0),{action:r,method:i.toLowerCase(),encType:l,formData:u,body:c}}function Fh(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function Wb(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function $b(s,t,i){let r=await Promise.all(s.map(async l=>{let u=t.routes[l.route.id];if(u){let c=await Wb(u,i);return c.links?c.links():[]}return[]}));return t_(r.flat(1).filter(Zb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function hg(s,t,i,r,l,u){let c=(d,m)=>i[m]?d.route.id!==i[m].route.id:!0,f=(d,m)=>{var g;return i[m].pathname!==d.pathname||((g=i[m].route.path)==null?void 0:g.endsWith("*"))&&i[m].params["*"]!==d.params["*"]};return u==="assets"?t.filter((d,m)=>c(d,m)||f(d,m)):u==="data"?t.filter((d,m)=>{var v;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(c(d,m)||f(d,m))return!0;if(d.route.shouldRevalidate){let _=d.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(s,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Qb(s,t,{includeHydrateFallback:i}={}){return Kb(s.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Kb(s){return[...new Set(s)]}function Jb(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function t_(s,t){let i=new Set;return new Set(t),s.reduce((r,l)=>{let u=JSON.stringify(Jb(l));return i.has(u)||(i.add(u),r.push({key:u,link:l})),r},[])}var e_=new Set([100,101,204,205]);function n_(s,t){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":t&&Hn(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function ky(){let s=k.useContext(Ns);return Fh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function i_(){let s=k.useContext(Ql);return Fh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var qh=k.createContext(void 0);qh.displayName="FrameworkContext";function Gy(){let s=k.useContext(qh);return Fh(s,"You must render this element inside a <HydratedRouter> element"),s}function s_(s,t){let i=k.useContext(qh),[r,l]=k.useState(!1),[u,c]=k.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,_=k.useRef(null);k.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let O=M=>{M.forEach(U=>{c(U.isIntersecting)})},A=new IntersectionObserver(O,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[s]),k.useEffect(()=>{if(r){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[r]);let x=()=>{l(!0)},C=()=>{l(!1),c(!1)};return i?s!=="intent"?[u,_,{}]:[u,_,{onFocus:Hr(f,x),onBlur:Hr(d,C),onMouseEnter:Hr(m,x),onMouseLeave:Hr(g,C),onTouchStart:Hr(v,x)}]:[!1,_,{}]}function Hr(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function r_({page:s,...t}){let{router:i}=ky(),r=k.useMemo(()=>Cy(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?k.createElement(l_,{page:s,matches:r,...t}):null}function a_(s){let{manifest:t,routeModules:i}=Gy(),[r,l]=k.useState([]);return k.useEffect(()=>{let u=!1;return $b(s,t,i).then(c=>{u||l(c)}),()=>{u=!0}},[s,t,i]),r}function l_({page:s,matches:t,...i}){let r=pi(),{manifest:l,routeModules:u}=Gy(),{basename:c}=ky(),{loaderData:f,matches:d}=i_(),m=k.useMemo(()=>hg(s,t,d,l,r,"data"),[s,t,d,l,r]),g=k.useMemo(()=>hg(s,t,d,l,r,"assets"),[s,t,d,l,r]),v=k.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let C=new Set,O=!1;if(t.forEach(M=>{var z;let U=l.routes[M.route.id];!U||!U.hasLoader||(!m.some(F=>F.route.id===M.route.id)&&M.route.id in f&&((z=u[M.route.id])!=null&&z.shouldRevalidate)||U.hasClientLoader?O=!0:C.add(M.route.id))}),C.size===0)return[];let A=n_(s,c);return O&&C.size>0&&A.searchParams.set("_routes",t.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[c,f,r,l,m,t,s,u]),_=k.useMemo(()=>Qb(g,l),[g,l]),x=a_(g);return k.createElement(k.Fragment,null,v.map(C=>k.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),_.map(C=>k.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),x.map(({key:C,link:O})=>k.createElement("link",{key:C,...O})))}function o_(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Py&&(window.__reactRouterVersion="7.5.2")}catch{}function u_({basename:s,children:t,window:i}){let r=k.useRef();r.current==null&&(r.current=$1({window:i,v5Compat:!0}));let l=r.current,[u,c]=k.useState({action:l.action,location:l.location}),f=k.useCallback(d=>{k.startTransition(()=>c(d))},[c]);return k.useLayoutEffect(()=>l.listen(f),[l,f]),k.createElement(Gb,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:l})}var Ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Li=k.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:l,reloadDocument:u,replace:c,state:f,target:d,to:m,preventScrollReset:g,viewTransition:v,..._},x){let{basename:C}=k.useContext(pn),O=typeof m=="string"&&Ly.test(m),A,M=!1;if(typeof m=="string"&&O&&(A=m,Py))try{let it=new URL(window.location.href),tt=m.startsWith("//")?new URL(it.protocol+m):new URL(m),nt=Hn(tt.pathname,C);tt.origin===it.origin&&nt!=null?m=nt+tt.search+tt.hash:M=!0}catch{sn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=Sb(m,{relative:l}),[z,F,V]=s_(r,_),W=d_(m,{replace:c,state:f,target:d,preventScrollReset:g,relative:l,viewTransition:v});function $(it){t&&t(it),it.defaultPrevented||W(it)}let rt=k.createElement("a",{..._,...V,href:A||U,onClick:M||u?t:$,ref:o_(x,F),target:d,"data-discover":!O&&i==="render"?"true":void 0});return z&&!O?k.createElement(k.Fragment,null,rt,k.createElement(r_,{page:U})):rt});Li.displayName="Link";var c_=k.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:c,viewTransition:f,children:d,...m},g){let v=fa(c,{relative:m.relative}),_=pi(),x=k.useContext(Ql),{navigator:C,basename:O}=k.useContext(pn),A=x!=null&&v_(v)&&f===!0,M=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,U=_.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(U=U.toLowerCase(),z=z?z.toLowerCase():null,M=M.toLowerCase()),z&&O&&(z=Hn(z,O)||z);const F=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let V=U===M||!l&&U.startsWith(M)&&U.charAt(F)==="/",W=z!=null&&(z===M||!l&&z.startsWith(M)&&z.charAt(M.length)==="/"),$={isActive:V,isPending:W,isTransitioning:A},rt=V?t:void 0,it;typeof r=="function"?it=r($):it=[r,V?"active":null,W?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let tt=typeof u=="function"?u($):u;return k.createElement(Li,{...m,"aria-current":rt,className:it,ref:g,style:tt,to:c,viewTransition:f},typeof d=="function"?d($):d)});c_.displayName="NavLink";var h_=k.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:l,state:u,method:c=Pl,action:f,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,..._},x)=>{let C=g_(),O=y_(f,{relative:m}),A=c.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&Ly.test(f),U=z=>{if(d&&d(z),z.defaultPrevented)return;z.preventDefault();let F=z.nativeEvent.submitter,V=(F==null?void 0:F.getAttribute("formmethod"))||c;C(F||z.currentTarget,{fetcherKey:t,method:V,navigate:i,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:v})};return k.createElement("form",{ref:x,method:A,action:O,onSubmit:r?d:U,..._,"data-discover":!M&&s==="render"?"true":void 0})});h_.displayName="Form";function f_(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yy(s){let t=k.useContext(Ns);return jt(t,f_(s)),t}function d_(s,{target:t,replace:i,state:r,preventScrollReset:l,relative:u,viewTransition:c}={}){let f=wb(),d=pi(),m=fa(s,{relative:u});return k.useCallback(g=>{if(Fb(g,t)){g.preventDefault();let v=i!==void 0?i:ta(d)===ta(m);f(s,{replace:v,state:r,preventScrollReset:l,relative:u,viewTransition:c})}},[d,f,m,i,r,t,s,l,u,c])}var p_=0,m_=()=>`__${String(++p_)}__`;function g_(){let{router:s}=Yy("useSubmit"),{basename:t}=k.useContext(pn),i=Bb();return k.useCallback(async(r,l={})=>{let{action:u,method:c,encType:f,formData:d,body:m}=Ib(r,t);if(l.navigate===!1){let g=l.fetcherKey||m_();await s.fetch(g,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||f,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:d,body:m,formMethod:l.method||c,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,t,i])}function y_(s,{relative:t}={}){let{basename:i}=k.useContext(pn),r=k.useContext(mn);jt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...fa(s||".",{relative:t})},c=pi();if(s==null){u.search=c.search;let f=new URLSearchParams(u.search),d=f.getAll("index");if(d.some(g=>g==="")){f.delete("index"),d.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Un([i,u.pathname])),ta(u)}function v_(s,t={}){let i=k.useContext(zy);jt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Yy("useViewTransitionState"),l=fa(s,{relative:t.relative});if(!i.isTransitioning)return!1;let u=Hn(i.currentLocation.pathname,r)||i.currentLocation.pathname,c=Hn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Il(l.pathname,c)!=null||Il(l.pathname,u)!=null}new TextEncoder;[...e_];const Xy="/MathArt/assets/logo-CAutbF-v.png";function x_(){const[s,t]=k.useState(!1),i=k.useRef(null),r=()=>{t(l=>!l)};return k.useEffect(()=>{const l=u=>{i.current&&!i.current.contains(u.target)&&t(!1)};return s&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[s]),q.jsx("header",{children:q.jsx("nav",{className:"nav",children:q.jsx("div",{className:"nav-wrapper",children:q.jsx("div",{className:"nav-content-wrapper",children:q.jsxs("div",{className:"nav-content",children:[q.jsxs(Li,{to:"/",className:"nav-title-wrapper",children:[q.jsx("img",{src:Xy,alt:"",className:"nav-logo"}),q.jsx("div",{className:"nav-title",children:"Home"})]}),q.jsxs("div",{className:"nav-menu",children:[q.jsxs("div",{className:`dropdown ${s?"open":""}`,ref:i,children:[q.jsx("div",{className:"nav-item-wrapper",children:q.jsx("button",{className:"nav-item-content",onClick:r,children:"Galleries"})}),q.jsx("div",{className:"dropdown-content",children:q.jsx(Li,{to:"/gallery/spin",onClick:()=>t(!1),children:"Spin Art"})})]}),q.jsx("div",{className:"nav-item-wrapper",children:q.jsx(Li,{to:"/about",className:"nav-item-content",children:"About"})})]})]})})})})})}const b_="modulepreload",__=function(s){return"/MathArt/"+s},fg={},Wl=function(t,i,r){let l=Promise.resolve();if(i&&i.length>0){let c=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=c(i.map(m=>{if(m=__(m),m in fg)return;fg[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":b_,g||(_.as="script"),_.crossOrigin="",_.href=m,d&&_.setAttribute("nonce",d),document.head.appendChild(_),g)return new Promise((x,C)=>{_.addEventListener("load",x),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return l.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var zt=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))(zt||{});const mh=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},El=(s,t)=>mh(s).priority??t,Qe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(mh).forEach(t=>{t.type.forEach(i=>{var r,l;return(l=(r=this._removeHandlers)[i])==null?void 0:l.call(r,t)})}),this},add(...s){return s.map(mh).forEach(t=>{t.type.forEach(i=>{var u,c;const r=this._addHandlers,l=this._queue;r[i]?(c=r[i])==null||c.call(r,t):(l[i]=l[i]||[],(u=l[i])==null||u.push(t))})}),this},handle(s,t,i){var c;const r=this._addHandlers,l=this._removeHandlers;if(r[s]||l[s])throw new Error(`Extension type ${s} already has a handler`);r[s]=t,l[s]=i;const u=this._queue;return u[s]&&((c=u[s])==null||c.forEach(f=>t(f)),delete u[s]),this},handleByMap(s,t){return this.handle(s,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByNamedList(s,t,i=-1){return this.handle(s,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,c)=>El(c.value,i)-El(u.value,i)))},r=>{const l=t.findIndex(u=>u.name===r.name);l!==-1&&t.splice(l,1)})},handleByList(s,t,i=-1){return this.handle(s,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((l,u)=>El(u,i)-El(l,i)))},r=>{const l=t.indexOf(r.ref);l!==-1&&t.splice(l,1)})},mixin(s,...t){for(const i of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(i))}},S_={extension:{type:zt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Wl(()=>import("./browserAll-CvFzdSJZ.js"),__vite__mapDeps([0,1,2,3]))}},w_={extension:{type:zt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Wl(()=>import("./webworkerAll-DZwnfvD1.js"),__vite__mapDeps([1,2,3]))}};class Pe{constructor(t,i,r){this._x=i||0,this._y=r||0,this._observer=t}clone(t){return new Pe(t??this._observer,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var zc={exports:{}},dg;function A_(){return dg||(dg=1,function(s){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function l(d,m,g){this.fn=d,this.context=m,this.once=g||!1}function u(d,m,g,v,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var x=new l(g,v||d,_),C=i?i+m:m;return d._events[C]?d._events[C].fn?d._events[C]=[d._events[C],x]:d._events[C].push(x):(d._events[C]=x,d._eventsCount++),d}function c(d,m){--d._eventsCount===0?d._events=new r:delete d._events[m]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,v;if(this._eventsCount===0)return m;for(v in g=this._events)t.call(g,v)&&m.push(i?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m){var g=i?i+m:m,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,x=v.length,C=new Array(x);_<x;_++)C[_]=v[_].fn;return C},f.prototype.listenerCount=function(m){var g=i?i+m:m,v=this._events[g];return v?v.fn?1:v.length:0},f.prototype.emit=function(m,g,v,_,x,C){var O=i?i+m:m;if(!this._events[O])return!1;var A=this._events[O],M=arguments.length,U,z;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,v),!0;case 4:return A.fn.call(A.context,g,v,_),!0;case 5:return A.fn.call(A.context,g,v,_,x),!0;case 6:return A.fn.call(A.context,g,v,_,x,C),!0}for(z=1,U=new Array(M-1);z<M;z++)U[z-1]=arguments[z];A.fn.apply(A.context,U)}else{var F=A.length,V;for(z=0;z<F;z++)switch(A[z].once&&this.removeListener(m,A[z].fn,void 0,!0),M){case 1:A[z].fn.call(A[z].context);break;case 2:A[z].fn.call(A[z].context,g);break;case 3:A[z].fn.call(A[z].context,g,v);break;case 4:A[z].fn.call(A[z].context,g,v,_);break;default:if(!U)for(V=1,U=new Array(M-1);V<M;V++)U[V-1]=arguments[V];A[z].fn.apply(A[z].context,U)}}return!0},f.prototype.on=function(m,g,v){return u(this,m,g,v,!1)},f.prototype.once=function(m,g,v){return u(this,m,g,v,!0)},f.prototype.removeListener=function(m,g,v,_){var x=i?i+m:m;if(!this._events[x])return this;if(!g)return c(this,x),this;var C=this._events[x];if(C.fn)C.fn===g&&(!_||C.once)&&(!v||C.context===v)&&c(this,x);else{for(var O=0,A=[],M=C.length;O<M;O++)(C[O].fn!==g||_&&!C[O].once||v&&C[O].context!==v)&&A.push(C[O]);A.length?this._events[x]=A.length===1?A[0]:A:c(this,x)}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=i?i+m:m,this._events[g]&&c(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=i,f.EventEmitter=f,s.exports=f}(zc)),zc.exports}var C_=A_();const kn=ua(C_),T_=Math.PI*2,M_=180/Math.PI,E_=Math.PI/180;class At{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new At(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Dc.x=0,Dc.y=0,Dc}}const Dc=new At;class Ct{constructor(t=1,i=0,r=0,l=1,u=0,c=0){this.array=null,this.a=t,this.b=i,this.c=r,this.d=l,this.tx=u,this.ty=c}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,r,l,u,c){return this.a=t,this.b=i,this.c=r,this.d=l,this.tx=u,this.ty=c,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const r=i||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,i){i=i||new At;const r=t.x,l=t.y;return i.x=this.a*r+this.c*l+this.tx,i.y=this.b*r+this.d*l+this.ty,i}applyInverse(t,i){i=i||new At;const r=this.a,l=this.b,u=this.c,c=this.d,f=this.tx,d=this.ty,m=1/(r*c+u*-l),g=t.x,v=t.y;return i.x=c*m*g+-u*m*v+(d*u-f*c)*m,i.y=r*m*v+-l*m*g+(-d*r+f*l)*m,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),r=Math.sin(t),l=this.a,u=this.c,c=this.tx;return this.a=l*i-this.b*r,this.b=l*r+this.b*i,this.c=u*i-this.d*r,this.d=u*r+this.d*i,this.tx=c*i-this.ty*r,this.ty=c*r+this.ty*i,this}append(t){const i=this.a,r=this.b,l=this.c,u=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*r+t.b*u,this.c=t.c*i+t.d*l,this.d=t.c*r+t.d*u,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,i){const r=t.a,l=t.b,u=t.c,c=t.d,f=t.tx,d=t.ty,m=i.a,g=i.b,v=i.c,_=i.d;return this.a=r*m+l*v,this.b=r*g+l*_,this.c=u*m+c*v,this.d=u*g+c*_,this.tx=f*m+d*v+i.tx,this.ty=f*g+d*_+i.ty,this}setTransform(t,i,r,l,u,c,f,d,m){return this.a=Math.cos(f+m)*u,this.b=Math.sin(f+m)*u,this.c=-Math.sin(f-d)*c,this.d=Math.cos(f-d)*c,this.tx=t-(r*this.a+l*this.c),this.ty=i-(r*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,l=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,r=this.b,l=this.c,u=this.d,c=t.pivot,f=-Math.atan2(-l,u),d=Math.atan2(r,i),m=Math.abs(f+d);return m<1e-5||Math.abs(T_-m)<1e-5?(t.rotation=d,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=d),t.scale.x=Math.sqrt(i*i+r*r),t.scale.y=Math.sqrt(l*l+u*u),t.position.x=this.tx+(c.x*i+c.y*l),t.position.y=this.ty+(c.x*r+c.y*u),t}invert(){const t=this.a,i=this.b,r=this.c,l=this.d,u=this.tx,c=t*l-i*r;return this.a=l/c,this.b=-i/c,this.c=-r/c,this.d=t/c,this.tx=(r*this.ty-l*u)/c,this.ty=-(t*this.ty-i*u)/c,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Ct;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return O_.identity()}static get shared(){return R_.identity()}}const R_=new Ct,O_=new Ct,Bi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ni=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Hi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ki=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],gh=[],jy=[],Rl=Math.sign;function z_(){for(let s=0;s<16;s++){const t=[];gh.push(t);for(let i=0;i<16;i++){const r=Rl(Bi[s]*Bi[i]+Hi[s]*Ni[i]),l=Rl(Ni[s]*Bi[i]+ki[s]*Ni[i]),u=Rl(Bi[s]*Hi[i]+Hi[s]*ki[i]),c=Rl(Ni[s]*Hi[i]+ki[s]*ki[i]);for(let f=0;f<16;f++)if(Bi[f]===r&&Ni[f]===l&&Hi[f]===u&&ki[f]===c){t.push(f);break}}}for(let s=0;s<16;s++){const t=new Ct;t.set(Bi[s],Ni[s],Hi[s],ki[s],0,0),jy.push(t)}}z_();const Xt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Bi[s],uY:s=>Ni[s],vX:s=>Hi[s],vY:s=>ki[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>gh[s][t],sub:(s,t)=>gh[s][Xt.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?Xt.S:Xt.N:Math.abs(t)*2<=Math.abs(s)?s>0?Xt.E:Xt.W:t>0?s>0?Xt.SE:Xt.SW:s>0?Xt.NE:Xt.NW,matrixAppendRotationInv:(s,t,i=0,r=0)=>{const l=jy[Xt.inv(t)];l.tx=i,l.ty=r,s.append(l)}},Ol=[new At,new At,new At,new At];class It{constructor(t=0,i=0,r=0,l=0){this.type="rectangle",this.x=Number(t),this.y=Number(i),this.width=Number(r),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new It(0,0,0,0)}clone(){return new It(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}strokeContains(t,i,r,l=.5){const{width:u,height:c}=this;if(u<=0||c<=0)return!1;const f=this.x,d=this.y,m=r*(1-l),g=r-m,v=f-m,_=f+u+m,x=d-m,C=d+c+m,O=f+g,A=f+u-g,M=d+g,U=d+c-g;return t>=v&&t<=_&&i>=x&&i<=C&&!(t>O&&t<A&&i>M&&i<U)}intersects(t,i){if(!i){const rt=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=rt)return!1;const tt=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>tt}const r=this.left,l=this.right,u=this.top,c=this.bottom;if(l<=r||c<=u)return!1;const f=Ol[0].set(t.left,t.top),d=Ol[1].set(t.left,t.bottom),m=Ol[2].set(t.right,t.top),g=Ol[3].set(t.right,t.bottom);if(m.x<=f.x||d.y<=f.y)return!1;const v=Math.sign(i.a*i.d-i.b*i.c);if(v===0||(i.apply(f,f),i.apply(d,d),i.apply(m,m),i.apply(g,g),Math.max(f.x,d.x,m.x,g.x)<=r||Math.min(f.x,d.x,m.x,g.x)>=l||Math.max(f.y,d.y,m.y,g.y)<=u||Math.min(f.y,d.y,m.y,g.y)>=c))return!1;const _=v*(d.y-f.y),x=v*(f.x-d.x),C=_*r+x*u,O=_*l+x*u,A=_*r+x*c,M=_*l+x*c;if(Math.max(C,O,A,M)<=_*f.x+x*f.y||Math.min(C,O,A,M)>=_*g.x+x*g.y)return!1;const U=v*(f.y-m.y),z=v*(m.x-f.x),F=U*r+z*u,V=U*l+z*u,W=U*r+z*c,$=U*l+z*c;return!(Math.max(F,V,W,$)<=U*f.x+z*f.y||Math.min(F,V,W,$)>=U*g.x+z*g.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(r-i,0),this.y=l,this.height=Math.max(u-l,0),this}ceil(t=1,i=.001){const r=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=r-this.x,this.height=l-this.y,this}enlarge(t){const i=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=r-i,this.y=l,this.height=u-l,this}getBounds(t){return t||(t=new It),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const i=t.x,r=t.y,l=t.x+t.width,u=t.y+t.height;return i>=this.x&&i<this.x+this.width&&r>=this.y&&r<this.y+this.height&&l>=this.x&&l<this.x+this.width&&u>=this.y&&u<this.y+this.height}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Uc={default:-1};function Jt(s="default"){return Uc[s]===void 0&&(Uc[s]=-1),++Uc[s]}const pg={},Kt="8.0.0",D_="8.3.4";function mt(s,t,i=3){if(pg[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(r=r.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(r))),pg[t]=!0}const Fy=()=>{};function mg(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function gg(s){return!(s&s-1)&&!!s}function qy(s){const t={};for(const i in s)s[i]!==void 0&&(t[i]=s[i]);return t}const yg=Object.create(null);function U_(s){const t=yg[s];return t===void 0&&(yg[s]=Jt("resource")),t}const Vy=class Iy extends kn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Iy.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){mt(Kt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=U_(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Vy.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let B_=Vy;const Wy=class Zy extends kn{constructor(t={}){super(),this.options=t,this.uid=Jt("textureSource"),this._resourceType="textureSource",this._resourceId=Jt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Zy.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new B_(qy(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var i,r;this.style!==t&&((i=this._style)==null||i.off("change",this._onStyleChange,this),this._style=t,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Jt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,i,r){r||(r=this._resolution),t||(t=this.width),i||(i=this.height);const l=Math.round(t*r),u=Math.round(i*r);return this.width=l/r,this.height=u/r,this._resolution=r,this.pixelWidth===l&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Jt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=gg(this.pixelWidth)&&gg(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Wy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let gn=Wy;class Vh extends gn{constructor(t){const i=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(i instanceof Float32Array?r="rgba32float":i instanceof Int32Array||i instanceof Uint32Array?r="rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?r="rgba16uint":(i instanceof Int8Array,r="bgra8unorm")),super({...t,resource:i,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Vh.extension=zt.TextureSource;const vg=new Ct;class N_{constructor(t,i){this.mapCoord=new Ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof i>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=i,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var i;this.texture!==t&&((i=this._texture)==null||i.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,i){i===void 0&&(i=t);const r=this.mapCoord;for(let l=0;l<t.length;l+=2){const u=t[l],c=t[l+1];i[l]=u*r.a+c*r.c+r.tx,i[l+1]=u*r.b+c*r.d+r.ty}return i}update(){const t=this._texture;this._updateID++;const i=t.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const r=t.orig,l=t.trim;l&&(vg.set(r.width/l.width,0,0,r.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(vg));const u=t.source,c=this.uClampFrame,f=this.clampMargin/u._resolution,d=this.clampOffset/u._resolution;return c[0]=(t.frame.x+f+d)/u.width,c[1]=(t.frame.y+f+d)/u.height,c[2]=(t.frame.x+t.frame.width-f+d)/u.width,c[3]=(t.frame.y+t.frame.height-f+d)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class Ht extends kn{constructor({source:t,label:i,frame:r,orig:l,trim:u,defaultAnchor:c,defaultBorders:f,rotate:d,dynamic:m}={}){if(super(),this.uid=Jt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new It,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=(t==null?void 0:t.source)??new gn,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:g,height:v}=this._source;this.frame.width=g,this.frame.height=v}this.orig=l||this.frame,this.trim=u,this.rotate=d??0,this.defaultAnchor=c,this.defaultBorders=f,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new N_(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:i}=this,{width:r,height:l}=this._source,u=i.x/r,c=i.y/l,f=i.width/r,d=i.height/l;let m=this.rotate;if(m){const g=f/2,v=d/2,_=u+g,x=c+v;m=Xt.add(m,Xt.NW),t.x0=_+g*Xt.uX(m),t.y0=x+v*Xt.uY(m),m=Xt.add(m,2),t.x1=_+g*Xt.uX(m),t.y1=x+v*Xt.uY(m),m=Xt.add(m,2),t.x2=_+g*Xt.uX(m),t.y2=x+v*Xt.uY(m),m=Xt.add(m,2),t.x3=_+g*Xt.uX(m),t.y3=x+v*Xt.uY(m)}else t.x0=u,t.y0=c,t.x1=u+f,t.y1=c,t.x2=u+f,t.y2=c+d,t.x3=u,t.y3=c+d}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return mt(Kt,"Texture.baseTexture is now Texture.source"),this._source}}Ht.EMPTY=new Ht({label:"EMPTY",source:new gn({label:"EMPTY"})});Ht.EMPTY.destroy=Fy;Ht.WHITE=new Ht({source:new Vh({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Ht.WHITE.destroy=Fy;function H_(s,t,i){const{width:r,height:l}=i.orig,u=i.trim;if(u){const c=u.width,f=u.height;s.minX=u.x-t._x*r,s.maxX=s.minX+c,s.minY=u.y-t._y*l,s.maxY=s.minY+f}else s.minX=-t._x*r,s.maxX=s.minX+r,s.minY=-t._y*l,s.maxY=s.minY+l}const xg=new Ct;class rn{constructor(t=1/0,i=1/0,r=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=xg,this.minX=t,this.minY=i,this.maxX=r,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new It);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=xg,this}set(t,i,r,l){this.minX=t,this.minY=i,this.maxX=r,this.maxY=l}addFrame(t,i,r,l,u){u||(u=this.matrix);const c=u.a,f=u.b,d=u.c,m=u.d,g=u.tx,v=u.ty;let _=this.minX,x=this.minY,C=this.maxX,O=this.maxY,A=c*t+d*i+g,M=f*t+m*i+v;A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=c*r+d*i+g,M=f*r+m*i+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=c*t+d*l+g,M=f*t+m*l+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=c*r+d*l+g,M=f*r+m*l+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),this.minX=_,this.minY=x,this.maxX=C,this.maxY=O}addRect(t,i){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,i)}addBounds(t,i){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,i)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const i=this.minX,r=this.minY,l=this.maxX,u=this.maxY,{a:c,b:f,c:d,d:m,tx:g,ty:v}=t;let _=c*i+d*r+g,x=f*i+m*r+v;this.minX=_,this.minY=x,this.maxX=_,this.maxY=x,_=c*l+d*r+g,x=f*l+m*r+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=c*i+d*u+g,x=f*i+m*u+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=c*l+d*u+g,x=f*l+m*u+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,i,r,l){return this.minX<t&&(this.minX=t),this.maxX>i&&(this.maxX=i),this.minY<r&&(this.minY=r),this.maxY>l&&(this.maxY=l),this}pad(t,i=t){return this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new rn(this.minX,this.minY,this.maxX,this.maxY)}scale(t,i=t){return this.minX*=t,this.minY*=i,this.maxX*=t,this.maxY*=i,this}get x(){return this.minX}set x(t){const i=this.maxX-this.minX;this.minX=t,this.maxX=t+i}get y(){return this.minY}set y(t){const i=this.maxY-this.minY;this.minY=t,this.maxY=t+i}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,i,r,l){let u=this.minX,c=this.minY,f=this.maxX,d=this.maxY;l||(l=this.matrix);const m=l.a,g=l.b,v=l.c,_=l.d,x=l.tx,C=l.ty;for(let O=i;O<r;O+=2){const A=t[O],M=t[O+1],U=m*A+v*M+x,z=g*A+_*M+C;u=U<u?U:u,c=z<c?z:c,f=U>f?U:f,d=z>d?z:d}this.minX=u,this.minY=c,this.maxX=f,this.maxY=d}containsPoint(t,i){return this.minX<=t&&this.minY<=i&&this.maxX>=t&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var k_={grad:.9,turn:360,rad:360/(2*Math.PI)},Dn=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},ae=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i+0},$e=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s>t?s:t},$y=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},bg=function(s){return{r:$e(s.r,0,255),g:$e(s.g,0,255),b:$e(s.b,0,255),a:$e(s.a)}},Bc=function(s){return{r:ae(s.r),g:ae(s.g),b:ae(s.b),a:ae(s.a,3)}},G_=/^#([0-9a-f]{3,8})$/i,zl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Qy=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=Math.max(t,i,r),c=u-Math.min(t,i,r),f=c?u===t?(i-r)/c:u===i?2+(r-t)/c:4+(t-i)/c:0;return{h:60*(f<0?f+6:f),s:u?c/u*100:0,v:u/255*100,a:l}},Ky=function(s){var t=s.h,i=s.s,r=s.v,l=s.a;t=t/360*6,i/=100,r/=100;var u=Math.floor(t),c=r*(1-i),f=r*(1-(t-u)*i),d=r*(1-(1-t+u)*i),m=u%6;return{r:255*[r,f,c,c,d,r][m],g:255*[d,r,r,f,c,c][m],b:255*[c,c,d,r,r,f][m],a:l}},_g=function(s){return{h:$y(s.h),s:$e(s.s,0,100),l:$e(s.l,0,100),a:$e(s.a)}},Sg=function(s){return{h:ae(s.h),s:ae(s.s),l:ae(s.l),a:ae(s.a,3)}},wg=function(s){return Ky((i=(t=s).s,{h:t.h,s:(i*=((r=t.l)<50?r:100-r)/100)>0?2*i/(r+i)*100:0,v:r+i,a:t.a}));var t,i,r},Zr=function(s){return{h:(t=Qy(s)).h,s:(l=(200-(i=t.s))*(r=t.v)/100)>0&&l<200?i*r/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,r,l},P_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,X_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,yh={string:[[function(s){var t=G_.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ae(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?ae(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=Y_.exec(s)||X_.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:bg({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=P_.exec(s)||L_.exec(s);if(!t)return null;var i,r,l=_g({h:(i=t[1],r=t[2],r===void 0&&(r="deg"),Number(i)*(k_[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return wg(l)},"hsl"]],object:[[function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=l===void 0?1:l;return Dn(t)&&Dn(i)&&Dn(r)?bg({r:Number(t),g:Number(i),b:Number(r),a:Number(u)}):null},"rgb"],[function(s){var t=s.h,i=s.s,r=s.l,l=s.a,u=l===void 0?1:l;if(!Dn(t)||!Dn(i)||!Dn(r))return null;var c=_g({h:Number(t),s:Number(i),l:Number(r),a:Number(u)});return wg(c)},"hsl"],[function(s){var t=s.h,i=s.s,r=s.v,l=s.a,u=l===void 0?1:l;if(!Dn(t)||!Dn(i)||!Dn(r))return null;var c=function(f){return{h:$y(f.h),s:$e(f.s,0,100),v:$e(f.v,0,100),a:$e(f.a)}}({h:Number(t),s:Number(i),v:Number(r),a:Number(u)});return Ky(c)},"hsv"]]},Ag=function(s,t){for(var i=0;i<t.length;i++){var r=t[i][0](s);if(r)return[r,t[i][1]]}return[null,void 0]},j_=function(s){return typeof s=="string"?Ag(s.trim(),yh.string):typeof s=="object"&&s!==null?Ag(s,yh.object):[null,void 0]},Nc=function(s,t){var i=Zr(s);return{h:i.h,s:$e(i.s+100*t,0,100),l:i.l,a:i.a}},Hc=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},Cg=function(s,t){var i=Zr(s);return{h:i.h,s:i.s,l:$e(i.l+100*t,0,100),a:i.a}},vh=function(){function s(t){this.parsed=j_(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return ae(Hc(this.rgba),2)},s.prototype.isDark=function(){return Hc(this.rgba)<.5},s.prototype.isLight=function(){return Hc(this.rgba)>=.5},s.prototype.toHex=function(){return t=Bc(this.rgba),i=t.r,r=t.g,l=t.b,c=(u=t.a)<1?zl(ae(255*u)):"","#"+zl(i)+zl(r)+zl(l)+c;var t,i,r,l,u,c},s.prototype.toRgb=function(){return Bc(this.rgba)},s.prototype.toRgbString=function(){return t=Bc(this.rgba),i=t.r,r=t.g,l=t.b,(u=t.a)<1?"rgba("+i+", "+r+", "+l+", "+u+")":"rgb("+i+", "+r+", "+l+")";var t,i,r,l,u},s.prototype.toHsl=function(){return Sg(Zr(this.rgba))},s.prototype.toHslString=function(){return t=Sg(Zr(this.rgba)),i=t.h,r=t.s,l=t.l,(u=t.a)<1?"hsla("+i+", "+r+"%, "+l+"%, "+u+")":"hsl("+i+", "+r+"%, "+l+"%)";var t,i,r,l,u},s.prototype.toHsv=function(){return t=Qy(this.rgba),{h:ae(t.h),s:ae(t.s),v:ae(t.v),a:ae(t.a,3)};var t},s.prototype.invert=function(){return fn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),fn(Nc(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),fn(Nc(this.rgba,-t))},s.prototype.grayscale=function(){return fn(Nc(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),fn(Cg(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),fn(Cg(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?fn({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):ae(this.rgba.a,3);var i},s.prototype.hue=function(t){var i=Zr(this.rgba);return typeof t=="number"?fn({h:t,s:i.s,l:i.l,a:i.a}):ae(i.h)},s.prototype.isEqual=function(t){return this.toHex()===fn(t).toHex()},s}(),fn=function(s){return s instanceof vh?s:new vh(s)},Tg=[],F_=function(s){s.forEach(function(t){Tg.indexOf(t)<0&&(t(vh,yh),Tg.push(t))})};function q_(s,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var l in i)r[i[l]]=l;var u={};s.prototype.toName=function(c){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,d,m=r[this.toHex()];if(m)return m;if(c!=null&&c.closest){var g=this.toRgb(),v=1/0,_="black";if(!u.length)for(var x in i)u[x]=new s(i[x]).toRgb();for(var C in i){var O=(f=g,d=u[C],Math.pow(f.r-d.r,2)+Math.pow(f.g-d.g,2)+Math.pow(f.b-d.b,2));O<v&&(v=O,_=C)}return _}},t.string.push([function(c){var f=c.toLowerCase(),d=f==="transparent"?"#0000":i[f];return d?new s(d).toRgb():null},"name"])}F_([q_]);const Us=class Fr{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Fr)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,i){const r=typeof t;if(r!==typeof i)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((u,c)=>u===i[c]);if(t!==null&&i!==null){const u=Object.keys(t),c=Object.keys(i);return u.length!==c.length?!1:u.every(f=>t[f]===i[f])}return t===i}toRgba(){const[t,i,r,l]=this._components;return{r:t,g:i,b:r,a:l}}toRgb(){const[t,i,r]=this._components;return{r:t,g:i,b:r}}toRgbaString(){const[t,i,r]=this.toUint8RgbArray();return`rgba(${t},${i},${r},${this.alpha})`}toUint8RgbArray(t){const[i,r,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(i*255),t[1]=Math.round(r*255),t[2]=Math.round(l*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[i,r,l,u]=this._components;return t[0]=i,t[1]=r,t[2]=l,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[i,r,l]=this._components;return t[0]=i,t[1]=r,t[2]=l,t}toNumber(){return this._int}toBgrNumber(){const[t,i,r]=this.toUint8RgbArray();return(r<<16)+(i<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,r,l,u]=Fr._temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=r,this._components[2]*=l,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let r=this._int>>16&255,l=this._int>>8&255,u=this._int&255;return i&&(r=r*t+.5|0,l=l*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(l<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const i=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-i.length)+i}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let i,r,l,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const c=t;i=(c>>16&255)/255,r=(c>>8&255)/255,l=(c&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,r,l,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,r,l,u=255]=t,i/=255,r/=255,l/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=Fr.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const c=fn(t);c.isValid()&&({r:i,g:r,b:l,a:u}=c.rgba,i/=255,r/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=r,this._components[2]=l,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,i,r]=this._components;this._int=(t*255<<16)+(i*255<<8)+(r*255|0)}_clamp(t,i=0,r=1){return typeof t=="number"?Math.min(Math.max(t,i),r):(t.forEach((l,u)=>{t[u]=Math.min(Math.max(l,i),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Fr||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Us.shared=new Us;Us._temp=new Us;Us.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Me=Us;const V_={cullArea:null,cullable:!1,cullableChildren:!0};class Ih{constructor(t,i){this._pool=[],this._count=0,this._index=0,this._classType=t,i&&this.prepopulate(i)}prepopulate(t){for(let i=0;i<t;i++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var r;let i;return this._index>0?i=this._pool[--this._index]:i=new this._classType,(r=i.init)==null||r.call(i,t),i}return(t){var i;(i=t.reset)==null||i.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class I_{constructor(){this._poolsByClass=new Map}prepopulate(t,i){this.getPool(t).prepopulate(i)}get(t,i){return this.getPool(t).get(i)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Ih(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(i=>{const r=t[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;t[r]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),t}}const Bn=new I_,W_={get isCachedAsTexture(){var s;return!!((s=this.renderGroup)!=null&&s.isCachedAsTexture)},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){var s;(s=this.renderGroup)==null||s.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){mt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function Z_(s,t,i){const r=s.length;let l;if(t>=r||i===0)return;i=t+i>r?r-t:i;const u=r-i;for(l=t;l<u;++l)s[l]=s[l+i];s.length=u}const $_={allowChildren:!0,removeChildren(s=0,t){const i=t??this.children.length,r=i-s,l=[];if(r>0&&r<=i){for(let c=i-1;c>=s;c--){const f=this.children[c];f&&(l.push(f),f.parent=null)}Z_(this.children,s,i);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(l);for(let c=0;c<l.length;++c)this.emit("childRemoved",l[c],this,c),l[c].emit("removed",this);return l.length>0&&this._didViewChangeTick++,l}else if(r===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||mt(Kt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(t<0||t>i.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${i.length}`);if(s.parent){const l=s.parent.children.indexOf(s);if(s.parent===this&&l===t)return s;l!==-1&&s.parent.children.splice(l,1)}t===i.length?i.push(s):i.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const i=this.getChildIndex(s),r=this.getChildIndex(t);this.children[i]=t,this.children[r]=s;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var s;(s=this.parent)==null||s.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const i=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const r=this.worldTransform.clone();return r.invert(),i.prepend(r),s.setFromMatrix(i),s}},Q_={collectRenderables(s,t,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,i):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,i))},collectRenderablesSimple(s,t,i){const r=this.children,l=r.length;for(let u=0;u<l;u++)r[u].collectRenderables(s,t,i)},collectRenderablesWithEffects(s,t,i){const{renderPipes:r}=t;for(let l=0;l<this.effects.length;l++){const u=this.effects[l];r[u.pipe].push(u,this,s)}this.collectRenderablesSimple(s,t,i);for(let l=this.effects.length-1;l>=0;l--){const u=this.effects[l];r[u.pipe].pop(u,this,s)}}};class Mg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class K_{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const r=this._tests[i];if(r.test(t))return Bn.get(r.maskClass,t)}return t}returnMaskEffect(t){Bn.return(t)}}const xh=new K_;Qe.handleByList(zt.MaskEffect,xh._effectClasses);const J_={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((i,r)=>i.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;(t==null?void 0:t.mask)!==s&&(t&&(this.removeEffect(t),xh.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=xh.getMaskEffect(s),this.addEffect(this._maskEffect)))},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},get mask(){var s;return(s=this._maskEffect)==null?void 0:s.mask},set filters(s){var u;!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new Mg);s=s;const i=(s==null?void 0:s.length)>0,r=((u=t.filters)==null?void 0:u.length)>0,l=i!==r;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),l&&(i?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){var s;return(s=this._filterEffect)==null?void 0:s.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new Mg),this._filterEffect.filterArea=s},get filterArea(){var s;return(s=this._filterEffect)==null?void 0:s.filterArea}},t2={label:null,get name(){return mt(Kt,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){mt(Kt,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const i=this.children;for(let r=0;r<i.length;r++){const l=i[r];if(l.label===s||s instanceof RegExp&&s.test(l.label))return l}if(t)for(let r=0;r<i.length;r++){const u=i[r].getChildByLabel(s,!0);if(u)return u}return null},getChildrenByLabel(s,t=!1,i=[]){const r=this.children;for(let l=0;l<r.length;l++){const u=r[l];(u.label===s||s instanceof RegExp&&s.test(u.label))&&i.push(u)}if(t)for(let l=0;l<r.length;l++)r[l].getChildrenByLabel(s,!0,i);return i}},ye=new Ih(Ct),Nn=new Ih(rn),e2=new Ct,n2={getFastGlobalBounds(s,t){t||(t=new rn),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(i.worldTransform),t},_getGlobalBoundsRecursive(s,t,i){let r=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==i||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(r=Nn.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const c=this.bounds;r.addFrame(c.minX,c.minY,c.maxX,c.maxY,this.groupTransform)}const u=this.children;for(let c=0;c<u.length;c++)u[c]._getGlobalBoundsRecursive(s,r,i)}if(l){let u=!1;const c=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(c.worldTransform)),this.effects[f].addBounds(r,!0));u&&(r.applyMatrix(c.worldTransform.copyTo(e2).invert()),t.addBounds(r,this.relativeGroupTransform)),t.addBounds(r),Nn.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),Nn.return(r))}};function Jy(s,t,i){i.clear();let r,l;return s.parent?t?r=s.parent.worldTransform:(l=ye.get().identity(),r=Wh(s,l)):r=Ct.IDENTITY,t0(s,i,r,t),l&&ye.return(l),i.isValid||i.set(0,0,0,0),i}function t0(s,t,i,r){var f,d;if(!s.visible||!s.measurable)return;let l;r?l=s.worldTransform:(s.updateLocalTransform(),l=ye.get(),l.appendFrom(s.localTransform,i));const u=t,c=!!s.effects.length;if(c&&(t=Nn.get().clear()),s.boundsArea)t.addRect(s.boundsArea,l);else{s.bounds&&(t.matrix=l,t.addBounds(s.bounds));for(let m=0;m<s.children.length;m++)t0(s.children[m],t,l,r)}if(c){for(let m=0;m<s.effects.length;m++)(d=(f=s.effects[m]).addBounds)==null||d.call(f,t);u.addBounds(t,Ct.IDENTITY),Nn.return(t)}r||ye.return(l)}function Wh(s,t){const i=s.parent;return i&&(Wh(i,t),i.updateLocalTransform(),t.append(i.localTransform)),t}function e0(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const i=s>>16&255,r=s>>8&255,l=s&255,u=t>>16&255,c=t>>8&255,f=t&255,d=i*u/255|0,m=r*c/255|0,g=l*f/255|0;return(d<<16)+(m<<8)+g}const Eg=16777215;function Rg(s,t){return s===Eg?t:t===Eg?s:e0(s,t)}function Yl(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const i2={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,i=this.parent;for(;i;)t*=i.alpha,i=i.parent;return t},getGlobalTransform(s,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const i=Wh(this,ye.get().identity());return s.appendFrom(this.localTransform,i),ye.return(i),s},getGlobalTint(s){if(s)return this.renderGroup?Yl(this.renderGroup.worldColor):this.parentRenderGroup?Yl(Rg(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,i=this.parent;for(;i;)t=Rg(t,i.localColor),i=i.parent;return Yl(t)}};let kc=0;const Og=500;function Le(...s){kc!==Og&&(kc++,kc===Og?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}function n0(s,t,i){return t.clear(),i||(i=Ct.IDENTITY),i0(s,t,i,s,!0),t.isValid||t.set(0,0,0,0),t}function i0(s,t,i,r,l){var d,m;let u;if(l)u=ye.get(),u=i.copyTo(u);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const g=s.localTransform;u=ye.get(),u.appendFrom(g,i)}const c=t,f=!!s.effects.length;if(f&&(t=Nn.get().clear()),s.boundsArea)t.addRect(s.boundsArea,u);else{s.renderPipeId&&(t.matrix=u,t.addBounds(s.bounds));const g=s.children;for(let v=0;v<g.length;v++)i0(g[v],t,u,r,!1)}if(f){for(let g=0;g<s.effects.length;g++)(m=(d=s.effects[g]).addLocalBounds)==null||m.call(d,t,r);c.addBounds(t,Ct.IDENTITY),Nn.return(t)}ye.return(u)}function s0(s,t){const i=s.children;for(let r=0;r<i.length;r++){const l=i[r],u=l.uid,c=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==c)&&(t.data[t.index]=u,t.data[t.index+1]=c,t.didChange=!0),t.index=f+2,l.children.length&&s0(l,t)}return t.didChange}const s2=new Ct,r2={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const i=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*i:this.scale.x=i},_setHeight(s,t){const i=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*i:this.scale.y=i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new rn});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),s0(this,s),s.didChange&&n0(this,s.localBounds,s2),s.localBounds},getBounds(s,t){return Jy(this,s,t||new rn)}},a2={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},l2={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(o2))}};function o2(s,t){return s._zIndex-t._zIndex}const u2={getGlobalPosition(s=new At,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,i=!1){const r=this.getGlobalTransform(ye.get(),i);return t=r.apply(s,t),ye.return(r),t},toLocal(s,t,i,r){t&&(s=t.toGlobal(s,i,r));const l=this.getGlobalTransform(ye.get(),r);return i=l.applyInverse(s,i),ye.return(l),i}};class r0{constructor(){this.uid=Jt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let c2=0;class h2{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,i,r){const l=new gn({...this.textureOptions,width:t,height:i,resolution:1,antialias:r,autoGarbageCollect:!1});return new Ht({source:l,label:`texturePool_${c2++}`})}getOptimalTexture(t,i,r=1,l){let u=Math.ceil(t*r-1e-6),c=Math.ceil(i*r-1e-6);u=mg(u),c=mg(c);const f=(u<<17)+(c<<1)+(l?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let d=this._texturePool[f].pop();return d||(d=this.createTexture(u,c,l)),d.source._resolution=r,d.source.width=u/r,d.source.height=c/r,d.source.pixelWidth=u,d.source.pixelHeight=c,d.frame.x=0,d.frame.y=0,d.frame.width=t,d.frame.height=i,d.updateUvs(),this._poolKeyHash[d.uid]=f,d}getSameSizeTexture(t,i=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,i)}returnTexture(t){const i=this._poolKeyHash[t.uid];this._texturePool[i].push(t)}clear(t){if(t=t!==!1,t)for(const i in this._texturePool){const r=this._texturePool[i];if(r)for(let l=0;l<r.length;l++)r[l].destroy(!0)}this._texturePool={}}}const Yi=new h2;class f2{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Ct,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new r0,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const i=t.children;for(let r=0;r<i.length;r++){const l=i[r];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Yi.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const i=this.childrenToUpdate[t];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const i=this.renderGroupChildren.indexOf(t);i>-1&&this.renderGroupChildren.splice(i,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const i=t.children;for(let r=0;r<i.length;r++)this.addChild(i[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const i=t.children;for(let r=0;r<i.length;r++)this.removeChild(i[r])}removeChildren(t){for(let i=0;i<t.length;i++)this.removeChild(t[i])}onChildUpdate(t){let i=this.childrenToUpdate[t.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const i=this.root.children;for(let r=0;r<i.length;r++)this._getChildren(i[r],t);return t}_getChildren(t,i=[]){if(i.push(t),t.renderGroup)return i;const r=t.children;for(let l=0;l<r.length;l++)this._getChildren(r[l],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Ct),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Ct),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Ct),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function d2(s,t,i={}){for(const r in t)!i[r]&&t[r]!==void 0&&(s[r]=t[r])}const Gc=new Pe(null),Pc=new Pe(null),Lc=new Pe(null,1,1),zg=1,p2=2,Yc=4;class Gn extends kn{constructor(t={}){var i,r;super(),this.uid=Jt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Ct,this.relativeGroupTransform=new Ct,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Pe(this,0,0),this._scale=Lc,this._pivot=Pc,this._skew=Gc,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],d2(this,t,{children:!0,parent:!0,effects:!0}),(i=t.children)==null||i.forEach(l=>this.addChild(l)),(r=t.parent)==null||r.addChild(this)}static mixin(t){mt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Qe.mixin(Gn,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||mt(Kt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let l=0;l<t.length;l++)this.addChild(t[l]);return t[0]}const i=t[0],r=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),r&&(r.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,r&&r.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,i._zIndex!==0&&i.depthOfChildModified(),i)}removeChild(...t){if(t.length>1){for(let l=0;l<t.length;l++)this.removeChild(t[l]);return t[0]}const i=t[0],r=this.children.indexOf(i);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,r),i.emit("removed",this)),i}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Bn.get(f2,this),this.groupTransform=Ct.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Bn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Ct),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*M_}set angle(t){this.rotation=t*E_}get pivot(){return this._pivot===Pc&&(this._pivot=new Pe(this,0,0)),this._pivot}set pivot(t){this._pivot===Pc&&(this._pivot=new Pe(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Gc&&(this._skew=new Pe(this,0,0)),this._skew}set skew(t){this._skew===Gc&&(this._skew=new Pe(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Lc&&(this._scale=new Pe(this,1,1)),this._scale}set scale(t){this._scale===Lc&&(this._scale=new Pe(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const i=this.getLocalBounds().width;this._setWidth(t,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const i=this.getLocalBounds().height;this._setHeight(t,i)}getSize(t){t||(t={});const i=this.getLocalBounds();return t.width=Math.abs(this.scale.x*i.width),t.height=Math.abs(this.scale.y*i.height),t}setSize(t,i){const r=this.getLocalBounds();typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,r.width),i!==void 0&&this._setHeight(i,r.height)}_updateSkew(){const t=this._rotation,i=this._skew;this._cx=Math.cos(t+i._y),this._sx=Math.sin(t+i._y),this._cy=-Math.sin(t-i._x),this._sy=Math.cos(t-i._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const i=this.localTransform,r=this._scale,l=this._pivot,u=this._position,c=r._x,f=r._y,d=l._x,m=l._y;i.a=this._cx*c,i.b=this._sx*c,i.c=this._cy*f,i.d=this._sy*f,i.tx=u._x-(d*i.a+m*i.c),i.ty=u._y-(d*i.b+m*i.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=zg,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=Me.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=zg,this._onUpdate())}get tint(){return Yl(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=p2,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const i=t?2:0;(this.localDisplayStatus&2)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Yc,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const i=t?0:4;(this.localDisplayStatus&4)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Yc,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const i=t?1:0;(this.localDisplayStatus&1)!==i&&(this._updateFlags|=Yc,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var l;if(this.destroyed)return;this.destroyed=!0;let i;if(this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&i)for(let u=0;u<i.length;++u)i[u].destroy(t);(l=this.renderGroup)==null||l.destroy(),this.renderGroup=null}}Qe.mixin(Gn,$_,n2,u2,a2,r2,J_,t2,l2,V_,W_,i2,Q_);class a0 extends Gn{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new rn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const i=this.bounds,{x:r,y:l}=t;return r>=i.minX&&r<=i.maxX&&l>=i.minY&&l<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}collectRenderablesSimple(t,i,r){const{renderPipes:l,renderableGC:u}=i;l.blendMode.setBlendMode(this,this.groupBlendMode,t),l[this.renderPipeId].addRenderable(this,t),u.addRenderable(this),this.didViewUpdate=!1;const f=this.children,d=f.length;for(let m=0;m<d;m++)f[m].collectRenderables(t,i,r)}}class ea extends a0{constructor(t=Ht.EMPTY){t instanceof Ht&&(t={texture:t});const{texture:i=Ht.EMPTY,anchor:r,roundPixels:l,width:u,height:c,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Pe({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=l??!1,u!==void 0&&(this.width=u),c!==void 0&&(this.height=c)}static from(t,i=!1){return t instanceof Ht?new ea(t):new ea(Ht.from(t,i))}set texture(t){t||(t=Ht.EMPTY);const i=this._texture;i!==t&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return H_(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return mt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,i=this._texture,r=this._bounds,{width:l,height:u}=i.orig;r.minX=-t._x*l,r.maxX=r.minX+l,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const m2=new rn;function l0(s,t,i){const r=m2;s.measurable=!0,Jy(s,i,r),t.addBoundsMask(r),s.measurable=!1}function o0(s,t,i){const r=Nn.get();s.measurable=!0;const l=ye.get().identity(),u=u0(s,i,l);n0(s,r,u),s.measurable=!1,t.addBoundsMask(r),ye.return(l),Nn.return(r)}function u0(s,t,i){return s?(s!==t&&(u0(s.parent,t,i),s.updateLocalTransform(),i.append(s.localTransform)),i):(Le("Mask bounds, renderable is not inside the root container"),i)}class c0{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof ea),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,i){this.inverse||l0(this.mask,t,i)}addLocalBounds(t,i){o0(this.mask,t,i)}containsPoint(t,i){const r=this.mask;return i(r,t)}destroy(){this.reset()}static test(t){return t instanceof ea}}c0.extension=zt.MaskEffect;class h0{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}h0.extension=zt.MaskEffect;class f0{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,i){l0(this.mask,t,i)}addLocalBounds(t,i){o0(this.mask,t,i)}containsPoint(t,i){const r=this.mask;return i(r,t)}destroy(){this.reset()}static test(t){return t instanceof Gn}}f0.extension=zt.MaskEffect;const g2={createCanvas:(s,t)=>{const i=document.createElement("canvas");return i.width=s,i.height=t,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let Dg=g2;const di={get(){return Dg},set(s){Dg=s}};class d0 extends gn{constructor(t){t.resource||(t.resource=di.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,i=this.height,r=this._resolution){const l=super.resize(t,i,r);return l&&this.resizeCanvas(),l}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}d0.extension=zt.TextureSource;class Zl extends gn{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const i=di.get().createCanvas(t.resource.width,t.resource.height);i.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=i,Le("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Zl.extension=zt.TextureSource;var bh=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(bh||{});class Xc{constructor(t,i=null,r=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=i,this.priority=r,this._once=l}match(t,i=null){return this._fn===t&&this._context===i}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const p0=class Ge{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Xc(null,null,1/0),this.deltaMS=1/Ge.targetFPMS,this.elapsedMS=1/Ge.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,r=bh.NORMAL){return this._addListener(new Xc(t,i,r))}addOnce(t,i,r=bh.NORMAL){return this._addListener(new Xc(t,i,r,!0))}_addListener(t){let i=this._head.next,r=this._head;if(!i)t.connect(r);else{for(;i;){if(t.priority>i.priority){t.connect(r);break}r=i,i=i.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,i){let r=this._head.next;for(;r;)r.match(t,i)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*Ge.targetFPMS;const r=this._head;let l=r.next;for(;l;)l=l.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,i)/1e3,Ge.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!Ge._shared){const t=Ge._shared=new Ge;t.autoStart=!0,t._protected=!0}return Ge._shared}static get system(){if(!Ge._system){const t=Ge._system=new Ge;t.autoStart=!0,t._protected=!0}return Ge._system}};p0.targetFPMS=.06;let qr=p0,jc;async function y2(){return jc??(jc=(async()=>{var c;const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const i=await new Promise(f=>{const d=document.createElement("video");d.onloadeddata=()=>f(d),d.onerror=()=>f(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!i)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const l=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,l),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(l),t.deleteTexture(r),(c=t.getExtension("WEBGL_lose_context"))==null||c.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),jc}const Jl=class m0 extends gn{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...m0.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=qr.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,i=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await y2(),this._load=new Promise((r,l)=>{this.isValid?r(this):(this._resolve=r,this._reject=l,i.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(qr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(qr.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(qr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};Jl.extension=zt.TextureSource;Jl.defaultOptions={...gn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Jl.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let v2=Jl;const zs=(s,t,i=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(r=>typeof r=="string"||i?t(r):r):s);class x2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||Le(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const r=zs(t);let l;for(let d=0;d<this.parsers.length;d++){const m=this.parsers[d];if(m.test(i)){l=m.getCacheableAssets(r,i);break}}const u=new Map(Object.entries(l||{}));l||r.forEach(d=>{u.set(d,i)});const c=[...u.keys()],f={cacheKeys:c,keys:r};r.forEach(d=>{this._cacheMap.set(d,f)}),c.forEach(d=>{const m=l?l[d]:i;this._cache.has(d)&&this._cache.get(d)!==m&&Le("[Cache] already has key:",d),this._cache.set(d,u.get(d))})}remove(t){if(!this._cacheMap.has(t)){Le(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(l=>{this._cache.delete(l)}),i.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Ds=new x2,_h=[];Qe.handleByList(zt.TextureSource,_h);function g0(s={}){const t=s&&s.resource,i=t?s.resource:s,r=t?s:{resource:s};for(let l=0;l<_h.length;l++){const u=_h[l];if(u.test(i))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function b2(s={},t=!1){const i=s&&s.resource,r=i?s.resource:s,l=i?s:{resource:s};if(!t&&Ds.has(r))return Ds.get(r);const u=new Ht({source:g0(l)});return u.on("destroy",()=>{Ds.has(r)&&Ds.remove(r)}),t||Ds.set(r,u),u}function _2(s,t=!1){return typeof s=="string"?Ds.get(s):s instanceof gn?new Ht({source:s}):b2(s,t)}Ht.from=_2;gn.from=g0;Qe.add(c0,h0,f0,v2,Zl,d0,Vh);var y0=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(y0||{});function nn(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function kr(s){return s.split("?")[0].split("#")[0]}function S2(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w2(s,t,i){return s.replace(new RegExp(S2(t),"g"),i)}function A2(s,t){let i="",r=0,l=-1,u=0,c=-1;for(let f=0;f<=s.length;++f){if(f<s.length)c=s.charCodeAt(f);else{if(c===47)break;c=47}if(c===47){if(!(l===f-1||u===1))if(l!==f-1&&u===2){if(i.length<2||r!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const d=i.lastIndexOf("/");if(d!==i.length-1){d===-1?(i="",r=0):(i=i.slice(0,d),r=i.length-1-i.lastIndexOf("/")),l=f,u=0;continue}}else if(i.length===2||i.length===1){i="",r=0,l=f,u=0;continue}}}else i.length>0?i+=`/${s.slice(l+1,f)}`:i=s.slice(l+1,f),r=f-l-1;l=f,u=0}else c===46&&u!==-1?++u:u=-1}return i}const na={toPosix(s){return w2(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){nn(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(s);return i?i[0]:""},toAbsolute(s,t,i){if(nn(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const r=kr(this.toPosix(t??di.get().getBaseUrl())),l=kr(this.toPosix(i??this.rootname(r)));return s=this.toPosix(s),s.startsWith("/")?na.join(l,s.slice(1)):this.isAbsolute(s)?s:this.join(r,s)},normalize(s){if(nn(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const i=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const r=s.endsWith("/");return s=A2(s),s.length>0&&r&&(s+="/"),i?`/${s}`:t+s},isAbsolute(s){return nn(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let i=0;i<s.length;++i){const r=s[i];if(nn(r),r.length>0)if(t===void 0)t=r;else{const l=s[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(nn(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const i=t===47;let r=-1,l=!0;const u=this.getProtocol(s),c=s;s=s.slice(u.length);for(let f=s.length-1;f>=1;--f)if(t=s.charCodeAt(f),t===47){if(!l){r=f;break}}else l=!1;return r===-1?i?"/":this.isUrl(c)?u+s:u:i&&r===1?"//":u+s.slice(0,r)},rootname(s){nn(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const i=s.indexOf("/",t.length);i!==-1?t=s.slice(0,i):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){nn(s),t&&nn(t),s=kr(this.toPosix(s));let i=0,r=-1,l=!0,u;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let c=t.length-1,f=-1;for(u=s.length-1;u>=0;--u){const d=s.charCodeAt(u);if(d===47){if(!l){i=u+1;break}}else f===-1&&(l=!1,f=u+1),c>=0&&(d===t.charCodeAt(c)?--c===-1&&(r=u):(c=-1,r=f))}return i===r?r=f:r===-1&&(r=s.length),s.slice(i,r)}for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!l){i=u+1;break}}else r===-1&&(l=!1,r=u+1);return r===-1?"":s.slice(i,r)},extname(s){nn(s),s=kr(this.toPosix(s));let t=-1,i=0,r=-1,l=!0,u=0;for(let c=s.length-1;c>=0;--c){const f=s.charCodeAt(c);if(f===47){if(!l){i=c+1;break}continue}r===-1&&(l=!1,r=c+1),f===46?t===-1?t=c:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===i+1?"":s.slice(t,r)},parse(s){nn(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=kr(this.toPosix(s));let i=s.charCodeAt(0);const r=this.isAbsolute(s);let l;t.root=this.rootname(s),r||this.hasProtocol(s)?l=1:l=0;let u=-1,c=0,f=-1,d=!0,m=s.length-1,g=0;for(;m>=l;--m){if(i=s.charCodeAt(m),i===47){if(!d){c=m+1;break}continue}f===-1&&(d=!1,f=m+1),i===46?u===-1?u=m:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===c+1?f!==-1&&(c===0&&r?t.base=t.name=s.slice(1,f):t.base=t.name=s.slice(c,f)):(c===0&&r?(t.name=s.slice(1,u),t.base=s.slice(1,f)):(t.name=s.slice(c,u),t.base=s.slice(c,f)),t.ext=s.slice(u,f)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function v0(s,t,i,r,l){const u=t[i];for(let c=0;c<u.length;c++){const f=u[c];i<t.length-1?v0(s.replace(r[i],f),t,i+1,r,l):l.push(s.replace(r[i],f))}}function C2(s){const t=/\{(.*?)\}/g,i=s.match(t),r=[];if(i){const l=[];i.forEach(u=>{const c=u.substring(1,u.length-1).split(",");l.push(c)}),v0(s,l,0,i,r)}else r.push(s);return r}const Ug=s=>!Array.isArray(s);class x0{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(i[r])}`).join("&")}}getAlias(t){const{alias:i,src:r}=t;return zs(i||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(c=>(c==null?void 0:c.src)??c):u!=null&&u.src?u.src:u,!0)}addManifest(t){this._manifest&&Le("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const r=[];let l=i;Array.isArray(i)||(l=Object.entries(i).map(([u,c])=>typeof c=="string"||Array.isArray(c)?{alias:u,src:c}:{alias:u,...c})),l.forEach(u=>{const c=u.src,f=u.alias;let d;if(typeof f=="string"){const m=this._createBundleAssetId(t,f);r.push(m),d=[f,m]}else{const m=f.map(g=>this._createBundleAssetId(t,g));r.push(...m),d=[...f,...m]}this.add({...u,alias:d,src:c})}),this._bundles[t]=r}add(t){const i=[];Array.isArray(t)?i.push(...t):i.push(t);let r;r=u=>{this.hasKey(u)&&Le(`[Resolver] already has key: ${u} overwriting`)},zs(i).forEach(u=>{const{src:c}=u;let{data:f,format:d,loadParser:m}=u;const g=zs(c).map(x=>typeof x=="string"?C2(x):Array.isArray(x)?x:[x]),v=this.getAlias(u);Array.isArray(v)?v.forEach(r):r(v);const _=[];g.forEach(x=>{x.forEach(C=>{let O={};if(typeof C!="object"){O.src=C;for(let A=0;A<this._parsers.length;A++){const M=this._parsers[A];if(M.test(C)){O=M.parse(C);break}}}else f=C.data??f,d=C.format??d,m=C.loadParser??m,O={...O,...C};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${O.src}`);O=this._buildResolvedAsset(O,{aliases:v,data:f,format:d,loadParser:m}),_.push(O)})}),v.forEach(x=>{this._assetMap[x]=_})})}resolveBundle(t){const i=Ug(t);t=zs(t);const r={};return t.forEach(l=>{const u=this._bundles[l];if(u){const c=this.resolve(u),f={};for(const d in c){const m=c[d];f[this._extractAssetIdFromBundle(l,d)]=m}r[l]=f}}),i?r[t[0]]:r}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const r={};for(const l in i)r[l]=i[l].src;return r}return i.src}resolve(t){const i=Ug(t);t=zs(t);const r={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let u=this._assetMap[l];const c=this._getPreferredOrder(u);c==null||c.priority.forEach(f=>{c.params[f].forEach(d=>{const m=u.filter(g=>g[f]?g[f]===d:!1);m.length&&(u=m)})}),this._resolverHash[l]=u[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});r[l]=this._resolverHash[l]}),i?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const r=t[i],l=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}_buildResolvedAsset(t,i){const{aliases:r,data:l,loadParser:u,format:c}=i;return(this._basePath||this._rootPath)&&(t.src=na.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=u??t.loadParser,t.format=c??t.format??T2(t.src),t}}x0.RETINA_PREFIX=/@([0-9\.]+)x/;function T2(s){return s.split(".").pop().split("?").shift().split("#").shift()}const Bg=(s,t)=>{const i=t.split("?")[1];return i&&(s+=`?${i}`),s},b0=class Vr{constructor(t,i){this.linkedSheets=[],this._texture=t instanceof Ht?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=i;const r=parseFloat(i.meta.scale);r?(this.resolution=r,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Vr.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const r=Vr.BATCH_SIZE;for(;i-t<r&&i<this._frameKeys.length;){const l=this._frameKeys[i],u=this._frames[l],c=u.frame;if(c){let f=null,d=null;const m=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new It(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);u.rotated?f=new It(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.h)/this.resolution,Math.floor(c.w)/this.resolution):f=new It(Math.floor(c.x)/this.resolution,Math.floor(c.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(d=new It(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution)),this.textures[l]=new Ht({source:this.textureSource,frame:f,orig:g,trim:d,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:l.toString()})}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let r=0;r<t[i].length;r++){const l=t[i][r];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Vr.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Vr.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var i;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((i=this._texture)==null||i.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};b0.BATCH_SIZE=1e3;let Ng=b0;const M2=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function _0(s,t,i){const r={};if(s.forEach(l=>{r[l]=t}),Object.keys(t.textures).forEach(l=>{r[l]=t.textures[l]}),!i){const l=na.dirname(s[0]);t.linkedSheets.forEach((u,c)=>{const f=_0([`${l}/${t.data.meta.related_multi_packs[c]}`],u,!0);Object.assign(r,f)})}return r}const E2={extension:zt.Asset,cache:{test:s=>s instanceof Ng,getCacheableAssets:(s,t)=>_0(s,t,!1)},resolver:{extension:{type:zt.ResolveParser,name:"resolveSpritesheet"},test:s=>{const i=s.split("?")[0].split("."),r=i.pop(),l=i.pop();return r==="json"&&M2.includes(l)},parse:s=>{var i;const t=s.split(".");return{resolution:parseFloat(((i=x0.RETINA_PREFIX.exec(s))==null?void 0:i[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:zt.LoadParser,priority:y0.Normal,name:"spritesheetLoader"},async testParse(s,t){return na.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,i){var g,v;const{texture:r,imageFilename:l,textureOptions:u}=(t==null?void 0:t.data)??{};let c=na.dirname(t.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let f;if(r instanceof Ht)f=r;else{const _=Bg(c+(l??s.meta.image),t.src);f=(await i.load([{src:_,data:u}]))[_]}const d=new Ng(f.source,s);await d.parse();const m=(g=s==null?void 0:s.meta)==null?void 0:g.related_multi_packs;if(Array.isArray(m)){const _=[];for(const C of m){if(typeof C!="string")continue;let O=c+C;(v=t.data)!=null&&v.ignoreMultiPack||(O=Bg(O,t.src),_.push(i.load({src:O,data:{textureOptions:u,ignoreMultiPack:!0}})))}const x=await Promise.all(_);d.linkedSheets=x,x.forEach(C=>{C.linkedSheets=[d].concat(d.linkedSheets.filter(O=>O!==C))})}return d},async unload(s,t,i){await i.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};Qe.add(E2);const Fc=Object.create(null),Hg=Object.create(null);function Zh(s,t){let i=Hg[s];return i===void 0&&(Fc[t]===void 0&&(Fc[t]=1),Hg[s]=i=Fc[t]++),i}let Rs;function S0(){return(!Rs||Rs!=null&&Rs.isContextLost())&&(Rs=di.get().createCanvas().getContext("webgl",{})),Rs}let Dl;function R2(){if(!Dl){Dl="mediump";const s=S0();s&&s.getShaderPrecisionFormat&&(Dl=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Dl}function O2(s,t,i){return t?s:i?(s=s.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function z2(s,t,i){const r=i?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let l=i?t.requestedFragmentPrecision:t.requestedVertexPrecision;return l==="highp"&&r!=="highp"&&(l="mediump"),`precision ${l} float;
${s}`}else if(r!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function D2(s,t){return t?`#version 300 es
${s}`:s}const U2={},B2={};function N2(s,{name:t="pixi-program"},i=!0){t=t.replace(/\s+/g,"-"),t+=i?"-fragment":"-vertex";const r=i?U2:B2;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function H2(s,t){return t?s.replace("#version 300 es",""):s}const qc={stripVersion:H2,ensurePrecision:z2,addProgramDefines:O2,setProgramName:N2,insertVersion:D2},Vc=Object.create(null),w0=class Sh{constructor(t){t={...Sh.defaultOptions,...t};const i=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:R2()},setProgramName:{name:t.name},addProgramDefines:i,insertVersion:i};let l=t.fragment,u=t.vertex;Object.keys(qc).forEach(c=>{const f=r[c];l=qc[c](l,f,!0),u=qc[c](u,f,!1)}),this.fragment=l,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Zh(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const i=`${t.vertex}:${t.fragment}`;return Vc[i]||(Vc[i]=new Sh(t)),Vc[i]}};w0.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Pn=w0;const kg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function k2(s){return kg[s]??kg.float32}const G2={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function P2({source:s,entryPoint:t}){const i={},r=s.indexOf(`fn ${t}`);if(r!==-1){const l=s.indexOf("->",r);if(l!==-1){const u=s.substring(r,l),c=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=c.exec(u))!==null;){const d=G2[f[3]]??"float32";i[f[2]]={location:parseInt(f[1],10),format:d,stride:k2(d).stride,offset:0,instance:!1,start:0}}}}return i}function Ic(s){var v,_;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,c=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,d=/struct\s+(\w+)/,m=(v=s.match(t))==null?void 0:v.map(x=>({group:parseInt(x.match(i)[1],10),binding:parseInt(x.match(r)[1],10),name:x.match(l)[2],isUniform:x.match(l)[1]==="<uniform>",type:x.match(u)[1]}));if(!m)return{groups:[],structs:[]};const g=((_=s.match(c))==null?void 0:_.map(x=>{const C=x.match(d)[1],O=x.match(f).reduce((A,M)=>{const[U,z]=M.split(":");return A[U.trim()]=z.trim(),A},{});return O?{name:C,members:O}:null}).filter(({name:x})=>m.some(C=>C.type===x)))??[];return{groups:m,structs:g}}var Ir=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(Ir||{});function L2({groups:s}){const t=[];for(let i=0;i<s.length;i++){const r=s[i];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:Ir.VERTEX|Ir.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:Ir.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:Ir.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function Y2({groups:s}){const t=[];for(let i=0;i<s.length;i++){const r=s[i];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function X2(s,t){const i=new Set,r=new Set,l=[...s.structs,...t.structs].filter(c=>i.has(c.name)?!1:(i.add(c.name),!0)),u=[...s.groups,...t.groups].filter(c=>{const f=`${c.name}-${c.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:l,groups:u}}const Wc=Object.create(null);class an{constructor(t){var f,d;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:r,layout:l,gpuLayout:u,name:c}=t;if(this.name=c,this.fragment=i,this.vertex=r,i.source===r.source){const m=Ic(i.source);this.structsAndGroups=m}else{const m=Ic(r.source),g=Ic(i.source);this.structsAndGroups=X2(m,g)}this.layout=l??Y2(this.structsAndGroups),this.gpuLayout=u??L2(this.structsAndGroups),this.autoAssignGlobalUniforms=((f=this.layout[0])==null?void 0:f.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((d=this.layout[1])==null?void 0:d.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:i}=this,r=t.source+i.source+t.entryPoint+i.entryPoint;this._layoutKey=Zh(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=P2(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const i=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Wc[i]||(Wc[i]=new an(t)),Wc[i]}}const A0=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],j2=A0.reduce((s,t)=>(s[t]=!0,s),{});function F2(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const C0=class T0{constructor(t,i){this._touched=0,this.uid=Jt("uniform"),this._resourceType="uniformGroup",this._resourceId=Jt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...T0.defaultOptions,...i},this.uniformStructures=t;const r={};for(const l in t){const u=t[l];if(u.name=l,u.size=u.size??1,!j2[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${A0.join(", ")}`);u.value??(u.value=F2(u.type,u.size)),r[l]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=Zh(Object.keys(r).map(l=>`${l}-${t[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};C0.defaultOptions={ubo:!1,isStatic:!1};let $h=C0;class Xl{constructor(t){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const r in t){const l=t[r];this.setResource(l,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let i=0;for(const r in this.resources)t[i++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,i){var l,u;const r=this.resources[i];t!==r&&(r&&((l=t.off)==null||l.call(t,"change",this.onResourceChange,this)),(u=t.on)==null||u.call(t,"change",this.onResourceChange,this),this.resources[i]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const i=this.resources;for(const r in i)i[r]._touched=t}destroy(){var i;const t=this.resources;for(const r in t){const l=t[r];(i=l.off)==null||i.call(l,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const i=this.resources;for(const r in i)i[r]===t&&(i[r]=null)}else this._updateKey()}}var ia=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(ia||{});class to extends kn{constructor(t){super(),this.uid=Jt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:i,glProgram:r,groups:l,resources:u,compatibleRenderers:c,groupMap:f}=t;this.gpuProgram=i,this.glProgram=r,c===void 0&&(c=0,i&&(c|=ia.WEBGPU),r&&(c|=ia.WEBGL)),this.compatibleRenderers=c;const d={};if(!u&&!l&&(u={}),u&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&l&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&l&&f)for(const m in f)for(const g in f[m]){const v=f[m][g];d[v]={group:m,binding:g,name:v}}else if(i&&l&&!f){const m=i.structsAndGroups.groups;f={},m.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,d[g.name]=g})}else if(u){l={},f={},i&&i.structsAndGroups.groups.forEach(v=>{f[v.group]=f[v.group]||{},f[v.group][v.binding]=v.name,d[v.name]=v});let m=0;for(const g in u)d[g]||(l[99]||(l[99]=new Xl,this._ownedBindGroups.push(l[99])),d[g]={group:99,binding:m,name:g},f[99]=f[99]||{},f[99][m]=g,m++);for(const g in u){const v=g;let _=u[g];!_.source&&!_._resourceType&&(_=new $h(_));const x=d[v];x&&(l[x.group]||(l[x.group]=new Xl,this._ownedBindGroups.push(l[x.group])),l[x.group].setResource(_,x.binding))}}this.groups=l,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(l,d)}addResource(t,i,r){var l,u;(l=this._uniformBindMap)[i]||(l[i]={}),(u=this._uniformBindMap[i])[r]||(u[r]=t),this.groups[i]||(this.groups[i]=new Xl,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(t,i){const r={};for(const l in i){const u=i[l];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(c){t[u.group].setResource(c,u.binding)}})}return r}destroy(t=!1){var i,r;this.emit("destroy",this),t&&((i=this.gpuProgram)==null||i.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(l=>{l.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:i,gl:r,...l}=t;let u,c;return i&&(u=an.from(i)),r&&(c=Pn.from(r)),new to({gpuProgram:u,glProgram:c,...l})}}const q2={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},Zc=0,$c=1,Qc=2,Kc=3,Jc=4,th=5,wh=class M0{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Zc)}set blend(t){!!(this.data&1<<Zc)!==t&&(this.data^=1<<Zc)}get offsets(){return!!(this.data&1<<$c)}set offsets(t){!!(this.data&1<<$c)!==t&&(this.data^=1<<$c)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Qc)}set culling(t){!!(this.data&1<<Qc)!==t&&(this.data^=1<<Qc)}get depthTest(){return!!(this.data&1<<Kc)}set depthTest(t){!!(this.data&1<<Kc)!==t&&(this.data^=1<<Kc)}get depthMask(){return!!(this.data&1<<th)}set depthMask(t){!!(this.data&1<<th)!==t&&(this.data^=1<<th)}get clockwiseFrontFace(){return!!(this.data&1<<Jc)}set clockwiseFrontFace(t){!!(this.data&1<<Jc)!==t&&(this.data^=1<<Jc)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=q2[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new M0;return t.depthTest=!1,t.blend=!0,t}};wh.default2d=wh.for2d();let V2=wh;const E0=class Ah extends to{constructor(t){t={...Ah.defaultOptions,...t},super(t),this.enabled=!0,this._state=V2.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(t,i,r,l){t.applyFilter(this,i,r,l)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:i,gl:r,...l}=t;let u,c;return i&&(u=an.from(i)),r&&(c=Pn.from(r)),new Ah({gpuProgram:u,glProgram:c,...l})}};E0.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let ji=E0;const Ch=[];Qe.handleByNamedList(zt.Environment,Ch);async function I2(s){if(!s)for(let t=0;t<Ch.length;t++){const i=Ch[t];if(i.value.test()){await i.value.load();return}}}let Gr;function W2(){if(typeof Gr=="boolean")return Gr;try{Gr=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Gr=!1}return Gr}var Ul={exports:{}},Gg;function Z2(){if(Gg)return Ul.exports;Gg=1,Ul.exports=s,Ul.exports.default=s;function s(b,T,R){R=R||2;var P=T&&T.length,w=P?T[0]*R:b.length,D=t(b,0,w,R,!0),H=[];if(!D||D.next===D.prev)return H;var X,K,J,et,ht,at,Et;if(P&&(D=d(b,T,D,R)),b.length>80*R){X=J=b[0],K=et=b[1];for(var _t=R;_t<w;_t+=R)ht=b[_t],at=b[_t+1],ht<X&&(X=ht),at<K&&(K=at),ht>J&&(J=ht),at>et&&(et=at);Et=Math.max(J-X,et-K),Et=Et!==0?32767/Et:0}return r(D,H,R,X,K,Et,0),H}function t(b,T,R,P,w){var D,H;if(w===Gt(b,T,R,P)>0)for(D=T;D<R;D+=P)H=ft(D,b[D],b[D+1],H);else for(D=R-P;D>=T;D-=P)H=ft(D,b[D],b[D+1],H);return H&&F(H,H.next)&&(bt(H),H=H.next),H}function i(b,T){if(!b)return b;T||(T=b);var R=b,P;do if(P=!1,!R.steiner&&(F(R,R.next)||z(R.prev,R,R.next)===0)){if(bt(R),R=T=R.prev,R===R.next)break;P=!0}else R=R.next;while(P||R!==T);return T}function r(b,T,R,P,w,D,H){if(b){!H&&D&&x(b,P,w,D);for(var X=b,K,J;b.prev!==b.next;){if(K=b.prev,J=b.next,D?u(b,P,w,D):l(b)){T.push(K.i/R|0),T.push(b.i/R|0),T.push(J.i/R|0),bt(b),b=J.next,X=J.next;continue}if(b=J,b===X){H?H===1?(b=c(i(b),T,R),r(b,T,R,P,w,D,2)):H===2&&f(b,T,R,P,w,D):r(i(b),T,R,P,w,D,1);break}}}}function l(b){var T=b.prev,R=b,P=b.next;if(z(T,R,P)>=0)return!1;for(var w=T.x,D=R.x,H=P.x,X=T.y,K=R.y,J=P.y,et=w<D?w<H?w:H:D<H?D:H,ht=X<K?X<J?X:J:K<J?K:J,at=w>D?w>H?w:H:D>H?D:H,Et=X>K?X>J?X:J:K>J?K:J,_t=P.next;_t!==T;){if(_t.x>=et&&_t.x<=at&&_t.y>=ht&&_t.y<=Et&&M(w,X,D,K,H,J,_t.x,_t.y)&&z(_t.prev,_t,_t.next)>=0)return!1;_t=_t.next}return!0}function u(b,T,R,P){var w=b.prev,D=b,H=b.next;if(z(w,D,H)>=0)return!1;for(var X=w.x,K=D.x,J=H.x,et=w.y,ht=D.y,at=H.y,Et=X<K?X<J?X:J:K<J?K:J,_t=et<ht?et<at?et:at:ht<at?ht:at,ve=X>K?X>J?X:J:K>J?K:J,le=et>ht?et>at?et:at:ht>at?ht:at,xe=O(Et,_t,T,R,P),be=O(ve,le,T,R,P),pt=b.prevZ,St=b.nextZ;pt&&pt.z>=xe&&St&&St.z<=be;){if(pt.x>=Et&&pt.x<=ve&&pt.y>=_t&&pt.y<=le&&pt!==w&&pt!==H&&M(X,et,K,ht,J,at,pt.x,pt.y)&&z(pt.prev,pt,pt.next)>=0||(pt=pt.prevZ,St.x>=Et&&St.x<=ve&&St.y>=_t&&St.y<=le&&St!==w&&St!==H&&M(X,et,K,ht,J,at,St.x,St.y)&&z(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;pt&&pt.z>=xe;){if(pt.x>=Et&&pt.x<=ve&&pt.y>=_t&&pt.y<=le&&pt!==w&&pt!==H&&M(X,et,K,ht,J,at,pt.x,pt.y)&&z(pt.prev,pt,pt.next)>=0)return!1;pt=pt.prevZ}for(;St&&St.z<=be;){if(St.x>=Et&&St.x<=ve&&St.y>=_t&&St.y<=le&&St!==w&&St!==H&&M(X,et,K,ht,J,at,St.x,St.y)&&z(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function c(b,T,R){var P=b;do{var w=P.prev,D=P.next.next;!F(w,D)&&V(w,P,P.next,D)&&it(w,D)&&it(D,w)&&(T.push(w.i/R|0),T.push(P.i/R|0),T.push(D.i/R|0),bt(P),bt(P.next),P=b=D),P=P.next}while(P!==b);return i(P)}function f(b,T,R,P,w,D){var H=b;do{for(var X=H.next.next;X!==H.prev;){if(H.i!==X.i&&U(H,X)){var K=nt(H,X);H=i(H,H.next),K=i(K,K.next),r(H,T,R,P,w,D,0),r(K,T,R,P,w,D,0);return}X=X.next}H=H.next}while(H!==b)}function d(b,T,R,P){var w=[],D,H,X,K,J;for(D=0,H=T.length;D<H;D++)X=T[D]*P,K=D<H-1?T[D+1]*P:b.length,J=t(b,X,K,P,!1),J===J.next&&(J.steiner=!0),w.push(A(J));for(w.sort(m),D=0;D<w.length;D++)R=g(w[D],R);return R}function m(b,T){return b.x-T.x}function g(b,T){var R=v(b,T);if(!R)return T;var P=nt(R,b);return i(P,P.next),i(R,R.next)}function v(b,T){var R=T,P=b.x,w=b.y,D=-1/0,H;do{if(w<=R.y&&w>=R.next.y&&R.next.y!==R.y){var X=R.x+(w-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(X<=P&&X>D&&(D=X,H=R.x<R.next.x?R:R.next,X===P))return H}R=R.next}while(R!==T);if(!H)return null;var K=H,J=H.x,et=H.y,ht=1/0,at;R=H;do P>=R.x&&R.x>=J&&P!==R.x&&M(w<et?P:D,w,J,et,w<et?D:P,w,R.x,R.y)&&(at=Math.abs(w-R.y)/(P-R.x),it(R,b)&&(at<ht||at===ht&&(R.x>H.x||R.x===H.x&&_(H,R)))&&(H=R,ht=at)),R=R.next;while(R!==K);return H}function _(b,T){return z(b.prev,b,T.prev)<0&&z(T.next,b,b.next)<0}function x(b,T,R,P){var w=b;do w.z===0&&(w.z=O(w.x,w.y,T,R,P)),w.prevZ=w.prev,w.nextZ=w.next,w=w.next;while(w!==b);w.prevZ.nextZ=null,w.prevZ=null,C(w)}function C(b){var T,R,P,w,D,H,X,K,J=1;do{for(R=b,b=null,D=null,H=0;R;){for(H++,P=R,X=0,T=0;T<J&&(X++,P=P.nextZ,!!P);T++);for(K=J;X>0||K>0&&P;)X!==0&&(K===0||!P||R.z<=P.z)?(w=R,R=R.nextZ,X--):(w=P,P=P.nextZ,K--),D?D.nextZ=w:b=w,w.prevZ=D,D=w;R=P}D.nextZ=null,J*=2}while(H>1);return b}function O(b,T,R,P,w){return b=(b-R)*w|0,T=(T-P)*w|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,b|T<<1}function A(b){var T=b,R=b;do(T.x<R.x||T.x===R.x&&T.y<R.y)&&(R=T),T=T.next;while(T!==b);return R}function M(b,T,R,P,w,D,H,X){return(w-H)*(T-X)>=(b-H)*(D-X)&&(b-H)*(P-X)>=(R-H)*(T-X)&&(R-H)*(D-X)>=(w-H)*(P-X)}function U(b,T){return b.next.i!==T.i&&b.prev.i!==T.i&&!rt(b,T)&&(it(b,T)&&it(T,b)&&tt(b,T)&&(z(b.prev,b,T.prev)||z(b,T.prev,T))||F(b,T)&&z(b.prev,b,b.next)>0&&z(T.prev,T,T.next)>0)}function z(b,T,R){return(T.y-b.y)*(R.x-T.x)-(T.x-b.x)*(R.y-T.y)}function F(b,T){return b.x===T.x&&b.y===T.y}function V(b,T,R,P){var w=$(z(b,T,R)),D=$(z(b,T,P)),H=$(z(R,P,b)),X=$(z(R,P,T));return!!(w!==D&&H!==X||w===0&&W(b,R,T)||D===0&&W(b,P,T)||H===0&&W(R,b,P)||X===0&&W(R,T,P))}function W(b,T,R){return T.x<=Math.max(b.x,R.x)&&T.x>=Math.min(b.x,R.x)&&T.y<=Math.max(b.y,R.y)&&T.y>=Math.min(b.y,R.y)}function $(b){return b>0?1:b<0?-1:0}function rt(b,T){var R=b;do{if(R.i!==b.i&&R.next.i!==b.i&&R.i!==T.i&&R.next.i!==T.i&&V(R,R.next,b,T))return!0;R=R.next}while(R!==b);return!1}function it(b,T){return z(b.prev,b,b.next)<0?z(b,T,b.next)>=0&&z(b,b.prev,T)>=0:z(b,T,b.prev)<0||z(b,b.next,T)<0}function tt(b,T){var R=b,P=!1,w=(b.x+T.x)/2,D=(b.y+T.y)/2;do R.y>D!=R.next.y>D&&R.next.y!==R.y&&w<(R.next.x-R.x)*(D-R.y)/(R.next.y-R.y)+R.x&&(P=!P),R=R.next;while(R!==b);return P}function nt(b,T){var R=new kt(b.i,b.x,b.y),P=new kt(T.i,T.x,T.y),w=b.next,D=T.prev;return b.next=T,T.prev=b,R.next=w,w.prev=R,P.next=R,R.prev=P,D.next=P,P.prev=D,P}function ft(b,T,R,P){var w=new kt(b,T,R);return P?(w.next=P.next,w.prev=P,P.next.prev=w,P.next=w):(w.prev=w,w.next=w),w}function bt(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function kt(b,T,R){this.i=b,this.x=T,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(b,T,R,P){var w=T&&T.length,D=w?T[0]*R:b.length,H=Math.abs(Gt(b,0,D,R));if(w)for(var X=0,K=T.length;X<K;X++){var J=T[X]*R,et=X<K-1?T[X+1]*R:b.length;H-=Math.abs(Gt(b,J,et,R))}var ht=0;for(X=0;X<P.length;X+=3){var at=P[X]*R,Et=P[X+1]*R,_t=P[X+2]*R;ht+=Math.abs((b[at]-b[_t])*(b[Et+1]-b[at+1])-(b[at]-b[Et])*(b[_t+1]-b[at+1]))}return H===0&&ht===0?0:Math.abs((ht-H)/H)};function Gt(b,T,R,P){for(var w=0,D=T,H=R-P;D<R;D+=P)w+=(b[H]-b[D])*(b[D+1]+b[H+1]),H=D;return w}return s.flatten=function(b){for(var T=b[0][0].length,R={vertices:[],holes:[],dimensions:T},P=0,w=0;w<b.length;w++){for(var D=0;D<b[w].length;D++)for(var H=0;H<T;H++)R.vertices.push(b[w][D][H]);w>0&&(P+=b[w-1].length,R.holes.push(P))}return R},Ul.exports}var $2=Z2();const Q2=ua($2);var R0=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(R0||{});class K2{constructor(t){this.items=[],this._name=t}emit(t,i,r,l,u,c,f,d){const{name:m,items:g}=this;for(let v=0,_=g.length;v<_;v++)g[v][m](t,i,r,l,u,c,f,d);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&this.items.splice(i,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const J2=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],O0=class z0 extends kn{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const i=[...J2,...this.config.runners??[]];this._addRunners(...i),this._unsafeEvalCheck()}async init(t={}){const i=t.skipExtensionImports===!0?!0:t.manageImports===!1;await I2(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...z0.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,i){let r=t;if(r instanceof Gn&&(r={container:r},i&&(mt(Kt,"passing a second argument is deprecated, please use render options instead"),r.target=i.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const l=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=l?r.clearColor:Me.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(t,i,r){const l=this.view.resolution;this.view.resize(t,i,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==l&&this.runners.resolutionChange.emit(r)}clear(t={}){const i=this;t.target||(t.target=i.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=R0.ALL);const{clear:r,clearColor:l,target:u}=t;Me.shared.setValue(l??this.background.colorRgba),i.renderTarget.clear(u,r,Me.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(i=>{this.runners[i]=new K2(i)})}_addSystems(t){let i;for(i in t){const r=t[i];this._addSystem(r.value,r.name)}}_addSystem(t,i){const r=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=r,this._systemsHash[i]=r;for(const l in this.runners)this.runners[l].add(r);return this}_addPipes(t,i){const r=i.reduce((l,u)=>(l[u.name]=u.value,l),{});t.forEach(l=>{const u=l.value,c=l.name,f=r[c];this.renderPipes[c]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(i=>{i.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!W2())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};O0.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let D0=O0,Bl;function tS(s){return Bl!==void 0||(Bl=(()=>{var i;const t={stencil:!0,failIfMajorPerformanceCaveat:s??D0.defaultOptions.failIfMajorPerformanceCaveat};try{if(!di.get().getWebGLRenderingContext())return!1;let l=di.get().createCanvas().getContext("webgl",t);const u=!!((i=l==null?void 0:l.getContextAttributes())!=null&&i.stencil);if(l){const c=l.getExtension("WEBGL_lose_context");c&&c.loseContext()}return l=null,u}catch{return!1}})()),Bl}let Nl;async function eS(s={}){return Nl!==void 0||(Nl=await(async()=>{const t=di.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),Nl}const Pg=["webgl","webgpu","canvas"];async function nS(s){let t=[];s.preference?(t.push(s.preference),Pg.forEach(u=>{u!==s.preference&&t.push(u)})):t=Pg.slice();let i,r={};for(let u=0;u<t.length;u++){const c=t[u];if(c==="webgpu"&&await eS()){const{WebGPURenderer:f}=await Wl(async()=>{const{WebGPURenderer:d}=await import("./WebGPURenderer-Jh_AHOGa.js");return{WebGPURenderer:d}},__vite__mapDeps([4,2,5,3]));i=f,r={...s,...s.webgpu};break}else if(c==="webgl"&&tS(s.failIfMajorPerformanceCaveat??D0.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await Wl(async()=>{const{WebGLRenderer:d}=await import("./WebGLRenderer-PxJGSWJj.js");return{WebGLRenderer:d}},__vite__mapDeps([6,2,5]));i=f,r={...s,...s.webgl};break}else if(c==="canvas")throw r={...s},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!i)throw new Error("No available renderer for the current environment");const l=new i;return await l.init(r),l}const U0="8.9.1";class B0{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,U0)}static destroy(){}}B0.extension=zt.Application;class iS{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,U0)}destroy(){this._renderer=null}}iS.extension={type:[zt.WebGLSystem,zt.WebGPUSystem],name:"initHook",priority:-10};const N0=class Th{constructor(...t){this.stage=new Gn,t[0]!==void 0&&mt(Kt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await nS(t),Th._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return mt(Kt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,i=!1){const r=Th._plugins.slice(0);r.reverse(),r.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};N0._plugins=[];let $l=N0;Qe.handleByList(zt.Application,$l._plugins);Qe.add(B0);const Lg=[{offset:0,color:"white"},{offset:1,color:"black"}],Qh=class Mh{constructor(...t){this.uid=Jt("fillGradient"),this.type="linear",this.colorStops=[];let i=sS(t);i={...i.type==="radial"?Mh.defaultRadialOptions:Mh.defaultLinearOptions,...qy(i)},this._textureSize=i.textureSize,i.type==="radial"?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(t,i){return this.colorStops.push({offset:t,color:Me.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Lg,i=this._textureSize,{canvas:r,context:l}=Xg(i,1),u=l.createLinearGradient(0,0,this._textureSize,0);Yg(u,t),l.fillStyle=u,l.fillRect(0,0,i,1),this.texture=new Ht({source:new Zl({resource:r})});const{x:c,y:f}=this.start,{x:d,y:m}=this.end,g=new Ct,v=d-c,_=m-f,x=Math.sqrt(v*v+_*_),C=Math.atan2(_,v);g.scale(x/i,1),g.rotate(C),g.translate(c,f),this.textureSpace==="local"&&g.scale(i,i),this.transform=g}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Lg,i=this._textureSize,{canvas:r,context:l}=Xg(i,i),{x:u,y:c}=this.center,{x:f,y:d}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,v=f-g,_=d-g,x=i/(g*2),C=(u-v)*x,O=(c-_)*x,A=l.createRadialGradient(C,O,m*x,(f-v)*x,(d-_)*x,g*x);Yg(A,t),l.fillStyle=t[t.length-1].color,l.fillRect(0,0,i,i),l.fillStyle=A,l.translate(C,O),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-C,-O),l.fillRect(0,0,i,i),this.texture=new Ht({source:new Zl({resource:r,addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"})});const M=new Ct;M.scale(1/x,1/x),M.translate(v,_),this.textureSpace==="local"&&M.scale(i,i),this.transform=M}get styleKey(){return this.uid}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null}};Qh.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256};Qh.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256};let eo=Qh;function Yg(s,t){for(let i=0;i<t.length;i++){const r=t[i];s.addColorStop(r.offset,r.color)}}function Xg(s,t){const i=di.get().createCanvas(s,t),r=i.getContext("2d");return{canvas:i,context:r}}function sS(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(mt("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??eo.defaultLinearOptions.textureSize}),t}const jg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class rS{constructor(t,i){this.uid=Jt("fillPattern"),this.transform=new Ct,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),i&&(t.source.style.addressModeU=jg[i].addressModeU,t.source.style.addressModeV=jg[i].addressModeV)}setTransform(t){const i=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var eh,Fg;function aS(){if(Fg)return eh;Fg=1,eh=i;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(u){var c=[];return u.replace(t,function(f,d,m){var g=d.toLowerCase();for(m=l(m),g=="m"&&m.length>2&&(c.push([d].concat(m.splice(0,2))),g="l",d=d=="m"?"l":"L");;){if(m.length==s[g])return m.unshift(d),c.push(m);if(m.length<s[g])throw new Error("malformed path data");c.push([d].concat(m.splice(0,s[g])))}}),c}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(u){var c=u.match(r);return c?c.map(Number):[]}return eh}var lS=aS();const oS=ua(lS);function uS(s,t){const i=oS(s),r=[];let l=null,u=0,c=0;for(let f=0;f<i.length;f++){const d=i[f],m=d[0],g=d;switch(m){case"M":u=g[1],c=g[2],t.moveTo(u,c);break;case"m":u+=g[1],c+=g[2],t.moveTo(u,c);break;case"H":u=g[1],t.lineTo(u,c);break;case"h":u+=g[1],t.lineTo(u,c);break;case"V":c=g[1],t.lineTo(u,c);break;case"v":c+=g[1],t.lineTo(u,c);break;case"L":u=g[1],c=g[2],t.lineTo(u,c);break;case"l":u+=g[1],c+=g[2],t.lineTo(u,c);break;case"C":u=g[5],c=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,c);break;case"c":t.bezierCurveTo(u+g[1],c+g[2],u+g[3],c+g[4],u+g[5],c+g[6]),u+=g[5],c+=g[6];break;case"S":u=g[3],c=g[4],t.bezierCurveToShort(g[1],g[2],u,c);break;case"s":t.bezierCurveToShort(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"Q":u=g[3],c=g[4],t.quadraticCurveTo(g[1],g[2],u,c);break;case"q":t.quadraticCurveTo(u+g[1],c+g[2],u+g[3],c+g[4]),u+=g[3],c+=g[4];break;case"T":u=g[1],c=g[2],t.quadraticCurveToShort(u,c);break;case"t":u+=g[1],c+=g[2],t.quadraticCurveToShort(u,c);break;case"A":u=g[6],c=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"a":u+=g[6],c+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,c);break;case"Z":case"z":t.closePath(),r.length>0&&(l=r.pop(),l?(u=l.startX,c=l.startY):(u=0,c=0)),l=null;break;default:Le(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&l===null&&(l={startX:u,startY:c},r.push(l))}return t}class Kh{constructor(t=0,i=0,r=0){this.type="circle",this.x=t,this.y=i,this.radius=r}clone(){return new Kh(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const r=this.radius*this.radius;let l=this.x-t,u=this.y-i;return l*=l,u*=u,l+u<=r}strokeContains(t,i,r,l=.5){if(this.radius===0)return!1;const u=this.x-t,c=this.y-i,f=this.radius,d=(1-l)*r,m=Math.sqrt(u*u+c*c);return m<=f+d&&m>f-(r-d)}getBounds(t){return t||(t=new It),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Jh{constructor(t=0,i=0,r=0,l=0){this.type="ellipse",this.x=t,this.y=i,this.halfWidth=r,this.halfHeight=l}clone(){return new Jh(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,l=(i-this.y)/this.halfHeight;return r*=r,l*=l,r+l<=1}strokeContains(t,i,r,l=.5){const{halfWidth:u,halfHeight:c}=this;if(u<=0||c<=0)return!1;const f=r*(1-l),d=r-f,m=u-d,g=c-d,v=u+f,_=c+f,x=t-this.x,C=i-this.y,O=x*x/(m*m)+C*C/(g*g),A=x*x/(v*v)+C*C/(_*_);return O>1&&A<=1}getBounds(t){return t||(t=new It),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function cS(s,t,i,r,l,u){const c=s-i,f=t-r,d=l-i,m=u-r,g=c*d+f*m,v=d*d+m*m;let _=-1;v!==0&&(_=g/v);let x,C;_<0?(x=i,C=r):_>1?(x=l,C=u):(x=i+_*d,C=r+_*m);const O=s-x,A=t-C;return O*O+A*A}let hS,fS;class $r{constructor(...t){this.type="polygon";let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const r=[];for(let l=0,u=i.length;l<u;l++)r.push(i[l].x,i[l].y);i=r}this.points=i,this.closePath=!0}isClockwise(){let t=0;const i=this.points,r=i.length;for(let l=0;l<r;l+=2){const u=i[l],c=i[l+1],f=i[(l+2)%r],d=i[(l+3)%r];t+=(f-u)*(d+c)}return t<0}containsPolygon(t){const i=this.getBounds(hS),r=t.getBounds(fS);if(!i.containsRect(r))return!1;const l=t.points;for(let u=0;u<l.length;u+=2){const c=l[u],f=l[u+1];if(!this.contains(c,f))return!1}return!0}clone(){const t=this.points.slice(),i=new $r(t);return i.closePath=this.closePath,i}contains(t,i){let r=!1;const l=this.points.length/2;for(let u=0,c=l-1;u<l;c=u++){const f=this.points[u*2],d=this.points[u*2+1],m=this.points[c*2],g=this.points[c*2+1];d>i!=g>i&&t<(m-f)*((i-d)/(g-d))+f&&(r=!r)}return r}strokeContains(t,i,r,l=.5){const u=r*r,c=u*(1-l),f=u-c,{points:d}=this,m=d.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const v=d[g],_=d[g+1],x=d[(g+2)%d.length],C=d[(g+3)%d.length],O=cS(t,i,v,_,x,C),A=Math.sign((x-v)*(i-_)-(C-_)*(t-v));if(O<=(A<0?f:c))return!0}return!1}getBounds(t){t||(t=new It);const i=this.points;let r=1/0,l=-1/0,u=1/0,c=-1/0;for(let f=0,d=i.length;f<d;f+=2){const m=i[f],g=i[f+1];r=m<r?m:r,l=m>l?m:l,u=g<u?g:u,c=g>c?g:c}return t.x=r,t.width=l-r,t.y=u,t.height=c-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,i)=>`${t}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const Hl=(s,t,i,r,l,u,c)=>{const f=s-i,d=t-r,m=Math.sqrt(f*f+d*d);return m>=l-u&&m<=l+c};class tf{constructor(t=0,i=0,r=0,l=0,u=20){this.type="roundedRectangle",this.x=t,this.y=i,this.width=r,this.height=l,this.radius=u}getBounds(t){return t||(t=new It),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new tf(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+r&&i<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let l=t-(this.x+r),u=i-(this.y+r);const c=r*r;if(l*l+u*u<=c||(l=t-(this.x+this.width-r),l*l+u*u<=c)||(u=i-(this.y+this.height-r),l*l+u*u<=c)||(l=t-(this.x+r),l*l+u*u<=c))return!0}return!1}strokeContains(t,i,r,l=.5){const{x:u,y:c,width:f,height:d,radius:m}=this,g=r*(1-l),v=r-g,_=u+m,x=c+m,C=f-m*2,O=d-m*2,A=u+f,M=c+d;return(t>=u-g&&t<=u+v||t>=A-v&&t<=A+g)&&i>=x&&i<=x+O||(i>=c-g&&i<=c+v||i>=M-v&&i<=M+g)&&t>=_&&t<=_+C?!0:t<_&&i<x&&Hl(t,i,_,x,m,v,g)||t>A-m&&i<x&&Hl(t,i,A-m,x,m,v,g)||t>A-m&&i>M-m&&Hl(t,i,A-m,M-m,m,v,g)||t<_&&i>M-m&&Hl(t,i,_,M-m,m,v,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const dS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function pS(s){let t="";for(let i=0;i<s;++i)i>0&&(t+=`
else `),i<s-1&&(t+=`if(test == ${i}.0){}`);return t}function mS(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=dS.replace(/%forloop%/gi,pS(s));if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(i)}return s}let Os=null;function H0(){var t;if(Os)return Os;const s=S0();return Os=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),Os=mS(Os,s),(t=s.getExtension("WEBGL_lose_context"))==null||t.loseContext(),Os}const k0={};function gS(s,t){let i=2166136261;for(let r=0;r<t;r++)i^=s[r].uid,i=Math.imul(i,16777619),i>>>=0;return k0[i]||yS(s,t,i)}let nh=0;function yS(s,t,i){const r={};let l=0;nh||(nh=H0());for(let c=0;c<nh;c++){const f=c<t?s[c]:Ht.EMPTY.source;r[l++]=f.source,r[l++]=f.style}const u=new Xl(r);return k0[i]=u,u}class qg{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Vg(s,t){const i=s.byteLength/8|0,r=new Float64Array(s,0,i);new Float64Array(t,0,i).set(r);const u=s.byteLength-i*8;if(u>0){const c=new Uint8Array(s,i*8,u);new Uint8Array(t,i*8,u).set(c)}}const vS={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var xS=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(xS||{});function Ig(s,t){return t.alphaMode==="no-premultiply-alpha"&&vS[s]||s}class bS{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const i=this.textures[t];this.textures[t]=null,this.ids[i.uid]=null}this.count=0}}class _S{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new bS,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const G0=[];let Eh=0;function Wg(){return Eh>0?G0[--Eh]:new _S}function Zg(s){G0[Eh++]=s}let Pr=0;const P0=class jl{constructor(t={}){this.uid=Jt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],jl.defaultOptions.maxTextures=jl.defaultOptions.maxTextures??H0(),t={...jl.defaultOptions,...t};const{maxTextures:i,attributesInitialSize:r,indicesInitialSize:l}=t;this.attributeBuffer=new qg(r*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Zg(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,i){const r=t._batch.textures.ids[i._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=i,!0)}updateElement(t){this.dirty=!0;const i=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId)}break(t){const i=this._elements;if(!i[this.elementStart])return;let r=Wg(),l=r.textures;l.clear();const u=i[this.elementStart];let c=Ig(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const d=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let v=this._batchIndexSize,_=this._batchIndexStart,x="startBatch";const C=this.maxTextures;for(let O=this.elementStart;O<this.elementSize;++O){const A=i[O];i[O]=null;const U=A.texture._source,z=Ig(A.blendMode,U),F=c!==z||f!==A.topology;if(U._batchTick===Pr&&!F){A._textureId=U._textureBindLocation,v+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,d,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,d,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize)),A._batch=r;continue}U._batchTick=Pr,(l.count>=C||F)&&(this._finishBatch(r,_,v-_,l,c,f,t,x),x="renderBatch",_=v,c=z,f=A.topology,r=Wg(),l=r.textures,l.clear(),++Pr),A._textureId=U._textureBindLocation=l.count,l.ids[U.uid]=l.count,l.textures[l.count++]=U,A._batch=r,v+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,d,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,d,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(r,_,v-_,l,c,f,t,x),_=v,++Pr),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=v}_finishBatch(t,i,r,l,u,c,f,d){t.gpuBindGroup=null,t.bindGroup=null,t.action=d,t.batcher=this,t.textures=l,t.blendMode=u,t.topology=c,t.start=i,t.size=r,++Pr,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const i=Math.max(t,this.attributeBuffer.size*2),r=new qg(i);Vg(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const i=this.indexBuffer;let r=Math.max(t,i.length*1.5);r+=r%2;const l=r>65535?new Uint32Array(r):new Uint16Array(r);if(l.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let u=0;u<i.length;u++)l[u]=i[u];else Vg(i.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(t,i,r){t[i]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3}packIndex(t,i,r,l){const u=t.indices,c=t.indexSize,f=t.indexOffset,d=t.attributeOffset;for(let m=0;m<c;m++)i[r++]=l+u[m+f]-d}destroy(){for(let t=0;t<this.batches.length;t++)Zg(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};P0.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let SS=P0;var Te=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(Te||{});class sa extends kn{constructor(t){let{data:i,size:r}=t;const{usage:l,label:u,shrinkToFit:c}=t;super(),this.uid=Jt("buffer"),this._resourceType="buffer",this._resourceId=Jt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,r??(r=i==null?void 0:i.byteLength);const f=!!i;this.descriptor={size:r,usage:l,mappedAtCreation:f,label:u},this.shrinkToFit=c??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Te.STATIC)}set static(t){t?this.descriptor.usage|=Te.STATIC:this.descriptor.usage&=~Te.STATIC}setDataWithSize(t,i,r){if(this._updateID++,this._updateSize=i*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const l=this._data;if(this._data=t,this._dataInt32=null,!l||l.length!==t.length){!this.shrinkToFit&&l&&t.byteLength<l.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Jt("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function L0(s,t){if(!(s instanceof sa)){let i=t?Te.INDEX:Te.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),i=Te.INDEX|Te.COPY_DST):(s=new Float32Array(s),i=Te.VERTEX|Te.COPY_DST)),s=new sa({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return s}function wS(s,t,i){const r=s.getAttribute(t);if(!r)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const l=r.buffer.data;let u=1/0,c=1/0,f=-1/0,d=-1/0;const m=l.BYTES_PER_ELEMENT,g=(r.offset||0)/m,v=(r.stride||2*4)/m;for(let _=g;_<l.length;_+=v){const x=l[_],C=l[_+1];x>f&&(f=x),C>d&&(d=C),x<u&&(u=x),C<c&&(c=C)}return i.minX=u,i.minY=c,i.maxX=f,i.maxY=d,i}function AS(s){return(s instanceof sa||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=L0(s.buffer,!1),s}class CS extends kn{constructor(t={}){super(),this.uid=Jt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new rn,this._boundsDirty=!0;const{attributes:i,indexBuffer:r,topology:l}=t;if(this.buffers=[],this.attributes={},i)for(const u in i)this.addAttribute(u,i[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const i=this.attributes[t];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(t,i){const r=AS(i);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=L0(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,wS(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const TS=new Float32Array(1),MS=new Uint32Array(1);class ES extends CS{constructor(){const i=new sa({data:TS,label:"attribute-batch-buffer",usage:Te.VERTEX|Te.COPY_DST,shrinkToFit:!1}),r=new sa({data:MS,label:"index-batch-buffer",usage:Te.INDEX|Te.COPY_DST,shrinkToFit:!1}),l=6*4;super({attributes:{aPosition:{buffer:i,format:"float32x2",stride:l,offset:0},aUV:{buffer:i,format:"float32x2",stride:l,offset:2*4},aColor:{buffer:i,format:"unorm8x4",stride:l,offset:4*4},aTextureIdAndRound:{buffer:i,format:"uint16x2",stride:l,offset:5*4}},indexBuffer:r})}}function $g(s,t,i){if(s)for(const r in s){const l=r.toLocaleLowerCase(),u=t[l];if(u){let c=s[r];r==="header"&&(c=c.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&u.push(`//----${i}----//`),u.push(c)}else Le(`${r} placement hook does not exist in shader`)}}const RS=/\{\{(.*?)\}\}/g;function Qg(s){var r;const t={};return(((r=s.match(RS))==null?void 0:r.map(l=>l.replace(/[{()}]/g,"")))??[]).forEach(l=>{t[l]=[]}),t}function Kg(s,t){let i;const r=/@in\s+([^;]+);/g;for(;(i=r.exec(s))!==null;)t.push(i[1])}function Jg(s,t,i=!1){const r=[];Kg(t,r),s.forEach(f=>{f.header&&Kg(f.header,r)});const l=r;i&&l.sort();const u=l.map((f,d)=>`       @location(${d}) ${f},`).join(`
`);let c=t.replace(/@in\s+[^;]+;\s*/g,"");return c=c.replace("{{in}}",`
${u}
`),c}function ty(s,t){let i;const r=/@out\s+([^;]+);/g;for(;(i=r.exec(s))!==null;)t.push(i[1])}function OS(s){const i=/\b(\w+)\s*:/g.exec(s);return i?i[1]:""}function zS(s){const t=/@.*?\s+/g;return s.replace(t,"")}function DS(s,t){const i=[];ty(t,i),s.forEach(d=>{d.header&&ty(d.header,i)});let r=0;const l=i.sort().map(d=>d.indexOf("builtin")>-1?d:`@location(${r++}) ${d}`).join(`,
`),u=i.sort().map(d=>`       var ${zS(d)};`).join(`
`),c=`return VSOutput(
            ${i.sort().map(d=>` ${OS(d)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${l}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${c}
`),f}function ey(s,t){let i=s;for(const r in t){const l=t[r];l.join(`
`).length?i=i.replace(`{{${r}}}`,`//-----${r} START-----//
${l.join(`
`)}
//----${r} FINISH----//`):i=i.replace(`{{${r}}}`,"")}return i}const fi=Object.create(null),ih=new Map;let US=0;function BS({template:s,bits:t}){const i=Y0(s,t);if(fi[i])return fi[i];const{vertex:r,fragment:l}=HS(s,t);return fi[i]=X0(r,l,t),fi[i]}function NS({template:s,bits:t}){const i=Y0(s,t);return fi[i]||(fi[i]=X0(s.vertex,s.fragment,t)),fi[i]}function HS(s,t){const i=t.map(c=>c.vertex).filter(c=>!!c),r=t.map(c=>c.fragment).filter(c=>!!c);let l=Jg(i,s.vertex,!0);l=DS(i,l);const u=Jg(r,s.fragment,!0);return{vertex:l,fragment:u}}function Y0(s,t){return t.map(i=>(ih.has(i)||ih.set(i,US++),ih.get(i))).sort((i,r)=>i-r).join("-")+s.vertex+s.fragment}function X0(s,t,i){const r=Qg(s),l=Qg(t);return i.forEach(u=>{$g(u.vertex,r,u.name),$g(u.fragment,l,u.name)}),{vertex:ey(s,r),fragment:ey(t,l)}}const kS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,GS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,PS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,LS=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,YS={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},XS={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function jS({bits:s,name:t}){const i=BS({template:{fragment:GS,vertex:kS},bits:[YS,...s]});return an.from({name:t,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function FS({bits:s,name:t}){return new Pn({name:t,...NS({template:{vertex:PS,fragment:LS},bits:[XS,...s]})})}const qS={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},VS={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},sh={};function IS(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let r=0;r<s;r++)t.push(`@group(1) @binding(${i++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${i++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function WS(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let i=0;i<s;i++)i===s-1?t.push("  default:{"):t.push(`  case ${i}:{`),t.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function ZS(s){return sh[s]||(sh[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${IS(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${WS(s)}
            `}}),sh[s]}const rh={};function $S(s){const t=[];for(let i=0;i<s;i++)i>0&&t.push("else"),i<s-1&&t.push(`if(vTextureId < ${i}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${i}], vUV);`),t.push("}");return t.join(`
`)}function QS(s){return rh[s]||(rh[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${$S(s)}
            `}}),rh[s]}const KS={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},JS={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},ny={};function tw(s){let t=ny[s];if(t)return t;const i=new Int32Array(s);for(let r=0;r<s;r++)i[r]=r;return t=ny[s]=new $h({uTextures:{value:i,type:"i32",size:s}},{isStatic:!0}),t}class ew extends to{constructor(t){const i=FS({name:"batch",bits:[VS,QS(t),JS]}),r=jS({name:"batch",bits:[qS,ZS(t),KS]});super({glProgram:i,gpuProgram:r,resources:{batchSamplers:tw(t)}})}}let iy=null;const j0=class F0 extends SS{constructor(){super(...arguments),this.geometry=new ES,this.shader=iy||(iy=new ew(this.maxTextures)),this.name=F0.extension.name,this.vertexSize=6}packAttributes(t,i,r,l,u){const c=u<<16|t.roundPixels&65535,f=t.transform,d=f.a,m=f.b,g=f.c,v=f.d,_=f.tx,x=f.ty,{positions:C,uvs:O}=t,A=t.color,M=t.attributeOffset,U=M+t.attributeSize;for(let z=M;z<U;z++){const F=z*2,V=C[F],W=C[F+1];i[l++]=d*V+g*W+_,i[l++]=v*W+m*V+x,i[l++]=O[F],i[l++]=O[F+1],r[l++]=A,r[l++]=c}}packQuadAttributes(t,i,r,l,u){const c=t.texture,f=t.transform,d=f.a,m=f.b,g=f.c,v=f.d,_=f.tx,x=f.ty,C=t.bounds,O=C.maxX,A=C.minX,M=C.maxY,U=C.minY,z=c.uvs,F=t.color,V=u<<16|t.roundPixels&65535;i[l+0]=d*A+g*U+_,i[l+1]=v*U+m*A+x,i[l+2]=z.x0,i[l+3]=z.y0,r[l+4]=F,r[l+5]=V,i[l+6]=d*O+g*U+_,i[l+7]=v*U+m*O+x,i[l+8]=z.x1,i[l+9]=z.y1,r[l+10]=F,r[l+11]=V,i[l+12]=d*O+g*M+_,i[l+13]=v*M+m*O+x,i[l+14]=z.x2,i[l+15]=z.y2,r[l+16]=F,r[l+17]=V,i[l+18]=d*A+g*M+_,i[l+19]=v*M+m*A+x,i[l+20]=z.x3,i[l+21]=z.y3,r[l+22]=F,r[l+23]=V}};j0.extension={type:[zt.Batcher],name:"default"};let nw=j0;function iw(s,t,i,r,l,u,c,f=null){let d=0;i*=t,l*=u;const m=f.a,g=f.b,v=f.c,_=f.d,x=f.tx,C=f.ty;for(;d<c;){const O=s[i],A=s[i+1];r[l]=m*O+v*A+x,r[l+1]=g*O+_*A+C,l+=u,i+=t,d++}}function sw(s,t,i,r){let l=0;for(t*=i;l<r;)s[t]=0,s[t+1]=0,t+=i,l++}function q0(s,t,i,r,l){const u=t.a,c=t.b,f=t.c,d=t.d,m=t.tx,g=t.ty;i||(i=0),r||(r=2),l||(l=s.length/r-i);let v=i*r;for(let _=0;_<l;_++){const x=s[v],C=s[v+1];s[v]=u*x+f*C+m,s[v+1]=c*x+d*C+g,v+=r}}const rw=new Ct;class V0{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,i=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?e0(i,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):i+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||rw}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const ra={extension:{type:zt.ShapeBuilder,name:"circle"},build(s,t){let i,r,l,u,c,f;if(s.type==="circle"){const F=s;i=F.x,r=F.y,c=f=F.radius,l=u=0}else if(s.type==="ellipse"){const F=s;i=F.x,r=F.y,c=F.halfWidth,f=F.halfHeight,l=u=0}else{const F=s,V=F.width/2,W=F.height/2;i=F.x+V,r=F.y+W,c=f=Math.max(0,Math.min(F.radius,Math.min(V,W))),l=V-c,u=W-f}if(!(c>=0&&f>=0&&l>=0&&u>=0))return t;const d=Math.ceil(2.3*Math.sqrt(c+f)),m=d*8+(l?4:0)+(u?4:0);if(m===0)return t;if(d===0)return t[0]=t[6]=i+l,t[1]=t[3]=r+u,t[2]=t[4]=i-l,t[5]=t[7]=r-u,t;let g=0,v=d*4+(l?2:0)+2,_=v,x=m,C=l+c,O=u,A=i+C,M=i-C,U=r+O;if(t[g++]=A,t[g++]=U,t[--v]=U,t[--v]=M,u){const F=r-O;t[_++]=M,t[_++]=F,t[--x]=F,t[--x]=A}for(let F=1;F<d;F++){const V=Math.PI/2*(F/d),W=l+Math.cos(V)*c,$=u+Math.sin(V)*f,rt=i+W,it=i-W,tt=r+$,nt=r-$;t[g++]=rt,t[g++]=tt,t[--v]=tt,t[--v]=it,t[_++]=it,t[_++]=nt,t[--x]=nt,t[--x]=rt}C=l,O=u+f,A=i+C,M=i-C,U=r+O;const z=r-O;return t[g++]=A,t[g++]=U,t[--x]=z,t[--x]=A,l&&(t[g++]=M,t[g++]=U,t[--x]=z,t[--x]=M),t},triangulate(s,t,i,r,l,u){if(s.length===0)return;let c=0,f=0;for(let g=0;g<s.length;g+=2)c+=s[g],f+=s[g+1];c/=s.length/2,f/=s.length/2;let d=r;t[d*i]=c,t[d*i+1]=f;const m=d++;for(let g=0;g<s.length;g+=2)t[d*i]=s[g],t[d*i+1]=s[g+1],g>0&&(l[u++]=d,l[u++]=m,l[u++]=d-1),d++;l[u++]=m+1,l[u++]=m,l[u++]=d-1}},aw={...ra,extension:{...ra.extension,name:"ellipse"}},lw={...ra,extension:{...ra.extension,name:"roundedRectangle"}},I0=1e-4,sy=1e-4;function ow(s){const t=s.length;if(t<6)return 1;let i=0;for(let r=0,l=s[t-2],u=s[t-1];r<t;r+=2){const c=s[r],f=s[r+1];i+=(c-l)*(f+u),l=c,u=f}return i<0?-1:1}function ry(s,t,i,r,l,u,c,f){const d=s-i*l,m=t-r*l,g=s+i*u,v=t+r*u;let _,x;c?(_=r,x=-i):(_=-r,x=i);const C=d+_,O=m+x,A=g+_,M=v+x;return f.push(C,O),f.push(A,M),2}function Ui(s,t,i,r,l,u,c,f){const d=i-s,m=r-t;let g=Math.atan2(d,m),v=Math.atan2(l-s,u-t);f&&g<v?g+=Math.PI*2:!f&&g>v&&(v+=Math.PI*2);let _=g;const x=v-g,C=Math.abs(x),O=Math.sqrt(d*d+m*m),A=(15*C*Math.sqrt(O)/Math.PI>>0)+1,M=x/A;if(_+=M,f){c.push(s,t),c.push(i,r);for(let U=1,z=_;U<A;U++,z+=M)c.push(s,t),c.push(s+Math.sin(z)*O,t+Math.cos(z)*O);c.push(s,t),c.push(l,u)}else{c.push(i,r),c.push(s,t);for(let U=1,z=_;U<A;U++,z+=M)c.push(s+Math.sin(z)*O,t+Math.cos(z)*O),c.push(s,t);c.push(l,u),c.push(s,t)}return A*2}function uw(s,t,i,r,l,u){const c=I0;if(s.length===0)return;const f=t;let d=f.alignment;if(t.alignment!==.5){let P=ow(s);d=(d-.5)*P+.5}const m=new At(s[0],s[1]),g=new At(s[s.length-2],s[s.length-1]),v=r,_=Math.abs(m.x-g.x)<c&&Math.abs(m.y-g.y)<c;if(v){s=s.slice(),_&&(s.pop(),s.pop(),g.set(s[s.length-2],s[s.length-1]));const P=(m.x+g.x)*.5,w=(g.y+m.y)*.5;s.unshift(P,w),s.push(P,w)}const x=l,C=s.length/2;let O=s.length;const A=x.length/2,M=f.width/2,U=M*M,z=f.miterLimit*f.miterLimit;let F=s[0],V=s[1],W=s[2],$=s[3],rt=0,it=0,tt=-(V-$),nt=F-W,ft=0,bt=0,kt=Math.sqrt(tt*tt+nt*nt);tt/=kt,nt/=kt,tt*=M,nt*=M;const Gt=d,b=(1-Gt)*2,T=Gt*2;v||(f.cap==="round"?O+=Ui(F-tt*(b-T)*.5,V-nt*(b-T)*.5,F-tt*b,V-nt*b,F+tt*T,V+nt*T,x,!0)+2:f.cap==="square"&&(O+=ry(F,V,tt,nt,b,T,!0,x))),x.push(F-tt*b,V-nt*b),x.push(F+tt*T,V+nt*T);for(let P=1;P<C-1;++P){F=s[(P-1)*2],V=s[(P-1)*2+1],W=s[P*2],$=s[P*2+1],rt=s[(P+1)*2],it=s[(P+1)*2+1],tt=-(V-$),nt=F-W,kt=Math.sqrt(tt*tt+nt*nt),tt/=kt,nt/=kt,tt*=M,nt*=M,ft=-($-it),bt=W-rt,kt=Math.sqrt(ft*ft+bt*bt),ft/=kt,bt/=kt,ft*=M,bt*=M;const w=W-F,D=V-$,H=W-rt,X=it-$,K=w*H+D*X,J=D*H-X*w,et=J<0;if(Math.abs(J)<.001*Math.abs(K)){x.push(W-tt*b,$-nt*b),x.push(W+tt*T,$+nt*T),K>=0&&(f.join==="round"?O+=Ui(W,$,W-tt*b,$-nt*b,W-ft*b,$-bt*b,x,!1)+4:O+=2,x.push(W-ft*T,$-bt*T),x.push(W+ft*b,$+bt*b));continue}const ht=(-tt+F)*(-nt+$)-(-tt+W)*(-nt+V),at=(-ft+rt)*(-bt+$)-(-ft+W)*(-bt+it),Et=(w*at-H*ht)/J,_t=(X*ht-D*at)/J,ve=(Et-W)*(Et-W)+(_t-$)*(_t-$),le=W+(Et-W)*b,xe=$+(_t-$)*b,be=W-(Et-W)*T,pt=$-(_t-$)*T,St=Math.min(w*w+D*D,H*H+X*X),Ee=et?b:T,uo=St+Ee*Ee*U;ve<=uo?f.join==="bevel"||ve/U>z?(et?(x.push(le,xe),x.push(W+tt*T,$+nt*T),x.push(le,xe),x.push(W+ft*T,$+bt*T)):(x.push(W-tt*b,$-nt*b),x.push(be,pt),x.push(W-ft*b,$-bt*b),x.push(be,pt)),O+=2):f.join==="round"?et?(x.push(le,xe),x.push(W+tt*T,$+nt*T),O+=Ui(W,$,W+tt*T,$+nt*T,W+ft*T,$+bt*T,x,!0)+4,x.push(le,xe),x.push(W+ft*T,$+bt*T)):(x.push(W-tt*b,$-nt*b),x.push(be,pt),O+=Ui(W,$,W-tt*b,$-nt*b,W-ft*b,$-bt*b,x,!1)+4,x.push(W-ft*b,$-bt*b),x.push(be,pt)):(x.push(le,xe),x.push(be,pt)):(x.push(W-tt*b,$-nt*b),x.push(W+tt*T,$+nt*T),f.join==="round"?et?O+=Ui(W,$,W+tt*T,$+nt*T,W+ft*T,$+bt*T,x,!0)+2:O+=Ui(W,$,W-tt*b,$-nt*b,W-ft*b,$-bt*b,x,!1)+2:f.join==="miter"&&ve/U<=z&&(et?(x.push(be,pt),x.push(be,pt)):(x.push(le,xe),x.push(le,xe)),O+=2),x.push(W-ft*b,$-bt*b),x.push(W+ft*T,$+bt*T),O+=2)}F=s[(C-2)*2],V=s[(C-2)*2+1],W=s[(C-1)*2],$=s[(C-1)*2+1],tt=-(V-$),nt=F-W,kt=Math.sqrt(tt*tt+nt*nt),tt/=kt,nt/=kt,tt*=M,nt*=M,x.push(W-tt*b,$-nt*b),x.push(W+tt*T,$+nt*T),v||(f.cap==="round"?O+=Ui(W-tt*(b-T)*.5,$-nt*(b-T)*.5,W-tt*b,$-nt*b,W+tt*T,$+nt*T,x,!1)+2:f.cap==="square"&&(O+=ry(W,$,tt,nt,b,T,!1,x)));const R=sy*sy;for(let P=A;P<O+A-2;++P)F=x[P*2],V=x[P*2+1],W=x[(P+1)*2],$=x[(P+1)*2+1],rt=x[(P+2)*2],it=x[(P+2)*2+1],!(Math.abs(F*($-it)+W*(it-V)+rt*(V-$))<R)&&u.push(P,P+1,P+2)}function cw(s,t,i,r){const l=I0;if(s.length===0)return;const u=s[0],c=s[1],f=s[s.length-2],d=s[s.length-1],m=t||Math.abs(u-f)<l&&Math.abs(c-d)<l,g=i,v=s.length/2,_=g.length/2;for(let x=0;x<v;x++)g.push(s[x*2]),g.push(s[x*2+1]);for(let x=0;x<v-1;x++)r.push(_+x,_+x+1);m&&r.push(_+v-1,_)}function W0(s,t,i,r,l,u,c){const f=Q2(s,t,2);if(!f)return;for(let m=0;m<f.length;m+=3)u[c++]=f[m]+l,u[c++]=f[m+1]+l,u[c++]=f[m+2]+l;let d=l*r;for(let m=0;m<s.length;m+=2)i[d]=s[m],i[d+1]=s[m+1],d+=r}const hw=[],fw={extension:{type:zt.ShapeBuilder,name:"polygon"},build(s,t){for(let i=0;i<s.points.length;i++)t[i]=s.points[i];return t},triangulate(s,t,i,r,l,u){W0(s,hw,t,i,r,l,u)}},dw={extension:{type:zt.ShapeBuilder,name:"rectangle"},build(s,t){const i=s,r=i.x,l=i.y,u=i.width,c=i.height;return u>=0&&c>=0&&(t[0]=r,t[1]=l,t[2]=r+u,t[3]=l,t[4]=r+u,t[5]=l+c,t[6]=r,t[7]=l+c),t},triangulate(s,t,i,r,l,u){let c=0;r*=i,t[r+c]=s[0],t[r+c+1]=s[1],c+=i,t[r+c]=s[2],t[r+c+1]=s[3],c+=i,t[r+c]=s[6],t[r+c+1]=s[7],c+=i,t[r+c]=s[4],t[r+c+1]=s[5],c+=i;const f=r/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2,l[u++]=f+1,l[u++]=f+3,l[u++]=f+2}},pw={extension:{type:zt.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,t},triangulate(s,t,i,r,l,u){let c=0;r*=i,t[r+c]=s[0],t[r+c+1]=s[1],c+=i,t[r+c]=s[2],t[r+c+1]=s[3],c+=i,t[r+c]=s[4],t[r+c+1]=s[5];const f=r/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2}},mw=new Ct,gw=new It;function yw(s,t,i,r){const l=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const u=i.getBounds(gw);l.translate(-u.x,-u.y),l.scale(1/u.width,1/u.height)}else{l.translate(t.texture.frame.x,t.texture.frame.y),l.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update())}return r&&l.append(mw.copyFrom(r).invert()),l}const no={};Qe.handleByMap(zt.ShapeBuilder,no);Qe.add(dw,fw,pw,ra,aw,lw);const vw=new It,xw=new Ct;function bw(s,t){const{geometryData:i,batches:r}=t;r.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let l=0;l<s.instructions.length;l++){const u=s.instructions[l];if(u.action==="texture")_w(u.data,r,i);else if(u.action==="fill"||u.action==="stroke"){const c=u.action==="stroke",f=u.data.path.shapePath,d=u.data.style,m=u.data.hole;c&&m&&ay(m.shapePath,d,!0,r,i),m&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),ay(f,d,c,r,i)}}}function _w(s,t,i){const{vertices:r,uvs:l,indices:u}=i,c=u.length,f=r.length/2,d=[],m=no.rectangle,g=vw,v=s.image;g.x=s.dx,g.y=s.dy,g.width=s.dw,g.height=s.dh;const _=s.transform;m.build(g,d),_&&q0(d,_),m.triangulate(d,r,2,f,u,c);const x=v.uvs;l.push(x.x0,x.y0,x.x1,x.y1,x.x3,x.y3,x.x2,x.y2);const C=Bn.get(V0);C.indexOffset=c,C.indexSize=u.length-c,C.attributeOffset=f,C.attributeSize=r.length/2-f,C.baseColor=s.style,C.alpha=s.alpha,C.texture=v,C.geometryData=i,t.push(C)}function ay(s,t,i,r,l){const{vertices:u,uvs:c,indices:f}=l;s.shapePrimitives.forEach(({shape:d,transform:m,holes:g})=>{const v=f.length,_=u.length/2,x=[],C=no[d.type];let O="triangle-list";if(C.build(d,x),m&&q0(x,m),i){const z=d.closePath??!0,F=t;F.pixelLine?(cw(x,z,u,f),O="line-list"):uw(x,F,!1,z,u,f)}else if(g){const z=[],F=x.slice();Sw(g).forEach(W=>{z.push(F.length/2),F.push(...W)}),W0(F,z,u,2,_,f,v)}else C.triangulate(x,u,2,_,f,v);const A=c.length/2,M=t.texture;if(M!==Ht.WHITE){const z=yw(xw,t,d,m);iw(u,2,_,c,A,2,u.length/2-_,z)}else sw(c,A,2,u.length/2-_);const U=Bn.get(V0);U.indexOffset=v,U.indexSize=f.length-v,U.attributeOffset=_,U.attributeSize=u.length/2-_,U.baseColor=t.color,U.alpha=t.alpha,U.texture=M,U.geometryData=l,U.topology=O,r.push(U)})}function Sw(s){const t=[];for(let i=0;i<s.length;i++){const r=s[i].shape,l=[];no[r.type].build(r,l),t.push(l)}return t}class ww{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Aw{constructor(){this.batcher=new nw,this.instructions=new r0}init(){this.instructions.reset()}get geometry(){return mt(D_,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const ef=class Rh{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Rh.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??Rh.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let i=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){i?this._cleanGraphicsContextData(t):i=this._initContext(t),bw(t,i);const r=t.batchMode;t.customShader||r==="no-batch"?i.isBatchable=!1:r==="auto"&&(i.isBatchable=i.geometryData.vertices.length<400),t.dirty=!1}return i}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const i=Bn.get(Aw),{batches:r,geometryData:l}=this._gpuContextHash[t.uid],u=l.vertices.length,c=l.indices.length;for(let g=0;g<r.length;g++)r[g].applyTransform=!1;const f=i.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(c),f.begin();for(let g=0;g<r.length;g++){const v=r[g];f.add(v)}f.finish(i.instructions);const d=f.geometry;d.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),d.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const m=f.batches;for(let g=0;g<m.length;g++){const v=m[g];v.bindGroup=gS(v.textures.textures,v.textures.count)}return this._graphicsDataContextHash[t.uid]=i,i}_initContext(t){const i=new ww;return i.context=t,this._gpuContextHash[t.uid]=i,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const i=this._gpuContextHash[t.uid];i.isBatchable||this._graphicsDataContextHash[t.uid]&&(Bn.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),i.batches&&i.batches.forEach(r=>{Bn.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};ef.extension={type:[zt.WebGLSystem,zt.WebGPUSystem,zt.CanvasSystem],name:"graphicsContext"};ef.defaultOptions={bezierSmoothness:.5};let Z0=ef;const Cw=8,kl=11920929e-14,Tw=1;function $0(s,t,i,r,l,u,c,f,d,m){const v=Math.min(.99,Math.max(0,m??Z0.defaultOptions.bezierSmoothness));let _=(Tw-v)/1;return _*=_,Mw(t,i,r,l,u,c,f,d,s,_),s}function Mw(s,t,i,r,l,u,c,f,d,m){Oh(s,t,i,r,l,u,c,f,d,m,0),d.push(c,f)}function Oh(s,t,i,r,l,u,c,f,d,m,g){if(g>Cw)return;const v=(s+i)/2,_=(t+r)/2,x=(i+l)/2,C=(r+u)/2,O=(l+c)/2,A=(u+f)/2,M=(v+x)/2,U=(_+C)/2,z=(x+O)/2,F=(C+A)/2,V=(M+z)/2,W=(U+F)/2;if(g>0){let $=c-s,rt=f-t;const it=Math.abs((i-c)*rt-(r-f)*$),tt=Math.abs((l-c)*rt-(u-f)*$);if(it>kl&&tt>kl){if((it+tt)*(it+tt)<=m*($*$+rt*rt)){d.push(V,W);return}}else if(it>kl){if(it*it<=m*($*$+rt*rt)){d.push(V,W);return}}else if(tt>kl){if(tt*tt<=m*($*$+rt*rt)){d.push(V,W);return}}else if($=V-(s+c)/2,rt=W-(t+f)/2,$*$+rt*rt<=m){d.push(V,W);return}}Oh(s,t,v,_,M,U,V,W,d,m,g+1),Oh(V,W,z,F,O,A,c,f,d,m,g+1)}const Ew=8,Rw=11920929e-14,Ow=1;function zw(s,t,i,r,l,u,c,f){const m=Math.min(.99,Math.max(0,f??Z0.defaultOptions.bezierSmoothness));let g=(Ow-m)/1;return g*=g,Dw(t,i,r,l,u,c,s,g),s}function Dw(s,t,i,r,l,u,c,f){zh(c,s,t,i,r,l,u,f,0),c.push(l,u)}function zh(s,t,i,r,l,u,c,f,d){if(d>Ew)return;const m=(t+r)/2,g=(i+l)/2,v=(r+u)/2,_=(l+c)/2,x=(m+v)/2,C=(g+_)/2;let O=u-t,A=c-i;const M=Math.abs((r-u)*A-(l-c)*O);if(M>Rw){if(M*M<=f*(O*O+A*A)){s.push(x,C);return}}else if(O=x-(t+u)/2,A=C-(i+c)/2,O*O+A*A<=f){s.push(x,C);return}zh(s,t,i,m,g,x,C,f,d+1),zh(s,x,C,v,_,u,c,f,d+1)}function Q0(s,t,i,r,l,u,c,f){let d=Math.abs(l-u);(!c&&l>u||c&&u>l)&&(d=2*Math.PI-d),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(d/Math.PI)))),f=Math.max(f,3);let m=d/f,g=l;m*=c?-1:1;for(let v=0;v<f+1;v++){const _=Math.cos(g),x=Math.sin(g),C=t+_*r,O=i+x*r;s.push(C,O),g+=m}}function Uw(s,t,i,r,l,u){const c=s[s.length-2],d=s[s.length-1]-i,m=c-t,g=l-i,v=r-t,_=Math.abs(d*v-m*g);if(_<1e-8||u===0){(s[s.length-2]!==t||s[s.length-1]!==i)&&s.push(t,i);return}const x=d*d+m*m,C=g*g+v*v,O=d*g+m*v,A=u*Math.sqrt(x)/_,M=u*Math.sqrt(C)/_,U=A*O/x,z=M*O/C,F=A*v+M*m,V=A*g+M*d,W=m*(M+U),$=d*(M+U),rt=v*(A+z),it=g*(A+z),tt=Math.atan2($-V,W-F),nt=Math.atan2(it-V,rt-F);Q0(s,F+t,V+i,u,tt,nt,m*g>v*d)}const Qr=Math.PI*2,ah={centerX:0,centerY:0,ang1:0,ang2:0},lh=({x:s,y:t},i,r,l,u,c,f,d)=>{s*=i,t*=r;const m=l*s-u*t,g=u*s+l*t;return d.x=m+c,d.y=g+f,d};function Bw(s,t){const i=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:i,l=Math.cos(s),u=Math.sin(s),c=Math.cos(s+t),f=Math.sin(s+t);return[{x:l-u*r,y:u+l*r},{x:c+f*r,y:f-c*r},{x:c,y:f}]}const ly=(s,t,i,r)=>{const l=s*r-t*i<0?-1:1;let u=s*i+t*r;return u>1&&(u=1),u<-1&&(u=-1),l*Math.acos(u)},Nw=(s,t,i,r,l,u,c,f,d,m,g,v,_)=>{const x=Math.pow(l,2),C=Math.pow(u,2),O=Math.pow(g,2),A=Math.pow(v,2);let M=x*C-x*A-C*O;M<0&&(M=0),M/=x*A+C*O,M=Math.sqrt(M)*(c===f?-1:1);const U=M*l/u*v,z=M*-u/l*g,F=m*U-d*z+(s+i)/2,V=d*U+m*z+(t+r)/2,W=(g-U)/l,$=(v-z)/u,rt=(-g-U)/l,it=(-v-z)/u,tt=ly(1,0,W,$);let nt=ly(W,$,rt,it);f===0&&nt>0&&(nt-=Qr),f===1&&nt<0&&(nt+=Qr),_.centerX=F,_.centerY=V,_.ang1=tt,_.ang2=nt};function Hw(s,t,i,r,l,u,c,f=0,d=0,m=0){if(u===0||c===0)return;const g=Math.sin(f*Qr/360),v=Math.cos(f*Qr/360),_=v*(t-r)/2+g*(i-l)/2,x=-g*(t-r)/2+v*(i-l)/2;if(_===0&&x===0)return;u=Math.abs(u),c=Math.abs(c);const C=Math.pow(_,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(c,2);C>1&&(u*=Math.sqrt(C),c*=Math.sqrt(C)),Nw(t,i,r,l,u,c,d,m,g,v,_,x,ah);let{ang1:O,ang2:A}=ah;const{centerX:M,centerY:U}=ah;let z=Math.abs(A)/(Qr/4);Math.abs(1-z)<1e-7&&(z=1);const F=Math.max(Math.ceil(z),1);A/=F;let V=s[s.length-2],W=s[s.length-1];const $={x:0,y:0};for(let rt=0;rt<F;rt++){const it=Bw(O,A),{x:tt,y:nt}=lh(it[0],u,c,v,g,M,U,$),{x:ft,y:bt}=lh(it[1],u,c,v,g,M,U,$),{x:kt,y:Gt}=lh(it[2],u,c,v,g,M,U,$);$0(s,V,W,tt,nt,ft,bt,kt,Gt),V=kt,W=Gt,O+=A}}function kw(s,t,i){const r=(c,f)=>{const d=f.x-c.x,m=f.y-c.y,g=Math.sqrt(d*d+m*m),v=d/g,_=m/g;return{len:g,nx:v,ny:_}},l=(c,f)=>{c===0?s.moveTo(f.x,f.y):s.lineTo(f.x,f.y)};let u=t[t.length-1];for(let c=0;c<t.length;c++){const f=t[c%t.length],d=f.radius??i;if(d<=0){l(c,f),u=f;continue}const m=t[(c+1)%t.length],g=r(f,u),v=r(f,m);if(g.len<1e-4||v.len<1e-4){l(c,f),u=f;continue}let _=Math.asin(g.nx*v.ny-g.ny*v.nx),x=1,C=!1;g.nx*v.nx-g.ny*-v.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,x=-1,C=!0):_>0&&(x=-1,C=!0);const O=_/2;let A,M=Math.abs(Math.cos(O)*d/Math.sin(O));M>Math.min(g.len/2,v.len/2)?(M=Math.min(g.len/2,v.len/2),A=Math.abs(M*Math.sin(O)/Math.cos(O))):A=d;const U=f.x+v.nx*M+-v.ny*A*x,z=f.y+v.ny*M+v.nx*A*x,F=Math.atan2(g.ny,g.nx)+Math.PI/2*x,V=Math.atan2(v.ny,v.nx)-Math.PI/2*x;c===0&&s.moveTo(U+Math.cos(F)*A,z+Math.sin(F)*A),s.arc(U,z,A,F,V,C),u=f}}function Gw(s,t,i,r){const l=(f,d)=>Math.sqrt((f.x-d.x)**2+(f.y-d.y)**2),u=(f,d,m)=>({x:f.x+(d.x-f.x)*m,y:f.y+(d.y-f.y)*m}),c=t.length;for(let f=0;f<c;f++){const d=t[(f+1)%c],m=d.radius??i;if(m<=0){f===0?s.moveTo(d.x,d.y):s.lineTo(d.x,d.y);continue}const g=t[f],v=t[(f+2)%c],_=l(g,d);let x;if(_<1e-4)x=d;else{const A=Math.min(_/2,m);x=u(d,g,A/_)}const C=l(v,d);let O;if(C<1e-4)O=d;else{const A=Math.min(C/2,m);O=u(d,v,A/C)}f===0?s.moveTo(x.x,x.y):s.lineTo(x.x,x.y),s.quadraticCurveTo(d.x,d.y,O.x,O.y,r)}}const Pw=new It;class Lw{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new rn,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,i){return this.startPoly(t,i),this}lineTo(t,i){this._ensurePoly();const r=this._currentPoly.points,l=r[r.length-2],u=r[r.length-1];return(l!==t||u!==i)&&r.push(t,i),this}arc(t,i,r,l,u,c){this._ensurePoly(!1);const f=this._currentPoly.points;return Q0(f,t,i,r,l,u,c),this}arcTo(t,i,r,l,u){this._ensurePoly();const c=this._currentPoly.points;return Uw(c,t,i,r,l,u),this}arcToSvg(t,i,r,l,u,c,f){const d=this._currentPoly.points;return Hw(d,this._currentPoly.lastX,this._currentPoly.lastY,c,f,t,i,r,l,u),this}bezierCurveTo(t,i,r,l,u,c,f){this._ensurePoly();const d=this._currentPoly;return $0(this._currentPoly.points,d.lastX,d.lastY,t,i,r,l,u,c,f),this}quadraticCurveTo(t,i,r,l,u){this._ensurePoly();const c=this._currentPoly;return zw(this._currentPoly.points,c.lastX,c.lastY,t,i,r,l,u),this}closePath(){return this.endPoly(!0),this}addPath(t,i){this.endPoly(),i&&!i.isIdentity()&&(t=t.clone(!0),t.transform(i));const r=this.shapePrimitives,l=r.length;for(let u=0;u<t.instructions.length;u++){const c=t.instructions[u];this[c.action](...c.data)}if(t.checkForHoles&&r.length-l>1){let u=null;for(let c=l;c<r.length;c++){const f=r[c];if(f.shape.type==="polygon"){const d=f.shape,m=u==null?void 0:u.shape;m&&m.containsPolygon(d)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(c,c+1),r.length--,c--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,i,r,l,u){return this.drawShape(new It(t,i,r,l),u),this}circle(t,i,r,l){return this.drawShape(new Kh(t,i,r),l),this}poly(t,i,r){const l=new $r(t);return l.closePath=i,this.drawShape(l,r),this}regularPoly(t,i,r,l,u=0,c){l=Math.max(l|0,3);const f=-1*Math.PI/2+u,d=Math.PI*2/l,m=[];for(let g=0;g<l;g++){const v=f-g*d;m.push(t+r*Math.cos(v),i+r*Math.sin(v))}return this.poly(m,!0,c),this}roundPoly(t,i,r,l,u,c=0,f){if(l=Math.max(l|0,3),u<=0)return this.regularPoly(t,i,r,l,c);const d=r*Math.sin(Math.PI/l)-.001;u=Math.min(u,d);const m=-1*Math.PI/2+c,g=Math.PI*2/l,v=(l-2)*Math.PI/l/2;for(let _=0;_<l;_++){const x=_*g+m,C=t+r*Math.cos(x),O=i+r*Math.sin(x),A=x+Math.PI+v,M=x-Math.PI-v,U=C+u*Math.cos(A),z=O+u*Math.sin(A),F=C+u*Math.cos(M),V=O+u*Math.sin(M);_===0?this.moveTo(U,z):this.lineTo(U,z),this.quadraticCurveTo(C,O,F,V,f)}return this.closePath()}roundShape(t,i,r=!1,l){return t.length<3?this:(r?Gw(this,t,i,l):kw(this,t,i),this.closePath())}filletRect(t,i,r,l,u){if(u===0)return this.rect(t,i,r,l);const c=Math.min(r,l)/2,f=Math.min(c,Math.max(-c,u)),d=t+r,m=i+l,g=f<0?-f:0,v=Math.abs(f);return this.moveTo(t,i+v).arcTo(t+g,i+g,t+v,i,v).lineTo(d-v,i).arcTo(d-g,i+g,d,i+v,v).lineTo(d,m-v).arcTo(d-g,m-g,t+r-v,m,v).lineTo(t+v,m).arcTo(t+g,m-g,t,m-v,v).closePath()}chamferRect(t,i,r,l,u,c){if(u<=0)return this.rect(t,i,r,l);const f=Math.min(u,Math.min(r,l)/2),d=t+r,m=i+l,g=[t+f,i,d-f,i,d,i+f,d,m-f,d-f,m,t+f,m,t,m-f,t,i+f];for(let v=g.length-1;v>=2;v-=2)g[v]===g[v-2]&&g[v-1]===g[v-3]&&g.splice(v-1,2);return this.poly(g,!0,c)}ellipse(t,i,r,l,u){return this.drawShape(new Jh(t,i,r,l),u),this}roundRect(t,i,r,l,u,c){return this.drawShape(new tf(t,i,r,l,u),c),this}drawShape(t,i){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:i}),this}startPoly(t,i){let r=this._currentPoly;return r&&this.endPoly(),r=new $r,r.points.push(t,i),this._currentPoly=r,this}endPoly(t=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=t,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new $r,t)){const i=this.shapePrimitives[this.shapePrimitives.length-1];if(i){let r=i.shape.x,l=i.shape.y;if(i.transform&&!i.transform.isIdentity()){const u=i.transform,c=r;r=u.a*r+u.c*l+u.tx,l=u.b*c+u.d*l+u.ty}this._currentPoly.points.push(r,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<t.instructions.length;i++){const r=t.instructions[i];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const i=this.shapePrimitives;for(let r=0;r<i.length;r++){const l=i[r],u=l.shape.getBounds(Pw);l.transform?t.addRect(u,l.transform):t.addRect(u)}return t}}class Bs{constructor(t,i=!1){this.instructions=[],this.uid=Jt("graphicsPath"),this._dirty=!0,this.checkForHoles=i,typeof t=="string"?uS(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Lw(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,i){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,i]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,i,r,l,u){const c=this.instructions[this.instructions.length-1],f=this.getLastPoint(At.shared);let d=0,m=0;if(!c||c.action!=="bezierCurveTo")d=f.x,m=f.y;else{d=c.data[2],m=c.data[3];const g=f.x,v=f.y;d=g+(g-d),m=v+(v-m)}return this.instructions.push({action:"bezierCurveTo",data:[d,m,t,i,r,l,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,i,r){const l=this.instructions[this.instructions.length-1],u=this.getLastPoint(At.shared);let c=0,f=0;if(!l||l.action!=="quadraticCurveTo")c=u.x,f=u.y;else{c=l.data[0],f=l.data[1];const d=u.x,m=u.y;c=d+(d-c),f=m+(m-f)}return this.instructions.push({action:"quadraticCurveTo",data:[c,f,t,i,r]}),this._dirty=!0,this}rect(t,i,r,l,u){return this.instructions.push({action:"rect",data:[t,i,r,l,u]}),this._dirty=!0,this}circle(t,i,r,l){return this.instructions.push({action:"circle",data:[t,i,r,l]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,i,r,l,u,c,f){u||(u=l/2);const d=-1*Math.PI/2+c,m=r*2,g=Math.PI*2/m,v=[];for(let _=0;_<m;_++){const x=_%2?u:l,C=_*g+d;v.push(t+x*Math.cos(C),i+x*Math.sin(C))}return this.poly(v,!0,f),this}clone(t=!1){const i=new Bs;if(i.checkForHoles=this.checkForHoles,!t)i.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const l=this.instructions[r];i.instructions.push({action:l.action,data:l.data.slice()})}return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const i=t.a,r=t.b,l=t.c,u=t.d,c=t.tx,f=t.ty;let d=0,m=0,g=0,v=0,_=0,x=0,C=0,O=0;for(let A=0;A<this.instructions.length;A++){const M=this.instructions[A],U=M.data;switch(M.action){case"moveTo":case"lineTo":d=U[0],m=U[1],U[0]=i*d+l*m+c,U[1]=r*d+u*m+f;break;case"bezierCurveTo":g=U[0],v=U[1],_=U[2],x=U[3],d=U[4],m=U[5],U[0]=i*g+l*v+c,U[1]=r*g+u*v+f,U[2]=i*_+l*x+c,U[3]=r*_+u*x+f,U[4]=i*d+l*m+c,U[5]=r*d+u*m+f;break;case"quadraticCurveTo":g=U[0],v=U[1],d=U[2],m=U[3],U[0]=i*g+l*v+c,U[1]=r*g+u*v+f,U[2]=i*d+l*m+c,U[3]=r*d+u*m+f;break;case"arcToSvg":d=U[5],m=U[6],C=U[0],O=U[1],U[0]=i*C+l*O,U[1]=r*C+u*O,U[5]=i*d+l*m+c,U[6]=r*d+u*m+f;break;case"circle":U[4]=Lr(U[3],t);break;case"rect":U[4]=Lr(U[4],t);break;case"ellipse":U[8]=Lr(U[8],t);break;case"roundRect":U[5]=Lr(U[5],t);break;case"addPath":U[0].transform(t);break;case"poly":U[2]=Lr(U[2],t);break;default:Le("unknown transform action",M.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let i=this.instructions.length-1,r=this.instructions[i];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(i--,i<0)return t.x=0,t.y=0,t;r=this.instructions[i]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function Lr(s,t){return s?s.prepend(t):t.clone()}function Vt(s,t,i){const r=s.getAttribute(t);return r?Number(r):i}function Yw(s,t){const i=s.querySelectorAll("defs");for(let r=0;r<i.length;r++){const l=i[r];for(let u=0;u<l.children.length;u++){const c=l.children[u];switch(c.nodeName.toLowerCase()){case"lineargradient":t.defs[c.id]=Xw(c);break;case"radialgradient":t.defs[c.id]=jw();break}}}}function Xw(s){const t=Vt(s,"x1",0),i=Vt(s,"y1",0),r=Vt(s,"x2",1),l=Vt(s,"y2",0),u=s.getAttribute("gradientUnits")||"objectBoundingBox",c=new eo(t,i,r,l,u==="objectBoundingBox"?"local":"global");for(let f=0;f<s.children.length;f++){const d=s.children[f],m=Vt(d,"offset",0),g=Me.shared.setValue(d.getAttribute("stop-color")).toNumber();c.addColorStop(m,g)}return c}function jw(s){return Le("[SVG Parser] Radial gradients are not yet supported"),new eo(0,0,1,0)}function oy(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const uy={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function K0(s,t){const i=s.getAttribute("style"),r={},l={},u={strokeStyle:r,fillStyle:l,useFill:!1,useStroke:!1};for(const c in uy){const f=s.getAttribute(c);f&&cy(t,u,c,f.trim())}if(i){const c=i.split(";");for(let f=0;f<c.length;f++){const d=c[f].trim(),[m,g]=d.split(":");uy[m]&&cy(t,u,m,g.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?l:null,useFill:u.useFill,useStroke:u.useStroke}}function cy(s,t,i,r){switch(i){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const l=oy(r);t.strokeStyle.fill=s.defs[l]}else t.strokeStyle.color=Me.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const l=oy(r);t.fillStyle.fill=s.defs[l]}else t.fillStyle.color=Me.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function Fw(s,t){if(typeof s=="string"){const c=document.createElement("div");c.innerHTML=s.trim(),s=c.querySelector("svg")}const i={context:t,defs:{},path:new Bs};Yw(s,i);const r=s.children,{fillStyle:l,strokeStyle:u}=K0(s,i);for(let c=0;c<r.length;c++){const f=r[c];f.nodeName.toLowerCase()!=="defs"&&J0(f,i,l,u)}return t}function J0(s,t,i,r){const l=s.children,{fillStyle:u,strokeStyle:c}=K0(s,t);u&&i?i={...i,...u}:u&&(i=u),c&&r?r={...r,...c}:c&&(r=c);const f=!i&&!r;f&&(i={color:0});let d,m,g,v,_,x,C,O,A,M,U,z,F,V,W,$,rt;switch(s.nodeName.toLowerCase()){case"path":V=s.getAttribute("d"),s.getAttribute("fill-rule")==="evenodd"&&Le("SVG Evenodd fill rule not supported, your svg may render incorrectly"),W=new Bs(V,!0),t.context.path(W),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"circle":C=Vt(s,"cx",0),O=Vt(s,"cy",0),A=Vt(s,"r",0),t.context.ellipse(C,O,A,A),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"rect":d=Vt(s,"x",0),m=Vt(s,"y",0),$=Vt(s,"width",0),rt=Vt(s,"height",0),M=Vt(s,"rx",0),U=Vt(s,"ry",0),M||U?t.context.roundRect(d,m,$,rt,M||U):t.context.rect(d,m,$,rt),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"ellipse":C=Vt(s,"cx",0),O=Vt(s,"cy",0),M=Vt(s,"rx",0),U=Vt(s,"ry",0),t.context.beginPath(),t.context.ellipse(C,O,M,U),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"line":g=Vt(s,"x1",0),v=Vt(s,"y1",0),_=Vt(s,"x2",0),x=Vt(s,"y2",0),t.context.beginPath(),t.context.moveTo(g,v),t.context.lineTo(_,x),r&&t.context.stroke(r);break;case"polygon":F=s.getAttribute("points"),z=F.match(/\d+/g).map(it=>parseInt(it,10)),t.context.poly(z,!0),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"polyline":F=s.getAttribute("points"),z=F.match(/\d+/g).map(it=>parseInt(it,10)),t.context.poly(z,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Le(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}f&&(i=null);for(let it=0;it<l.length;it++)J0(l[it],t,i,r)}function qw(s){return Me.isColorLike(s)}function hy(s){return s instanceof rS}function fy(s){return s instanceof eo}function Vw(s){return s instanceof Ht}function Iw(s,t,i){const r=Me.shared.setValue(t??0);return s.color=r.toNumber(),s.alpha=r.alpha===1?i.alpha:r.alpha,s.texture=Ht.WHITE,{...i,...s}}function Ww(s,t,i){return s.texture=t,{...i,...s}}function dy(s,t,i){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...i,...s}}function py(s,t,i){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...i,...s}}function Zw(s,t){const i={...t,...s},r=Me.shared.setValue(i.color);return i.alpha*=r.alpha,i.color=r.toNumber(),i}function Wr(s,t){if(s==null)return null;const i={},r=s;return qw(s)?Iw(i,s,t):Vw(s)?Ww(i,s,t):hy(s)?dy(i,s,t):fy(s)?py(i,s,t):r.fill&&hy(r.fill)?dy(r,r.fill,t):r.fill&&fy(r.fill)?py(r,r.fill,t):Zw(r,t)}function my(s,t){const{width:i,alignment:r,miterLimit:l,cap:u,join:c,pixelLine:f,...d}=t,m=Wr(s,d);return m?{width:i,alignment:r,miterLimit:l,cap:u,join:c,pixelLine:f,...m}:null}const $w=new At,gy=new Ct,nf=class dn extends kn{constructor(){super(...arguments),this.uid=Jt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Bs,this._transform=new Ct,this._fillStyle={...dn.defaultFillStyle},this._strokeStyle={...dn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new rn,this._boundsDirty=!0}clone(){const t=new dn;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Wr(t,dn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=my(t,dn.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Wr(t,dn.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Wr(t,dn.defaultStrokeStyle),this}texture(t,i,r,l,u,c){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:l||0,dw:u||t.frame.width,dh:c||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i?Me.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Bs,this}fill(t,i){let r;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l&&l.action==="stroke"?r=l.data.path:r=this._activePath.clone(),r?(t!=null&&(i!==void 0&&typeof t=="number"&&(mt(Kt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:i}),this._fillStyle=Wr(t,dn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:i}=this._activePath.getLastPoint(At.shared);this._activePath.clear(),this._activePath.moveTo(t,i)}stroke(t){let i;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?i=r.data.path:i=this._activePath.clone(),i?(t!=null&&(this._strokeStyle=my(t,dn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const i=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(i&&(i.action==="stroke"||i.action==="fill"))if(i.data.hole)i.data.hole.addPath(r);else{i.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,i,r,l,u,c){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*i+f.tx,f.b*t+f.d*i+f.ty,r,l,u,c),this}arcTo(t,i,r,l,u){this._tick++;const c=this._transform;return this._activePath.arcTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*r+c.c*l+c.tx,c.b*r+c.d*l+c.ty,u),this}arcToSvg(t,i,r,l,u,c,f){this._tick++;const d=this._transform;return this._activePath.arcToSvg(t,i,r,l,u,d.a*c+d.c*f+d.tx,d.b*c+d.d*f+d.ty),this}bezierCurveTo(t,i,r,l,u,c,f){this._tick++;const d=this._transform;return this._activePath.bezierCurveTo(d.a*t+d.c*i+d.tx,d.b*t+d.d*i+d.ty,d.a*r+d.c*l+d.tx,d.b*r+d.d*l+d.ty,d.a*u+d.c*c+d.tx,d.b*u+d.d*c+d.ty,f),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,i,r,l){return this._tick++,this._activePath.ellipse(t,i,r,l,this._transform.clone()),this}circle(t,i,r){return this._tick++,this._activePath.circle(t,i,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,i){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*i+r.tx,r.b*t+r.d*i+r.ty),this}moveTo(t,i){this._tick++;const r=this._transform,l=this._activePath.instructions,u=r.a*t+r.c*i+r.tx,c=r.b*t+r.d*i+r.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=u,l[0].data[1]=c,this):(this._activePath.moveTo(u,c),this)}quadraticCurveTo(t,i,r,l,u){this._tick++;const c=this._transform;return this._activePath.quadraticCurveTo(c.a*t+c.c*i+c.tx,c.b*t+c.d*i+c.ty,c.a*r+c.c*l+c.tx,c.b*r+c.d*l+c.ty,u),this}rect(t,i,r,l){return this._tick++,this._activePath.rect(t,i,r,l,this._transform.clone()),this}roundRect(t,i,r,l,u){return this._tick++,this._activePath.roundRect(t,i,r,l,u,this._transform.clone()),this}poly(t,i){return this._tick++,this._activePath.poly(t,i,this._transform.clone()),this}regularPoly(t,i,r,l,u=0,c){return this._tick++,this._activePath.regularPoly(t,i,r,l,u,c),this}roundPoly(t,i,r,l,u,c){return this._tick++,this._activePath.roundPoly(t,i,r,l,u,c),this}roundShape(t,i,r,l){return this._tick++,this._activePath.roundShape(t,i,r,l),this}filletRect(t,i,r,l,u){return this._tick++,this._activePath.filletRect(t,i,r,l,u),this}chamferRect(t,i,r,l,u,c){return this._tick++,this._activePath.chamferRect(t,i,r,l,u,c),this}star(t,i,r,l,u=0,c=0){return this._tick++,this._activePath.star(t,i,r,l,u,c,this._transform.clone()),this}svg(t){return this._tick++,Fw(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,i=t){return this._transform.scale(t,i),this}setTransform(t,i,r,l,u,c){return t instanceof Ct?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,i,r,l,u,c),this)}transform(t,i,r,l,u,c){return t instanceof Ct?(this._transform.append(t),this):(gy.set(t,i,r,l,u,c),this._transform.append(gy),this)}translate(t,i=t){return this._transform.translate(t,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let i=0;i<this.instructions.length;i++){const r=this.instructions[i],l=r.action;if(l==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(l==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(l==="stroke"){const u=r.data,c=u.style.alignment,f=u.style.width*(1-c),d=u.path.bounds;t.addFrame(d.minX-f,d.minY-f,d.maxX+f,d.maxY+f)}}return t}containsPoint(t){var l;if(!this.bounds.containsPoint(t.x,t.y))return!1;const i=this.instructions;let r=!1;for(let u=0;u<i.length;u++){const c=i[u],f=c.data,d=f.path;if(!c.action||!d)continue;const m=f.style,g=d.shapePath.shapePrimitives;for(let v=0;v<g.length;v++){const _=g[v].shape;if(!m||!_)continue;const x=g[v].transform,C=x?x.applyInverse(t,$w):t;if(c.action==="fill")r=_.contains(C.x,C.y);else{const A=m;r=_.strokeContains(C.x,C.y,A.width,A.alignment)}const O=f.hole;if(O){const A=(l=O.shapePath)==null?void 0:l.shapePrimitives;if(A)for(let M=0;M<A.length;M++)A[M].shape.contains(C.x,C.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};nf.defaultFillStyle={color:16777215,alpha:1,texture:Ht.WHITE,matrix:null,fill:null,textureSpace:"local"};nf.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Ht.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Yr=nf;var Qw=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Kw=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,yy=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const tv=class ev extends ji{constructor(t){t={...ev.defaultOptions,...t};const i=an.from({vertex:{source:yy,entryPoint:"mainVertex"},fragment:{source:yy,entryPoint:"mainFragment"}}),r=Pn.from({vertex:Qw,fragment:Kw,name:"alpha-filter"}),{alpha:l,...u}=t,c=new $h({uAlpha:{value:l,type:"f32"}});super({...u,gpuProgram:i,glProgram:r,resources:{alphaUniforms:c}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(t){this.resources.alphaUniforms.uniforms.uAlpha=t}};tv.defaultOptions={alpha:1};let Jw=tv;const nv={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},tA=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function eA(s){const t=nv[s],i=t.length;let r=tA,l="";const u="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let c;for(let f=0;f<s;f++){let d=u.replace("%index%",f.toString());c=f,f>=i&&(c=s-f-1),d=d.replace("%value%",t[c].toString()),l+=d,l+=`
`}return r=r.replace("%blur%",l),r=r.replace("%size%",s.toString()),r}const nA=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function iA(s,t){const i=Math.ceil(s/2);let r=nA,l="",u;t?u="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":u="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let c=0;c<s;c++){let f=u.replace("%index%",c.toString());f=f.replace("%sampleIndex%",`${c-(i-1)}.0`),l+=f,l+=`
`}return r=r.replace("%blur%",l),r=r.replace("%size%",s.toString()),r=r.replace("%dimension%",t?"z":"w"),r}function sA(s,t){const i=iA(t,s),r=eA(t);return Pn.from({vertex:i,fragment:r,name:`blur-${s?"horizontal":"vertical"}-pass-filter`})}var rA=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function aA(s,t){const i=nv[t],r=i.length,l=[],u=[],c=[];for(let v=0;v<t;v++){l[v]=`@location(${v}) offset${v}: vec2<f32>,`,s?u[v]=`filteredCord + vec2(${v-r+1} * pixelStrength, 0.0),`:u[v]=`filteredCord + vec2(0.0, ${v-r+1} * pixelStrength),`;const _=v<r?v:t-v-1,x=i[_].toString();c[v]=`finalColor += textureSample(uTexture, uSampler, offset${v}) * ${x};`}const f=l.join(`
`),d=u.join(`
`),m=c.join(`
`),g=rA.replace("%blur-struct%",f).replace("%blur-vertex-out%",d).replace("%blur-fragment-in%",f).replace("%blur-sampling%",m).replace("%dimension%",s?"z":"w");return an.from({vertex:{source:g,entryPoint:"mainVertex"},fragment:{source:g,entryPoint:"mainFragment"}})}const iv=class sv extends ji{constructor(t){t={...sv.defaultOptions,...t};const i=sA(t.horizontal,t.kernelSize),r=aA(t.horizontal,t.kernelSize);super({glProgram:i,gpuProgram:r,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...t}),this.horizontal=t.horizontal,this._quality=0,this.quality=t.quality,this.blur=t.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(t,i,r,l){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)t.applyFilter(this,i,r,l);else{const u=Yi.getSameSizeTexture(i);let c=i,f=u;this._state.blend=!1;const d=t.renderer.type===ia.WEBGPU;for(let m=0;m<this.passes-1;m++){t.applyFilter(this,c,f,m===0?!0:d);const g=f;f=c,c=g}this._state.blend=!0,t.applyFilter(this,c,r,l),Yi.returnTexture(u)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}};iv.defaultOptions={strength:8,quality:4,kernelSize:5};let Kr=iv;class Fl extends ji{constructor(...t){let i=t[0]??{};typeof i=="number"&&(mt(Kt,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),i={strength:i},t[1]!==void 0&&(i.quality=t[1]),t[2]!==void 0&&(i.resolution=t[2]||"inherit"),t[3]!==void 0&&(i.kernelSize=t[3])),i={...Kr.defaultOptions,...i};const{strength:r,strengthX:l,strengthY:u,quality:c,...f}=i;super({...f,compatibleRenderers:ia.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Kr({horizontal:!0,...i}),this.blurYFilter=new Kr({horizontal:!1,...i}),this.quality=c,this.strengthX=l??r,this.strengthY=u??r,this.repeatEdgePixels=!1}apply(t,i,r,l){const u=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(u&&c){const f=Yi.getSameSizeTexture(i);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(t,i,f,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,f,r,l),Yi.returnTexture(f)}else c?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,i,r,l)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(t,i,r,l))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get strengthX(){return this.blurXFilter.blur}set strengthX(t){this.blurXFilter.blur=t,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(t){this.blurYFilter.blur=t,this.updatePadding()}get blur(){return mt("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(t){mt("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=t}get blurX(){return mt("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(t){mt("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=t}get blurY(){return mt("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(t){mt("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}Fl.defaultOptions={strength:8,quality:4,kernelSize:5};class aa extends a0{constructor(t){t instanceof Yr&&(t={context:t});const{context:i,roundPixels:r,...l}=t||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",i?this._context=i:this._context=this._ownedContext=new Yr,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,i){return this.context[t](...i),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new aa(this._context.clone()):(this._ownedContext=null,new aa(this._context))}lineStyle(t,i,r){mt(Kt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return t&&(l.width=t),i&&(l.color=i),r&&(l.alpha=r),this.context.strokeStyle=l,this}beginFill(t,i){mt(Kt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),i!==void 0&&(r.alpha=i),this.context.fillStyle=r,this}endFill(){mt(Kt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Yr.defaultStrokeStyle.width||t.color!==Yr.defaultStrokeStyle.color||t.alpha!==Yr.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return mt(Kt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return mt(Kt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return mt(Kt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return mt(Kt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return mt(Kt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return mt(Kt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}Qe.add(S_,w_);var io=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,so=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}`,lA=Object.defineProperty,oA=(s,t,i)=>t in s?lA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,ql=(s,t,i)=>(oA(s,typeof t!="symbol"?t+"":t,i),i);const rv=class av extends Jw{constructor(...t){let i=t[0]??{};if(typeof i=="number"||Array.isArray(i)||"x"in i&&"y"in i){mt("6.0.0","BloomFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }");let r=i;Array.isArray(r)&&(r={x:r[0],y:r[1]}),i={strength:r},t[1]!==void 0&&(i.quality=t[1]),t[2]!==void 0&&(i.resolution=t[2]),t[3]!==void 0&&(i.kernelSize=t[3])}i={...av.DEFAULT_OPTIONS,...i},super(),ql(this,"_blurXFilter"),ql(this,"_blurYFilter"),ql(this,"_strength"),this._strength={x:2,y:2},i.strength&&(typeof i.strength=="number"?(this._strength.x=i.strength,this._strength.y=i.strength):(this._strength.x=i.strength.x,this._strength.y=i.strength.y)),this._blurXFilter=new Kr({...i,horizontal:!0,strength:this.strengthX}),this._blurYFilter=new Kr({...i,horizontal:!1,strength:this.strengthY}),this._blurYFilter.blendMode="screen",Object.assign(this,i)}apply(t,i,r,l){const u=Yi.getSameSizeTexture(i);t.applyFilter(this,i,r,l),this._blurXFilter.apply(t,i,u,!0),this._blurYFilter.apply(t,u,r,!1),Yi.returnTexture(u)}get strength(){return this._strength}set strength(t){this._strength=typeof t=="number"?{x:t,y:t}:t,this._updateStrength()}get strengthX(){return this.strength.x}set strengthX(t){this.strength.x=t,this._updateStrength()}get strengthY(){return this.strength.y}set strengthY(t){this.strength.y=t,this._updateStrength()}_updateStrength(){this._blurXFilter.blur=this.strengthX,this._blurYFilter.blur=this.strengthY}get blur(){return mt("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strengthX}set blur(t){mt("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strength=t}get blurX(){return mt("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX}set blurX(t){mt("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX=t}get blurY(){return mt("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY}set blurY(t){mt("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY=t}};ql(rv,"DEFAULT_OPTIONS",{strength:{x:2,y:2},quality:4,resolution:1,kernelSize:5});let oh=rv;var uA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uStrength;
uniform vec3 uColor;
uniform float uKnockout;
uniform float uAlpha;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159265358979323846264;

// Hard-assignment of DIST and ANGLE_STEP_SIZE instead of using uDistance and uQuality to allow them to be use on GLSL loop conditions
const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.);
const float ANGLE_STEP_NUM = ceil(PI * 2. / ANGLE_STEP_SIZE);
const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.) / 2.;

void main(void) {
    vec2 px = vec2(1.) / uInputSize.xy;

    float totalAlpha = 0.;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.; angle < PI * 2.; angle += ANGLE_STEP_SIZE) {
      direction = vec2(cos(angle), sin(angle)) * px;

      for (float curDistance = 0.; curDistance < DIST; curDistance++) {
          displaced = clamp(vTextureCoord + direction * (curDistance + 1.), uInputClamp.xy, uInputClamp.zw);
          curColor = texture(uTexture, displaced);
          totalAlpha += (DIST - curDistance) * curColor.a;
      }
    }
    
    curColor = texture(uTexture, vTextureCoord);

    vec4 glowColor = vec4(uColor, uAlpha);
    bool knockout = uKnockout > .5;
    float innerStrength = uStrength[0];
    float outerStrength = uStrength[1];

    float alphaRatio = totalAlpha / MAX_TOTAL_ALPHA;
    float innerGlowAlpha = (1. - alphaRatio) * innerStrength * curColor.a * uAlpha;
    float innerGlowStrength = min(1., innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);
    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a) * uAlpha;
    float outerGlowStrength = min(1. - innerColor.a, outerGlowAlpha);
    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;

    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      finalColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      finalColor = innerColor + outerGlowColor;
    }
}
`,cA=`struct GlowUniforms {
  uDistance: f32,
  uStrength: vec2<f32>,
  uColor: vec3<f32>,
  uAlpha: f32,
  uQuality: f32,
  uKnockout: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> glowUniforms : GlowUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let quality = glowUniforms.uQuality;
  let distance = glowUniforms.uDistance;

  let dist: f32 = glowUniforms.uDistance;
  let angleStepSize: f32 = min(1. / quality / distance, PI * 2.0);
  let angleStepNum: f32 = ceil(PI * 2.0 / angleStepSize);

  let px: vec2<f32> = vec2<f32>(1.0 / gfu.uInputSize.xy);

  var totalAlpha: f32 = 0.0;

  var direction: vec2<f32>;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.0; angle < PI * 2.0; angle += angleStepSize) {
    direction = vec2<f32>(cos(angle), sin(angle)) * px;
    for (var curDistance = 0.0; curDistance < dist; curDistance+=1) {
      displaced = vec2<f32>(clamp(uv + direction * (curDistance + 1.0), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
      curColor = textureSample(uTexture, uSampler, displaced);
      totalAlpha += (dist - curDistance) * curColor.a;
    }
  }
    
  curColor = textureSample(uTexture, uSampler, uv);

  let glowColorRGB = glowUniforms.uColor;
  let glowAlpha = glowUniforms.uAlpha;
  let glowColor = vec4<f32>(glowColorRGB, glowAlpha);
  let knockout: bool = glowUniforms.uKnockout > 0.5;
  let innerStrength = glowUniforms.uStrength[0];
  let outerStrength = glowUniforms.uStrength[1];

  let alphaRatio: f32 = (totalAlpha / (angleStepNum * dist * (dist + 1.0) / 2.0));
  let innerGlowAlpha: f32 = (1.0 - alphaRatio) * innerStrength * curColor.a * glowAlpha;
  let innerGlowStrength: f32 = min(1.0, innerGlowAlpha);
  
  let innerColor: vec4<f32> = mix(curColor, glowColor, innerGlowStrength);
  let outerGlowAlpha: f32 = alphaRatio * outerStrength * (1. - curColor.a) * glowAlpha;
  let outerGlowStrength: f32 = min(1.0 - innerColor.a, outerGlowAlpha);
  let outerGlowColor: vec4<f32> = outerGlowStrength * glowColor.rgba;
  
  if (knockout) {
    let resultAlpha: f32 = outerGlowAlpha + innerGlowAlpha;
    return vec4<f32>(glowColor.rgb * resultAlpha, resultAlpha);
  }
  else {
    return innerColor + outerGlowColor;
  }
}

const PI: f32 = 3.14159265358979323846264;`,hA=Object.defineProperty,fA=(s,t,i)=>t in s?hA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Dh=(s,t,i)=>(fA(s,typeof t!="symbol"?t+"":t,i),i);const lv=class ov extends ji{constructor(t){t={...ov.DEFAULT_OPTIONS,...t};const i=t.distance??10,r=t.quality??.1,l=an.from({vertex:{source:so,entryPoint:"mainVertex"},fragment:{source:cA,entryPoint:"mainFragment"}}),u=Pn.from({vertex:io,fragment:uA.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/r/i).toFixed(7)}`).replace(/__DIST__/gi,`${i.toFixed(0)}.0`),name:"glow-filter"});super({gpuProgram:l,glProgram:u,resources:{glowUniforms:{uDistance:{value:i,type:"f32"},uStrength:{value:[t.innerStrength,t.outerStrength],type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:t.alpha,type:"f32"},uQuality:{value:r,type:"f32"},uKnockout:{value:(t==null?void 0:t.knockout)??!1?1:0,type:"f32"}}},padding:i}),Dh(this,"uniforms"),Dh(this,"_color"),this.uniforms=this.resources.glowUniforms.uniforms,this._color=new Me,this.color=t.color??16777215}get distance(){return this.uniforms.uDistance}set distance(t){this.uniforms.uDistance=this.padding=t}get innerStrength(){return this.uniforms.uStrength[0]}set innerStrength(t){this.uniforms.uStrength[0]=t}get outerStrength(){return this.uniforms.uStrength[1]}set outerStrength(t){this.uniforms.uStrength[1]=t}get color(){return this._color.value}set color(t){this._color.setValue(t);const[i,r,l]=this._color.toArray();this.uniforms.uColor[0]=i,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=l}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get quality(){return this.uniforms.uQuality}set quality(t){this.uniforms.uQuality=t}get knockout(){return this.uniforms.uKnockout===1}set knockout(t){this.uniforms.uKnockout=t?1:0}};Dh(lv,"DEFAULT_OPTIONS",{distance:10,outerStrength:4,innerStrength:0,color:16777215,alpha:1,quality:.1,knockout:!1});let uh=lv;var dA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uThickness;
uniform vec3 uColor;
uniform float uAlpha;
uniform float uKnockout;

uniform vec4 uInputClamp;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${ANGLE_STEP};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture(uTexture, clamp(displacedPos, uInputClamp.xy, uInputClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture(uTexture, vTextureCoord);
    vec4 contentColor = sourceColor * float(uKnockout < 0.5);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    finalColor = contentColor + outlineColor;
}
`,pA=`struct OutlineUniforms {
  uThickness:vec2<f32>,
  uColor:vec3<f32>,
  uAlpha:f32,
  uAngleStep:f32,
  uKnockout:f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> outlineUniforms : OutlineUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let sourceColor: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let contentColor: vec4<f32> = sourceColor * (1. - outlineUniforms.uKnockout);
  
  let outlineAlpha: f32 = outlineUniforms.uAlpha * outlineMaxAlphaAtPos(uv) * (1. - sourceColor.a);
  let outlineColor: vec4<f32> = vec4<f32>(vec3<f32>(outlineUniforms.uColor) * outlineAlpha, outlineAlpha);
  
  return contentColor + outlineColor;
}

fn outlineMaxAlphaAtPos(uv: vec2<f32>) -> f32 {
  let thickness = outlineUniforms.uThickness;

  if (thickness.x == 0. || thickness.y == 0.) {
    return 0.;
  }
  
  let angleStep = outlineUniforms.uAngleStep;

  var displacedColor: vec4<f32>;
  var displacedPos: vec2<f32>;

  var maxAlpha: f32 = 0.;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.; angle <= DOUBLE_PI; angle += angleStep)
  {
    displaced.x = uv.x + thickness.x * cos(angle);
    displaced.y = uv.y + thickness.y * sin(angle);
    curColor = textureSample(uTexture, uSampler, clamp(displaced, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
    maxAlpha = max(maxAlpha, curColor.a);
  }

  return maxAlpha;
}

const DOUBLE_PI: f32 = 3.14159265358979323846264 * 2.;`,mA=Object.defineProperty,gA=(s,t,i)=>t in s?mA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Pi=(s,t,i)=>(gA(s,typeof t!="symbol"?t+"":t,i),i);const ro=class Gi extends ji{constructor(...t){let i=t[0]??{};typeof i=="number"&&(mt("6.0.0","OutlineFilter constructor params are now options object. See params: { thickness, color, quality, alpha, knockout }"),i={thickness:i},t[1]!==void 0&&(i.color=t[1]),t[2]!==void 0&&(i.quality=t[2]),t[3]!==void 0&&(i.alpha=t[3]),t[4]!==void 0&&(i.knockout=t[4])),i={...Gi.DEFAULT_OPTIONS,...i};const r=i.quality??.1,l=an.from({vertex:{source:so,entryPoint:"mainVertex"},fragment:{source:pA,entryPoint:"mainFragment"}}),u=Pn.from({vertex:io,fragment:dA.replace(/\$\{ANGLE_STEP\}/,Gi.getAngleStep(r).toFixed(7)),name:"outline-filter"});super({gpuProgram:l,glProgram:u,resources:{outlineUniforms:{uThickness:{value:new Float32Array(2),type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:i.alpha,type:"f32"},uAngleStep:{value:0,type:"f32"},uKnockout:{value:i.knockout?1:0,type:"f32"}}}}),Pi(this,"uniforms"),Pi(this,"_thickness"),Pi(this,"_quality"),Pi(this,"_color"),this.uniforms=this.resources.outlineUniforms.uniforms,this.uniforms.uAngleStep=Gi.getAngleStep(r),this._color=new Me,this.color=i.color??0,Object.assign(this,i)}apply(t,i,r,l){this.uniforms.uThickness[0]=this.thickness/i.source.width,this.uniforms.uThickness[1]=this.thickness/i.source.height,t.applyFilter(this,i,r,l)}static getAngleStep(t){return parseFloat((Math.PI*2/Math.max(t*Gi.MAX_SAMPLES,Gi.MIN_SAMPLES)).toFixed(7))}get thickness(){return this._thickness}set thickness(t){this._thickness=this.padding=t}get color(){return this._color.value}set color(t){this._color.setValue(t);const[i,r,l]=this._color.toArray();this.uniforms.uColor[0]=i,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=l}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get quality(){return this._quality}set quality(t){this._quality=t,this.uniforms.uAngleStep=Gi.getAngleStep(t)}get knockout(){return this.uniforms.uKnockout===1}set knockout(t){this.uniforms.uKnockout=t?1:0}};Pi(ro,"DEFAULT_OPTIONS",{thickness:1,color:0,alpha:1,quality:.1,knockout:!1});Pi(ro,"MIN_SAMPLES",1);Pi(ro,"MAX_SAMPLES",100);let ch=ro;var yA=`
precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uCenter;
uniform float uTime;
uniform float uSpeed;
uniform vec4 uWave;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159;

void main()
{
    float uAmplitude = uWave[0];
    float uWavelength = uWave[1];
    float uBrightness = uWave[2];
    float uRadius = uWave[3];

    float halfWavelength = uWavelength * 0.5 / uInputSize.x;
    float maxRadius = uRadius / uInputSize.x;
    float currentRadius = uTime * uSpeed / uInputSize.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            finalColor = texture(uTexture, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - uCenter / uInputSize.xy);
    dir.y *= uInputSize.y / uInputSize.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        finalColor = texture(uTexture, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );

    vec2 offset = diffUV * powDiff / uInputSize.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, uInputClamp.xy, uInputClamp.zw);
    vec4 color = texture(uTexture, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // finalColor = texture(uTexture, vTextureCoord + offset);

    color.rgb *= 1.0 + (uBrightness - 1.0) * p * fade;

    finalColor = color;
}
`,vA=`
struct ShockWaveUniforms {
    uTime: f32,
    uOffset: vec2<f32>,
    uSpeed: f32,
    uWave: vec4<f32>,
};

struct GlobalFilterUniforms {
    uInputSize:vec4<f32>,
    uInputPixel:vec4<f32>,
    uInputClamp:vec4<f32>,
    uOutputFrame:vec4<f32>,
    uGlobalFrame:vec4<f32>,
    uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> shockwaveUniforms : ShockWaveUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {

    let uTime = shockwaveUniforms.uTime;
    let uOffset = shockwaveUniforms.uOffset;
    let uSpeed = shockwaveUniforms.uSpeed;
    let uAmplitude = shockwaveUniforms.uWave[0];
    let uWavelength = shockwaveUniforms.uWave[1];
    let uBrightness = shockwaveUniforms.uWave[2];
    let uRadius = shockwaveUniforms.uWave[3];
    let halfWavelength: f32 = uWavelength * 0.5 / gfu.uInputSize.x;
    let maxRadius: f32 = uRadius / gfu.uInputSize.x;
    let currentRadius: f32 = uTime * uSpeed / gfu.uInputSize.x;
    var fade: f32 = 1.0;
    var returnColorOnly: bool = false;
    
    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            returnColorOnly = true;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }
    var dir: vec2<f32> = vec2<f32>(uv - uOffset / gfu.uInputSize.xy);
    dir.y *= gfu.uInputSize.y / gfu.uInputSize.x;

    let dist:f32 = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        returnColorOnly = true;
    }

    let diffUV: vec2<f32> = normalize(dir);
    let diff: f32 = (dist - currentRadius) / halfWavelength;
    let p: f32 = 1.0 - pow(abs(diff), 2.0);
    let powDiff: f32 = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );
    let offset: vec2<f32> = diffUV * powDiff / gfu.uInputSize.xy;
    // Do clamp :
    let coord: vec2<f32> = uv + offset;
    let clampedCoord: vec2<f32> = clamp(coord, gfu.uInputClamp.xy, gfu.uInputClamp.zw);

    var clampedColor: vec4<f32> = textureSample(uTexture, uSampler, clampedCoord);
    
    if (boolVec2(coord, clampedCoord)) 
    {
        clampedColor *= max(0.0, 1.0 - length(coord - clampedCoord));
    }
    // No clamp :
    var finalColor = clampedColor;

    return select(finalColor, textureSample(uTexture, uSampler, uv), returnColorOnly);
}

fn boolVec2(x: vec2<f32>, y: vec2<f32>) -> bool
{
    if (x.x == y.x && x.y == y.y)
    {
        return true;
    }
    
    return false;
}

const PI: f32 = 3.14159265358979323846264;
`,xA=Object.defineProperty,bA=(s,t,i)=>t in s?xA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Uh=(s,t,i)=>(bA(s,typeof t!="symbol"?t+"":t,i),i);const uv=class cv extends ji{constructor(...t){let i=t[0]??{};(Array.isArray(i)||"x"in i&&"y"in i)&&(mt("6.0.0","ShockwaveFilter constructor params are now options object. See params: { center, speed, amplitude, wavelength, brightness, radius, time }"),i={center:i,...t[1]},t[2]!==void 0&&(i.time=t[2])),i={...cv.DEFAULT_OPTIONS,...i};const r=an.from({vertex:{source:so,entryPoint:"mainVertex"},fragment:{source:vA,entryPoint:"mainFragment"}}),l=Pn.from({vertex:io,fragment:yA,name:"shockwave-filter"});super({gpuProgram:r,glProgram:l,resources:{shockwaveUniforms:{uTime:{value:i.time,type:"f32"},uCenter:{value:i.center,type:"vec2<f32>"},uSpeed:{value:i.speed,type:"f32"},uWave:{value:new Float32Array(4),type:"vec4<f32>"}}}}),Uh(this,"uniforms"),Uh(this,"time"),this.time=0,this.uniforms=this.resources.shockwaveUniforms.uniforms,Object.assign(this,i)}apply(t,i,r,l){this.uniforms.uTime=this.time,t.applyFilter(this,i,r,l)}get center(){return this.uniforms.uCenter}set center(t){Array.isArray(t)&&(t={x:t[0],y:t[1]}),this.uniforms.uCenter=t}get centerX(){return this.uniforms.uCenter.x}set centerX(t){this.uniforms.uCenter.x=t}get centerY(){return this.uniforms.uCenter.y}set centerY(t){this.uniforms.uCenter.y=t}get speed(){return this.uniforms.uSpeed}set speed(t){this.uniforms.uSpeed=t}get amplitude(){return this.uniforms.uWave[0]}set amplitude(t){this.uniforms.uWave[0]=t}get wavelength(){return this.uniforms.uWave[1]}set wavelength(t){this.uniforms.uWave[1]=t}get brightness(){return this.uniforms.uWave[2]}set brightness(t){this.uniforms.uWave[2]=t}get radius(){return this.uniforms.uWave[3]}set radius(t){this.uniforms.uWave[3]=t}};Uh(uv,"DEFAULT_OPTIONS",{center:{x:0,y:0},speed:500,amplitude:30,wavelength:160,brightness:1,radius:-1});let hh=uv;var _A=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uStrength;
uniform float uNoiseScale;
uniform float uOffsetX;
uniform float uOffsetY;
uniform float uOffsetZ;
uniform float uStep;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

//Noise from: https://www.shadertoy.com/view/4sc3z2
const vec3 MOD3 = vec3(.1031,.11369,.13787);
vec3 hash33(vec3 p3)
{
	p3 = fract(p3 * MOD3);
    p3 += dot(p3, p3.yxz+19.19);
    return -1.0 + 2.0 * fract(vec3((p3.x + p3.y)*p3.z, (p3.x+p3.z)*p3.y, (p3.y+p3.z)*p3.x));
}

float simplex_noise(vec3 p)
{
    const float K1 = 0.333333333;
    const float K2 = 0.166666667;
    
    vec3 i = floor(p + (p.x + p.y + p.z) * K1);
    vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);
    
    vec3 e = step(vec3(0.0), d0 - d0.yzx);
	vec3 i1 = e * (1.0 - e.zxy);
	vec3 i2 = 1.0 - e.zxy * (1.0 - e);
    
    vec3 d1 = d0 - (i1 - 1.0 * K2);
    vec3 d2 = d0 - (i2 - 2.0 * K2);
    vec3 d3 = d0 - (1.0 - 3.0 * K2);
    
    vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0);
    vec4 n = h * h * h * h * vec4(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.0)));
    
    return dot(vec4(31.316), n);
}

void main(void)
{
    float noise = simplex_noise(
                    vec3(vTextureCoord*uNoiseScale+vec2(uOffsetX, uOffsetY), uOffsetZ)
                ) * 0.5 + 0.5;

    noise += 2.0 * uStrength - 1.0;
    noise = clamp(noise, 0.0, 1.0);

    if (uStep > 0.0) {  //step > 0.5
        noise = 1.0 - step(noise, uStep);
    }

    finalColor = texture(uTexture, vTextureCoord) * noise;
}
`,SA=`struct SimplexUniforms {
  uStrength:f32,
  uNoiseScale:f32,
  uOffsetX:f32,
  uOffsetY:f32,
  uOffsetZ:f32,
  uStep:f32
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> simplexUniforms : SimplexUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  var noise: f32 = simplex_noise(vec3<f32>(uv * simplexUniforms.uNoiseScale + vec2<f32>(simplexUniforms.uOffsetX, simplexUniforms.uOffsetY), simplexUniforms.uOffsetZ)) * 0.5 + 0.5;
	noise = noise + (2. * simplexUniforms.uStrength - 1.);
	noise = clamp(noise, 0.0, 1.0);
	if (simplexUniforms.uStep > 0.0) {
		noise = 1. - step(noise, simplexUniforms.uStep);
	}
	return textureSample(uTexture, uSampler, uv) * noise;
}

const MOD3: vec3<f32> = vec3<f32>(0.1031, 0.11369, 0.13787);
fn hash33(p3: vec3<f32>) -> vec3<f32> {
	var p3_var = p3;
	p3_var = fract(p3_var * MOD3);
	p3_var = p3_var + (dot(p3_var, p3_var.yxz + 19.19));
	return -1. + 2. * fract(vec3<f32>((p3_var.x + p3_var.y) * p3_var.z, (p3_var.x + p3_var.z) * p3_var.y, (p3_var.y + p3_var.z) * p3_var.x));
} 

fn simplex_noise(p: vec3<f32>) -> f32 {
	let K1: f32 = 0.33333334;
	let K2: f32 = 0.16666667;
	let i: vec3<f32> = floor(p + (p.x + p.y + p.z) * K1);
	let d0: vec3<f32> = p - (i - (i.x + i.y + i.z) * K2);
	let e: vec3<f32> = step(vec3<f32>(0.), d0 - d0.yzx);
	let i1: vec3<f32> = e * (1. - e.zxy);
	let i2: vec3<f32> = 1. - e.zxy * (1. - e);
	let d1: vec3<f32> = d0 - (i1 - 1. * K2);
	let d2: vec3<f32> = d0 - (i2 - 2. * K2);
	let d3: vec3<f32> = d0 - (1. - 3. * K2);
	let h: vec4<f32> = max(vec4<f32>(0.6) - vec4<f32>(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), vec4<f32>(0.0));
	let n: vec4<f32> = h * h * h * h * vec4<f32>(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.)));
	return dot(vec4<f32>(31.316), n);
} `,wA=Object.defineProperty,AA=(s,t,i)=>t in s?wA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,CA=(s,t,i)=>(AA(s,t+"",i),i);const hv=class fv extends ji{constructor(t){t={...fv.defaults,...t};const i=an.from({vertex:{source:so,entryPoint:"mainVertex"},fragment:{source:SA,entryPoint:"mainFragment"}}),r=Pn.from({vertex:io,fragment:_A,name:"simplex-filter"});super({gpuProgram:i,glProgram:r,resources:{simplexUniforms:{uStrength:{value:(t==null?void 0:t.strength)??0,type:"f32"},uNoiseScale:{value:(t==null?void 0:t.noiseScale)??0,type:"f32"},uOffsetX:{value:(t==null?void 0:t.offsetX)??0,type:"f32"},uOffsetY:{value:(t==null?void 0:t.offsetY)??0,type:"f32"},uOffsetZ:{value:(t==null?void 0:t.offsetZ)??0,type:"f32"},uStep:{value:(t==null?void 0:t.step)??0,type:"f32"}}}})}get strength(){return this.resources.simplexUniforms.uniforms.uStrength}set strength(t){this.resources.simplexUniforms.uniforms.uStrength=t}get noiseScale(){return this.resources.simplexUniforms.uniforms.uNoiseScale}set noiseScale(t){this.resources.simplexUniforms.uniforms.uNoiseScale=t}get offsetX(){return this.resources.simplexUniforms.uniforms.uOffsetX}set offsetX(t){this.resources.simplexUniforms.uniforms.uOffsetX=t}get offsetY(){return this.resources.simplexUniforms.uniforms.uOffsetY}set offsetY(t){this.resources.simplexUniforms.uniforms.uOffsetY=t}get offsetZ(){return this.resources.simplexUniforms.uniforms.uOffsetZ}set offsetZ(t){this.resources.simplexUniforms.uniforms.uOffsetZ=t}get step(){return this.resources.simplexUniforms.uniforms.uStep}set step(t){this.resources.simplexUniforms.uniforms.uStep=t}};CA(hv,"defaults",{strength:.5,noiseScale:10,offsetX:0,offsetY:0,offsetZ:0,step:-1});let fh=hv;function Bh(s,t,i,r){switch(r=="-1"&&(r=TA()),t==-1&&(t=Math.floor(Math.random()*5)),t){case 1:{s.clear().rect(-i,-i,2*i,2*i).fill(r);break}case 2:{const c=2*i,f=Math.sqrt(3)/2*c,d=[0,0-2/3*f],m=[0-c/2,0+f/3],g=[0+c/2,0+f/3];s.clear().poly([...d,...m,...g]).fill(r);break}case 3:{const f=1.3*i,d=.7*i,m=[];for(let g=0;g<5*2;g++){const v=Math.PI/5*g,_=g%2===0?f:d,x=0+Math.cos(v)*_,C=0+Math.sin(v)*_;m.push(x,C)}s.clear().poly(m).fill(r);break}case 4:{const c=1.1*i,f=.8*i,d=1*i,m=1.5*i;s.clear().bezierCurveTo(0,0-f,0-c,0-f,0-c,0).bezierCurveTo(0-c,0+f,0,0+d,0,0+m).bezierCurveTo(0,0+d,0+c,0+f,0+c,0).bezierCurveTo(0+c,0-f,0,0-f,0,0).fill(r);break}default:s.clear().circle(0,0,i).fill(r)}return[t,r]}function TA(){let s,t;do{const i=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),l=Math.floor(Math.random()*256);t=.299*i+.587*r+.114*l,s=`#${i.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}`}while(t<180);return s}class la{constructor(t){this.layer=t.layers??4,this.numChildren=t.numChildren??6,this.shape_num=t.shape??0,this.radius=t.radius??10,this.colour=t.colour??"white",this.distance=(this.radius+2)*Math.pow(3,this.layer-1),this.children=[],this.container=new Gn,this.moveControl=-1,this.motionFunc=function(r){},this.setMotionFunc(t.motionFunc??0),this.shape=new aa,this.container.addChild(this.shape);const i=Bh(this.shape,this.shape_num,this.radius,this.colour);if(this.shape_num=Number(i[0]),this.colour=String(i[1]),this.shape.filters=[],t.filters&&this.addFilters(t.filters),this.layer>1){const r={...t};r.layers=this.layer-1;for(let l=0;l<this.numChildren;l++){const u=new la(r);this.children.push(u);const c=2*Math.PI/this.numChildren;u.container.x=this.distance*Math.cos(l*c),u.container.y=this.distance*Math.sin(l*c),this.container.addChild(u.container)}}}destroy(){for(let t=0;t<this.children.length;t++)this.children[t].destroy();this.shape.destroy,this.container.destroy}setMotionFunc(t){switch(t){case 1:{this.motionFunc=function(i){const r=2*Math.PI/this.numChildren;for(let l=0;l<this.children.length;l++){const u=this.children[l].container,c=2*this.distance/3*Math.cos(l*r),f=2*this.distance/3*Math.sin(l*r),d=Math.atan2(u.y-f,u.x-c);u.x=c+this.distance/3*Math.cos(d+7*this.layer*i),u.y=f+this.distance/3*Math.sin(d+7*this.layer*i)}this.container.rotation+=this.layer*this.layer*i};break}case 2:{this.motionFunc=function(i){const r=2*Math.PI/this.numChildren;for(let u=0;u<this.children.length;u++){const c=this.children[u].container,f=-1*u*r,d=3/2*Math.PI/this.distance,m=1/2*Math.PI;var l=d*(c.x*Math.cos(f)-c.y*Math.sin(f))+m;l=l+10*this.layer*this.moveControl*i,l<0?this.moveControl=1:l>2*Math.PI&&(this.moveControl=-1),c.x=((l-m)*Math.cos(f)+this.moveControl*Math.sin(l)*Math.sin(f))/d,c.y=((l-m)*-1*Math.sin(f)+this.moveControl*Math.sin(l)*Math.cos(f))/d}this.container.rotation+=this.layer*this.layer/10*i};break}case 3:{this.motionFunc=function(i){const r=2*Math.PI/this.numChildren,l=(.5+8/Math.pow(this.layer,2))*this.distance,u=1/this.layer*this.distance;for(let c=0;c<this.children.length;c++){const d=this.children[c].container,m=Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y,2));m>=l?this.moveControl=-1:m<=u&&(this.moveControl=1);const g=30*(this.moveControl*Math.pow(this.distance,2/3)+this.layer)*i;d.x+=g*Math.cos(c*r),d.y+=g*Math.sin(c*r)}this.container.rotation+=this.layer*this.layer*i};break}default:this.motionFunc=function(i){const r=2*Math.PI/this.numChildren,l=this.distance,u=1/this.layer*this.distance;for(let c=0;c<this.children.length;c++){const f=this.children[c],d=f.container;Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y,2))>=l?f.moveControl=-1:Math.sqrt(Math.pow(d.x,2)+Math.pow(d.y,2))<=u&&(f.moveControl=1);const m=30*(f.moveControl*Math.pow(this.distance,2/3)+this.layer)*i;d.x+=m*Math.cos(c*r),d.y+=m*Math.sin(c*r)}this.container.rotation+=this.layer*this.layer*i}}}setShape({shape_num:t,colour:i}){this.colour=i??this.colour,this.shape_num=t??this.shape_num;const r=Bh(this.shape,this.shape_num,this.radius,this.colour);this.shape_num=Number(r[0]),this.colour=String(r[1]);for(let l=0;l<this.children.length;l++)this.children[l].setShape({shape_num:t,colour:i})}addFilters(t){const i=this.shape.filters,r=Array.isArray(i)?[...i]:i?[i]:[];for(const l of t)switch(l){case"outline":{r.some(u=>u instanceof ch)||r.push(new ch);break}case"glow":{r.some(u=>u instanceof uh)||r.push(new uh);break}}this.shape.filters=r;for(const l of this.children)l.addFilters(t)}removeFilters(t){const i=this.shape.filters;var r=Array.isArray(i)?i:i?[i]:[];for(const l of t)switch(l){case"outline":{r=r.filter(u=>!(u instanceof ch));break}case"glow":{r=r.filter(u=>!(u instanceof uh));break}}this.shape.filters=r;for(const l of this.children)l.removeFilters(t)}motion(t){if(this.motionFunc(t),this.layer!=1)for(let i=0;i<this.children.length;i++)this.children[i].motion(t)}}var MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dv={exports:{}};(function(s,t){(function(){var i,r;r=function(l){return s.exports=l},i={linear:function(l,u,c,f){return c*l/f+u},easeInQuad:function(l,u,c,f){return c*(l/=f)*l+u},easeOutQuad:function(l,u,c,f){return-c*(l/=f)*(l-2)+u},easeInOutQuad:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l+u:-c/2*(--l*(l-2)-1)+u},easeInCubic:function(l,u,c,f){return c*(l/=f)*l*l+u},easeOutCubic:function(l,u,c,f){return c*((l=l/f-1)*l*l+1)+u},easeInOutCubic:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l*l+u:c/2*((l-=2)*l*l+2)+u},easeInQuart:function(l,u,c,f){return c*(l/=f)*l*l*l+u},easeOutQuart:function(l,u,c,f){return-c*((l=l/f-1)*l*l*l-1)+u},easeInOutQuart:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l*l*l+u:-c/2*((l-=2)*l*l*l-2)+u},easeInQuint:function(l,u,c,f){return c*(l/=f)*l*l*l*l+u},easeOutQuint:function(l,u,c,f){return c*((l=l/f-1)*l*l*l*l+1)+u},easeInOutQuint:function(l,u,c,f){return(l/=f/2)<1?c/2*l*l*l*l*l+u:c/2*((l-=2)*l*l*l*l+2)+u},easeInSine:function(l,u,c,f){return-c*Math.cos(l/f*(Math.PI/2))+c+u},easeOutSine:function(l,u,c,f){return c*Math.sin(l/f*(Math.PI/2))+u},easeInOutSine:function(l,u,c,f){return-c/2*(Math.cos(Math.PI*l/f)-1)+u},easeInExpo:function(l,u,c,f){return l===0?u:c*Math.pow(2,10*(l/f-1))+u},easeOutExpo:function(l,u,c,f){return l===f?u+c:c*(-Math.pow(2,-10*l/f)+1)+u},easeInOutExpo:function(l,u,c,f){return(l/=f/2)<1?c/2*Math.pow(2,10*(l-1))+u:c/2*(-Math.pow(2,-10*--l)+2)+u},easeInCirc:function(l,u,c,f){return-c*(Math.sqrt(1-(l/=f)*l)-1)+u},easeOutCirc:function(l,u,c,f){return c*Math.sqrt(1-(l=l/f-1)*l)+u},easeInOutCirc:function(l,u,c,f){return(l/=f/2)<1?-c/2*(Math.sqrt(1-l*l)-1)+u:c/2*(Math.sqrt(1-(l-=2)*l)+1)+u},easeInElastic:function(l,u,c,f){var d,m,g;return g=1.70158,m=0,d=c,l===0||(l/=f),m||(m=f*.3),d<Math.abs(c)?(d=c,g=m/4):g=m/(2*Math.PI)*Math.asin(c/d),-(d*Math.pow(2,10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m))+u},easeOutElastic:function(l,u,c,f){var d,m,g;return g=1.70158,m=0,d=c,l===0||(l/=f),m||(m=f*.3),d<Math.abs(c)?(d=c,g=m/4):g=m/(2*Math.PI)*Math.asin(c/d),d*Math.pow(2,-10*l)*Math.sin((l*f-g)*(2*Math.PI)/m)+c+u},easeInOutElastic:function(l,u,c,f){var d,m,g;return g=1.70158,m=0,d=c,l===0||(l/=f/2),m||(m=f*(.3*1.5)),d<Math.abs(c)?(d=c,g=m/4):g=m/(2*Math.PI)*Math.asin(c/d),l<1?-.5*(d*Math.pow(2,10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m))+u:d*Math.pow(2,-10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m)*.5+c+u},easeInBack:function(l,u,c,f,d){return d===void 0&&(d=1.70158),c*(l/=f)*l*((d+1)*l-d)+u},easeOutBack:function(l,u,c,f,d){return d===void 0&&(d=1.70158),c*((l=l/f-1)*l*((d+1)*l+d)+1)+u},easeInOutBack:function(l,u,c,f,d){return d===void 0&&(d=1.70158),(l/=f/2)<1?c/2*(l*l*(((d*=1.525)+1)*l-d))+u:c/2*((l-=2)*l*(((d*=1.525)+1)*l+d)+2)+u},easeInBounce:function(l,u,c,f){var d;return d=i.easeOutBounce(f-l,0,c,f),c-d+u},easeOutBounce:function(l,u,c,f){return(l/=f)<1/2.75?c*(7.5625*l*l)+u:l<2/2.75?c*(7.5625*(l-=1.5/2.75)*l+.75)+u:l<2.5/2.75?c*(7.5625*(l-=2.25/2.75)*l+.9375)+u:c*(7.5625*(l-=2.625/2.75)*l+.984375)+u},easeInOutBounce:function(l,u,c,f){var d;return l<f/2?(d=i.easeInBounce(l*2,0,c,f),d*.5+u):(d=i.easeOutBounce(l*2-f,0,c,f),d*.5+c*.5+u)}},r(i)}).call(MA)})(dv);var RA=dv.exports;const vy=EA(RA);function ao(s,t){if(s){if(typeof s=="function")return s;if(typeof s=="string")return vy[s]}else return vy[t]}class OA{constructor(t){this.viewport=t,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new It(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=t=>this.handleWheel(t),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){var t;(t=this.viewport.options.events.domElement)==null||t.removeEventListener("wheel",this.wheelFunction)}down(t){if(!(this.viewport.pause||!this.viewport.visible)){if(t.pointerType==="mouse"?this.isMouseDown=!0:this.get(t.pointerId)||this.touches.push({id:t.pointerId,last:null}),this.count()===1){this.last=t.global.clone();const i=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!i||!i.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(t){return Math.abs(t)>=this.viewport.threshold}move(t){if(this.viewport.pause||!this.viewport.visible)return;const i=this.viewport.plugins.move(t);if(this.clickedAvailable&&this.last){const r=t.global.x-this.last.x,l=t.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(l))&&(this.clickedAvailable=!1)}i&&this.viewport.options.stopPropagation&&t.stopPropagation()}up(t){if(this.viewport.pause||!this.viewport.visible)return;t.pointerType==="mouse"&&(this.isMouseDown=!1),t.pointerType!=="mouse"&&this.remove(t.pointerId);const i=this.viewport.plugins.up(t);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),i&&this.viewport.options.stopPropagation&&t.stopPropagation()}getPointerPosition(t){const i=new At;return this.viewport.options.events.mapPositionToPoint(i,t.clientX,t.clientY),i}handleWheel(t){if(this.viewport.pause||!this.viewport.visible)return;const i=this.viewport.toLocal(this.getPointerPosition(t));this.viewport.left<=i.x&&i.x<=this.viewport.right&&this.viewport.top<=i.y&&i.y<=this.viewport.bottom&&this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(t){for(const i of this.touches)if(i.id===t)return i;return null}remove(t){for(let i=0;i<this.touches.length;i++)if(this.touches[i].id===t){this.touches.splice(i,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const Xr=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];let zA=class{constructor(t){this.viewport=t,this.list=[],this.plugins={}}add(t,i,r=Xr.length){const l=this.plugins[t];l&&l.destroy(),this.plugins[t]=i;const u=Xr.indexOf(t);u!==-1&&Xr.splice(u,1),Xr.splice(r,0,t),this.sort()}get(t,i){var r;return i&&(r=this.plugins[t])!=null&&r.paused?null:this.plugins[t]}update(t){for(const i of this.list)i.update(t)}resize(){for(const t of this.list)t.resize()}reset(){for(const t of this.list)t.reset()}removeAll(){this.list.forEach(t=>{t.destroy()}),this.plugins={},this.sort()}remove(t){var i;this.plugins[t]&&((i=this.plugins[t])==null||i.destroy(),delete this.plugins[t],this.viewport.emit("plugin-remove",t),this.sort())}pause(t){var i;(i=this.plugins[t])==null||i.pause()}resume(t){var i;(i=this.plugins[t])==null||i.resume()}sort(){this.list=[];for(const t of Xr)this.plugins[t]&&this.list.push(this.plugins[t])}down(t){let i=!1;for(const r of this.list)r.down(t)&&(i=!0);return i}move(t){let i=!1;for(const r of this.viewport.plugins.list)r.move(t)&&(i=!0);return i}up(t){let i=!1;for(const r of this.list)r.up(t)&&(i=!0);return i}wheel(t){let i=!1;for(const r of this.list)r.wheel(t)&&(i=!0);return i}},Ke=class{constructor(t){this.parent=t,this.paused=!1}destroy(){}down(t){return!1}move(t){return!1}up(t){return!1}wheel(t){return!1}update(t){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}};const DA={removeOnInterrupt:!1,ease:"linear",time:1e3};class UA extends Ke{constructor(t,i={}){super(t),this.startWidth=null,this.startHeight=null,this.deltaWidth=null,this.deltaHeight=null,this.width=null,this.height=null,this.time=0,this.options=Object.assign({},DA,i),this.options.ease=ao(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(t){if(this.paused)return;this.time+=t;const i=new At(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,l=this.parent.height;this.complete(),(r!==this.parent.width||l!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:i,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const l=this.startWidth,u=this.deltaWidth;this.parent.fitWidth(l+u*r,this.keepCenter,this.height===null)}if(this.height!==null){const l=this.startHeight,u=this.deltaHeight;this.parent.fitHeight(l+u*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const l=this.startX,u=this.startY,c=this.deltaX,f=this.deltaY,d=new At(this.parent.x,this.parent.y);this.parent.moveCenter(l+c*r,u+f*r),this.parent.emit("moved",{viewport:this.parent,original:d,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:i,type:"animate"})}}}const BA={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};let NA=class extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},BA,i),this.ease=ao(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(t){if(!this.paused){if(this.bounce(),this.toX){const i=this.toX;i.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),i.time>=this.options.time?(this.parent.x=i.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(i.time,i.start,i.delta,this.options.time)}if(this.toY){const i=this.toY;i.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),i.time>=this.options.time?(this.parent.y=i.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(i.time,i.start,i.delta,this.options.time)}}}calcUnderflowX(){let t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}calcUnderflowY(){let t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}oob(){const t=this.options.bounceBox;if(t){const i=typeof t.x>"u"?0:t.x,r=typeof t.y>"u"?0:t.y,l=typeof t.width>"u"?this.parent.worldWidth:t.width,u=typeof t.height>"u"?this.parent.worldHeight:t.height;return{left:this.parent.left<i,right:this.parent.right>l,top:this.parent.top<r,bottom:this.parent.bottom>u,topLeft:new At(i*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new At(l*this.parent.scale.x-this.parent.screenWidth,u*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new At(0,0),bottomRight:new At(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var t,i;if(this.paused)return;let r,l=this.parent.plugins.get("decelerate",!0);l&&(l.x||l.y)&&(l.x&&l.percentChangeX===((t=l.options)==null?void 0:t.friction)||l.y&&l.percentChangeY===((i=l.options)==null?void 0:i.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(l.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(l.percentChangeY=this.options.friction));const u=this.parent.plugins.get("drag",!0)||{},c=this.parent.plugins.get("pinch",!0)||{};if(l=l||{},!(u!=null&&u.active)&&!(c!=null&&c.active)&&(!this.toX||!this.toY)&&(!l.x||!l.y)){r=r||this.oob();const f=r.topLeft,d=r.bottomRight;if(!this.toX&&!l.x){let m=null;r.left&&this.left?m=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-f.x:r.right&&this.right&&(m=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-d.x),m!==null&&this.parent.x!==m&&(this.toX={time:0,start:this.parent.x,delta:m-this.parent.x,end:m},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!l.y){let m=null;r.top&&this.top?m=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-f.y:r.bottom&&this.bottom&&(m=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-d.y),m!==null&&this.parent.y!==m&&(this.toY={time:0,start:this.parent.y,delta:m-this.parent.y,end:m},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}};const HA={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class kA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},HA,i),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="none"?this.noUnderflow=!0:t==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=t.indexOf("left")!==-1?-1:t.indexOf("right")!==-1?1:0,this.underflowY=t.indexOf("top")!==-1?-1:t.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const t=new At(this.parent.x,this.parent.y),i=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,i.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,i.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,i.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,i.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const GA={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class PA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},GA,i),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&t<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&t>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&i<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&i>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const t={x:null,y:null},i={x:null,y:null};if(typeof this.options.minScale=="number")t.x=this.options.minScale,t.y=this.options.minScale;else if(this.options.minScale!==null){const u=this.options.minScale;t.x=typeof u.x>"u"?null:u.x,t.y=typeof u.y>"u"?null:u.y}if(typeof this.options.maxScale=="number")i.x=this.options.maxScale,i.y=this.options.maxScale;else if(this.options.maxScale!==null){const u=this.options.maxScale;i.x=typeof u.x>"u"?null:u.x,i.y=typeof u.y>"u"?null:u.y}let r=this.parent.scale.x,l=this.parent.scale.y;t.x!==null&&r<t.x&&(r=t.x),i.x!==null&&r>i.x&&(r=i.x),t.y!==null&&l<t.y&&(l=t.y),i.y!==null&&l>i.y&&(l=i.y),(r!==this.parent.scale.x||l!==this.parent.scale.y)&&(this.parent.scale.set(r,l),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const LA={friction:.98,bounce:.8,minSpeed:.01},ci=16;class YA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},LA,i),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const t=this.parent.input.count();return(t===1||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(t){if(this.saved.length){const i=this.saved[this.saved.length-1];t.type==="clamp-x"&&t.original?i.x===t.original.x&&(i.x=this.parent.x):t.type==="clamp-y"&&t.original&&i.y===t.original.y&&(i.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const t=performance.now();for(const i of this.saved)if(i.time>=t-100){const r=t-i.time;this.x=(this.parent.x-i.x)/r,this.y=(this.parent.y-i.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(t){t=t||{},typeof t.x<"u"&&(this.x=t.x,this.percentChangeX=this.options.friction),typeof t.y<"u"&&(this.y=t.y,this.percentChangeY=this.options.friction)}update(t){if(this.paused)return;const i=this.x||this.y,r=this.timeSinceRelease,l=this.timeSinceRelease+t;if(this.x){const u=this.percentChangeX,c=Math.log(u);this.parent.x+=this.x*ci/c*(Math.pow(u,l/ci)-Math.pow(u,r/ci)),this.x*=Math.pow(this.percentChangeX,t/ci)}if(this.y){const u=this.percentChangeY,c=Math.log(u);this.parent.y+=this.y*ci/c*(Math.pow(u,l/ci)-Math.pow(u,r/ci)),this.y*=Math.pow(this.percentChangeY,t/ci)}this.timeSinceRelease+=t,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),i&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const XA={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};let jA=class extends Ke{constructor(t,i={}){super(t),this.windowEventHandlers=[],this.options=Object.assign({},XA,i),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){const i=l=>{t.includes(l.code)&&(this.keyIsPressed=!0)},r=l=>{t.includes(l.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",i)}addWindowEventHandler(t,i){typeof window>"u"||(window.addEventListener(t,i),this.windowEventHandlers.push({event:t,handler:i}))}destroy(){typeof window>"u"||this.windowEventHandlers.forEach(({event:t,handler:i})=>{window.removeEventListener(t,i)})}mouseButtons(t){!t||t==="all"?this.mouse=[!0,!0,!0]:this.mouse=[t.indexOf("left")!==-1,t.indexOf("middle")!==-1,t.indexOf("right")!==-1]}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="center"?(this.underflowX=0,this.underflowY=0):(t.includes("left")?this.underflowX=-1:t.includes("right")?this.underflowX=1:this.underflowX=0,t.includes("top")?this.underflowY=-1:t.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(t){const i=t.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!i||this.mouse[t.button]))}checkKeyPress(t){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&t.data.pointerType==="touch"}down(t){return this.paused||!this.options.pressDrag?!1:this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.global.x,y:t.global.y},(this.parent.parent||this.parent).toLocal(this.last,void 0,this.last),this.current=t.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(t){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===t.data.pointerId){const i=t.global.x,r=t.global.y,l=this.parent.input.count();if(l===1||l>1&&!this.parent.plugins.get("pinch",!0)){const u={x:i,y:r};(this.parent.parent||this.parent).toLocal(u,void 0,u);const c=u.x-this.last.x,f=u.y-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(c)||this.yDirection&&this.parent.input.checkThreshold(f))return this.xDirection&&(this.parent.x+=(u.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(u.y-this.last.y)*this.options.factor),this.last=u,this.moved||this.parent.emit("drag-start",{event:t,screen:new At(this.last.x,this.last.y),world:this.parent.toWorld(new At(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}else this.moved=!1}return!1}up(t){if(this.paused)return!1;const i=this.parent.input.touches;if(i.length===1){const r=i[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new At(this.last.x,this.last.y);return(this.parent.parent||this.parent).toGlobal(r,r,!0),this.parent.emit("drag-end",{event:t,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(t){if(this.paused)return!1;if(this.options.wheel){const i=this.parent.plugins.get("wheel",!0);if(!i||!i.options.wheelZoom&&!t.ctrlKey){const r=t.deltaMode?this.options.lineHeight:1,l=[t.deltaX,t.deltaY],[u,c]=this.options.wheelSwapAxes?l.reverse():l;return this.xDirection&&(this.parent.x+=u*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=c*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),this.parent.options.stopPropagation&&t.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const t=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}};const FA={speed:0,acceleration:null,radius:null};class qA extends Ke{constructor(t,i,r={}){super(t),this.target=i,this.options=Object.assign({},FA,r),this.velocity={x:0,y:0}}update(t){if(this.paused)return;const i=this.parent.center;let r=this.target.x,l=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-i.y,2)+Math.pow(this.target.x-i.x,2))>this.options.radius){const f=Math.atan2(this.target.y-i.y,this.target.x-i.x);r=this.target.x-Math.cos(f)*this.options.radius,l=this.target.y-Math.sin(f)*this.options.radius}else return;const u=r-i.x,c=l-i.y;if(u||c)if(this.options.speed)if(this.options.acceleration){const f=Math.atan2(l-i.y,r-i.x),d=Math.sqrt(Math.pow(u,2)+Math.pow(c,2));if(d){const m=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);d>m?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*t,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*t,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const g=Math.cos(f)*this.velocity.x,v=Math.sin(f)*this.velocity.y,_=Math.abs(g)>Math.abs(u)?r:i.x+g,x=Math.abs(v)>Math.abs(c)?l:i.y+v;this.parent.moveCenter(_,x),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const f=Math.atan2(l-i.y,r-i.x),d=Math.cos(f)*this.options.speed,m=Math.sin(f)*this.options.speed,g=Math.abs(d)>Math.abs(u)?r:i.x+d,v=Math.abs(m)>Math.abs(c)?l:i.y+m;this.parent.moveCenter(g,v),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,l),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const VA={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};let IA=class extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},VA,i),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const t=this.options.distance;t!==null?(this.left=t,this.top=t,this.right=this.parent.screenWidth-t,this.bottom=this.parent.screenHeight-t):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(t){if(this.paused||t.pointerType!=="mouse"&&t.pointerId!==1||!this.options.allowButtons&&t.buttons!==0)return!1;const i=t.global.x,r=t.global.y;if(this.radiusSquared){const l=this.parent.toScreen(this.parent.center);if(Math.pow(l.x-i,2)+Math.pow(l.y-r,2)>=this.radiusSquared){const u=Math.atan2(l.y-r,l.x-i);this.options.linear?(this.horizontal=Math.round(Math.cos(u))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(u))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(u)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(u)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&i<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&i>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}};const WA={noDrag:!1,percent:1,center:null,factor:1,axis:"all"},ZA=new At;class $A extends Ke{constructor(t,i={}){super(t),this.active=!1,this.pinching=!1,this.moved=!1,this.options=Object.assign({},WA,i)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(t){if(this.paused||!this.active)return!1;const{x:i,y:r}=(this.parent.parent||this.parent).toLocal(t.global,void 0,ZA),l=this.parent.input.touches;if(l.length>=2){const u=l[0],c=l[1],f=u.last&&c.last?Math.sqrt(Math.pow(c.last.x-u.last.x,2)+Math.pow(c.last.y-u.last.y,2)):null;if(u.id===t.pointerId?u.last={x:i,y:r,data:t}:c.id===t.pointerId&&(c.last={x:i,y:r,data:t}),f){let d;const m=new At(u.last.x+(c.last.x-u.last.x)/2,u.last.y+(c.last.y-u.last.y)/2);this.options.center||(d=this.parent.toLocal(m,this.parent.parent||this.parent));let g=Math.sqrt(Math.pow(c.last.x-u.last.x,2)+Math.pow(c.last.y-u.last.y,2));g=g===0?g=1e-10:g;const v=(1-f/g)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=v),this.isAxisY()&&(this.parent.scale.y+=v),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:m});const _=this.parent.plugins.get("clamp-zoom",!0);if(_&&_.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const x=(this.parent.parent||this.parent).toLocal(d,this.parent);this.parent.x+=(m.x-x.x)*this.options.factor,this.parent.y+=(m.y-x.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(m.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(m.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=m,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const QA={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};let KA=class extends Ke{constructor(t,i,r,l={}){super(t),this.options=Object.assign({},QA,l),this.ease=ao(l.ease,"easeInOutSine"),this.x=i,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}return!1}update(t){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const i=this.snapping;i.time+=t;let r,l,u;const c=this.startX,f=this.startY,d=this.deltaX,m=this.deltaY;if(i.time>this.options.time)r=!0,l=c+d,u=f+m;else{const g=this.ease(i.time,0,1,this.options.time);l=c+d*g,u=f+m*g}this.options.topLeft?this.parent.moveCorner(l,u):this.parent.moveCenter(l,u),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const i=this.options.topLeft?this.parent.corner:this.parent.center;(i.x!==this.x||i.y!==this.y)&&this.snapStart()}}};const JA={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class t3 extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},JA,i),this.ease=ao(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=t.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=t.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(t.container.scale.x=this.xScale,t.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):i.forceStart&&this.createSnapping()}createSnapping(){const t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,l=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:i,deltaX:r-t,deltaY:l-i},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(t){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let i;if(!this.options.center&&!this.options.noMove&&(i=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=t,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const u=this.snapping,c=this.ease(u.time,u.startX,u.deltaX,this.options.time),f=this.ease(u.time,u.startY,u.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/c,this.parent.scale.y=this.parent.screenHeight/f}const l=this.parent.plugins.get("clamp-zoom",!0);l&&l.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(i))}}resume(){this.snapping=null,super.resume()}}const e3={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};let n3=class extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},e3,i),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){typeof window>"u"||(window.addEventListener("keydown",i=>{t.includes(i.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",i=>{t.includes(i.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const t=this.smoothingCenter,i=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x+=i.x),this.isAxisY()&&(this.parent.scale.y+=i.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const l=this.parent.plugins.get("clamp-zoom",!0);if(l&&l.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const u=this.parent.parent||this.parent;u.toLocal(r,this.parent,r);const c=u.toLocal(t);this.parent.x+=c.x-r.x,this.parent.y+=c.y-r.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,typeof this.options.smooth=="number"&&this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(t){if(this.paused)return;const i=this.parent.input.getPointerPosition(t),r=-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/200,l=Math.pow(2,(1+this.options.percent)*r);let u;this.options.center||(u=this.parent.toLocal(i)),this.isAxisX()&&(this.parent.scale.x*=l),this.isAxisY()&&(this.parent.scale.y*=l),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const c=this.parent.plugins.get("clamp-zoom",!0);if(c&&c.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.parent||this.parent;f.toLocal(u,this.parent,u);const d=f.toLocal(i);this.parent.x+=d.x-u.x,this.parent.y+=d.y-u.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}wheel(t){if(this.paused||!this.checkKeyPress())return!1;if(t.ctrlKey&&this.options.trackpadPinch)this.pinch(t);else if(this.options.wheelZoom){const i=this.parent.input.getPointerPosition(t),r=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,l=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const u={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+u.x)*l-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+u.y)*l-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=i}else{let u;this.options.center||(u=this.parent.toLocal(i)),this.isAxisX()&&(this.parent.scale.x*=l),this.isAxisY()&&(this.parent.scale.y*=l),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const c=this.parent.plugins.get("clamp-zoom",!0);if(c&&c.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.parent||this.parent;f.toLocal(u,this.parent,u);const d=f.toLocal(i);this.parent.x+=d.x-u.x,this.parent.y+=d.y-u.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}return!this.parent.options.passiveWheel}};const i3={screenWidth:typeof window>"u"?0:window.innerWidth,screenHeight:typeof window>"u"?0:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:qr.shared,allowPreserveDragOutside:!1};class s3 extends Gn{constructor(t){super(),this._disableOnContextMenu=i=>i.preventDefault(),this.options={...i3,...t},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new OA(this),this.plugins=new zA(this)}destroy(t){var i;!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&((i=this.options.events.domElement)==null||i.removeEventListener("contextmenu",this._disableOnContextMenu)),this.input.destroy(),super.destroy(t)}update(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new It(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(t=typeof window>"u"?0:window.innerWidth,i=typeof window>"u"?0:window.innerHeight,r,l){this.screenWidth=t,this.screenHeight=i,typeof r<"u"&&(this._worldWidth=r),typeof l<"u"&&(this._worldHeight=l),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(t){this._worldWidth=t,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(t){this._worldHeight=t,this.plugins.resize()}getVisibleBounds(){return new It(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(t,i){return arguments.length===2?this.toLocal(new At(t,i)):this.toLocal(t)}toScreen(t,i){return arguments.length===2?this.toGlobal(new At(t,i)):this.toGlobal(t)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new At(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(t){this.moveCenter(t)}moveCenter(...t){let i,r;typeof t[0]=="number"?(i=t[0],r=t[1]):(i=t[0].x,r=t[0].y);const l=(this.worldScreenWidth/2-i)*this.scale.x,u=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==l||this.y!==u)&&(this.position.set(l,u),this.plugins.reset(),this.dirty=!0),this}get corner(){return new At(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(t){this.moveCorner(t)}moveCorner(...t){let i,r;return t.length===1?(i=-t[0].x*this.scale.x,r=-t[0].y*this.scale.y):(i=-t[0]*this.scale.x,r=-t[1]*this.scale.y),(i!==this.x||r!==this.y)&&(this.position.set(i,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(t){return this.screenWidth/t}findFitHeight(t){return this.screenHeight/t}findFit(t,i){const r=this.screenWidth/t,l=this.screenHeight/i;return Math.min(r,l)}findCover(t,i){const r=this.screenWidth/t,l=this.screenHeight/i;return Math.max(r,l)}fitWidth(t=this.worldWidth,i,r=!0,l){let u;i&&(u=this.center),this.scale.x=this.screenWidth/t,r&&(this.scale.y=this.scale.x);const c=this.plugins.get("clamp-zoom",!0);return!l&&c&&c.clamp(),i&&u&&this.moveCenter(u),this}fitHeight(t=this.worldHeight,i,r=!0,l){let u;i&&(u=this.center),this.scale.y=this.screenHeight/t,r&&(this.scale.x=this.scale.y);const c=this.plugins.get("clamp-zoom",!0);return!l&&c&&c.clamp(),i&&u&&this.moveCenter(u),this}fitWorld(t){let i;t&&(i=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),t&&i&&this.moveCenter(i),this}fit(t,i=this.worldWidth,r=this.worldHeight){let l;t&&(l=this.center),this.scale.x=this.screenWidth/i,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const u=this.plugins.get("clamp-zoom",!0);return u&&u.clamp(),t&&l&&this.moveCenter(l),this}setZoom(t,i){let r;i&&(r=this.center),this.scale.set(t);const l=this.plugins.get("clamp-zoom",!0);return l&&l.clamp(),i&&r&&this.moveCenter(r),this}zoomPercent(t,i){return this.setZoom(this.scale.x+this.scale.x*t,i)}zoom(t,i){return this.fitWidth(t+this.worldScreenWidth,i),this}get scaled(){return this.scale.x}set scaled(t){this.setZoom(t,!0)}snapZoom(t){return this.plugins.add("snap-zoom",new t3(this,t)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new At(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(t){this.x=-t*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(t){this.y=-t*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(t){this._dirty=t}get forceHitArea(){return this._forceHitArea}set forceHitArea(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new It(0,0,this.worldWidth,this.worldHeight))}drag(t){return this.plugins.add("drag",new jA(this,t)),this}clamp(t){return this.plugins.add("clamp",new kA(this,t)),this}decelerate(t){return this.plugins.add("decelerate",new YA(this,t)),this}bounce(t){return this.plugins.add("bounce",new NA(this,t)),this}pinch(t){return this.plugins.add("pinch",new $A(this,t)),this}snap(t,i,r){return this.plugins.add("snap",new KA(this,t,i,r)),this}follow(t,i){return this.plugins.add("follow",new qA(this,t,i)),this}wheel(t){return this.plugins.add("wheel",new n3(this,t)),this}animate(t){return this.plugins.add("animate",new UA(this,t)),this}clampZoom(t){return this.plugins.add("clamp-zoom",new PA(this,t)),this}mouseEdges(t){return this.plugins.add("mouse-edges",new IA(this,t)),this}get pause(){return!!this._pause}set pause(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}ensureVisible(t,i,r,l,u){u&&(r>this.worldScreenWidth||l>this.worldScreenHeight)&&(this.fit(!0,r,l),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let c=!1;t<this.left?(this.left=t,c=!0):t+r>this.right&&(this.right=t+r,c=!0),i<this.top?(this.top=i,c=!0):i+l>this.bottom&&(this.bottom=i+l,c=!0),c&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}class lo{constructor(){this.app=new $l,this.viewport=null,this.zoom=!1}addZoom(t,i,r){this.zoom=r,this.viewport&&this.viewport.destroy(),this.viewport=new s3({screenWidth:t,screenHeight:i,events:this.app.renderer.events}),r&&this.viewport.drag().pinch().wheel(),this.app.stage.addChild(this.viewport)}static async create({canvas:t,height:i,width:r,background:l,zoom:u}){const c=new lo;return c.app=new $l,await c.app.init({canvas:t,background:l??"black",width:r,height:i}),c.addZoom(r,i,u??!1),c.app.stage.filters=[],c}refreshZoom(){this.viewport&&(this.viewport.setZoom(1),this.viewport.moveCenter(0,0))}addChild(t){this.viewport&&this.viewport.addChild(t)}removeChild(t){this.viewport&&this.viewport.removeChild(t)}addFilters(t){const i=this.app.stage.filters,r=Array.isArray(i)?[...i]:i?[i]:[];for(const l of t)switch(l){case"blur":{r.some(u=>u instanceof Fl)||r.push(new Fl);break}case"bloom":{r.some(u=>u instanceof oh)||r.push(new oh);break}case"shockwave":{r.some(u=>u instanceof hh)||r.push(new hh);break}case"noise":{r.some(u=>u instanceof fh)||r.push(new fh);break}}this.app.stage.filters=r}removeFilters(t){const i=this.app.stage.filters;var r=Array.isArray(i)?i:i?[i]:[];for(const l of t)switch(l){case"blur":{r=r.filter(u=>!(u instanceof Fl));break}case"bloom":{r=r.filter(u=>!(u instanceof oh));break}case"shockwave":{r=r.filter(u=>!(u instanceof hh));break}case"noise":{r=r.filter(u=>!(u instanceof fh));break}}this.app.stage.filters=r}}function hi({options:s,filters:t}){const i={...s},r=k.useRef(null),l=k.useRef(null),u=k.useRef(null),c=k.useRef(null),[f,d]=k.useState(null);return k.useLayoutEffect(()=>{if(r.current){const m=r.current.getBoundingClientRect().width;d(m)}},[]),k.useEffect(()=>{if(!l.current||f===null)return;i.radius=s.radius??f/80;const m=l.current;(async()=>(c.current=await lo.create({canvas:m,height:f,width:f}),t&&c.current.addFilters(t),u.current=new la(i),u.current.container.position.set(0,0),c.current.refreshZoom(),c.current.addChild(u.current.container),c.current.app.ticker.add(g=>{u.current&&u.current.motion(.001*g.deltaTime)})))()},[f]),q.jsx("div",{ref:r,style:{width:"100%"},children:f&&q.jsx("canvas",{ref:l})})}const r3={galleries:[{name:"Spin Art",preview:q.jsx(hi,{options:{}}),link:"/gallery/spin"}]};function pv(){k.useEffect(()=>{const s=new IntersectionObserver(i=>{for(const r of i)r.isIntersecting&&(r.target.classList.add("visible"),s.unobserve(r.target))},{threshold:.1});return document.querySelectorAll(".tile").forEach(i=>s.observe(i)),()=>s.disconnect()},[])}function a3(){return pv(),q.jsx(l3,{galleries:r3.galleries})}function l3({galleries:s}){return q.jsxs("main",{children:[q.jsx("section",{className:"home-section",children:q.jsxs("div",{className:"section-content home-section-content",children:[q.jsx("img",{src:Xy,alt:"Math Art Logo",className:"home-logo"}),q.jsx("h1",{className:"section-head",children:"Welcome to Math Art!"}),q.jsx("p",{className:"section-subhead",children:"This is a place where mathematical art meets interactivity."})]})}),q.jsx("section",{className:"featured featured-galleries",children:q.jsxs("div",{className:"section-content",children:[q.jsx("h1",{className:"section-head",children:"Featured Galleries"}),q.jsx("ul",{role:"list",className:"section-tiles",children:s.map((t,i)=>q.jsx("li",{role:"listitem",className:"tile-item nr-scroll-animation item-2up",style:{"--nr-animation-transform-y":"20%"},children:q.jsxs(Li,{to:t.link??"/",className:"tile tile-2up small-loaded medium-loaded large-loaded",children:[q.jsx("div",{className:"tile__media","aria-hidden":"true",children:t.preview}),q.jsx("div",{className:"tile__description","aria-hidden":"true",children:q.jsx("div",{className:"tile__head",children:q.jsx("h2",{children:t.name})})})]})},i))})]})})]})}const o3={title:"Spin Art",featured:{name:"The Classic",description:q.jsxs(q.Fragment,{children:[q.jsx("p",{children:"This Gallery explores the Artistic potential of nested spining"}),q.jsx("p",{children:"The Classic Spin Art is composed of two simple motions:"}),q.jsxs("ul",{children:[q.jsx("li",{children:"Each child spins around the parent at contant speed"}),q.jsx("li",{children:"Each child moves closer or further away from the parent at constant speed"})]}),q.jsx("p",{children:"Putting these simple motions togther and nesting them within eachother give you -- The Classic Spin Art!"})]}),preview:q.jsx(hi,{options:{}}),link:"/art/spin-classic"},gallery:[{name:"Lovely Dance",preview:q.jsx(hi,{options:{shape:4,motionFunc:1,colour:"#ff00ff"}})},{name:"Glow with the Stars",preview:q.jsx(hi,{options:{numChildren:5,shape:3,colour:"yellow",filters:["glow"]}})},{name:"Clovers",preview:q.jsx(hi,{options:{numChildren:3,shape:2,colour:"00aa00"},filters:["bloom"]})},{name:"Behind the Mist",preview:q.jsx(hi,{options:{numChildren:8,shape:1,colour:"ff0000"},filters:["noise","blur"]})},{name:"The Absolute Chaos",preview:q.jsx(hi,{options:{numChildren:7,shape:-1,motionFunc:3,colour:"-1",filters:["outline"]}})}]};function u3(){const{id:s}=By();if(pv(),s==="spin"){const t=o3;return q.jsx(c3,{title:t.title,featured:t.featured,gallery:t.gallery})}else return q.jsx("div",{children:"Artwork Note Found."})}function c3({title:s,featured:t,gallery:i}){return q.jsxs(q.Fragment,{children:[q.jsx("section",{className:"featured featured-display",children:q.jsxs("div",{className:"section-content",children:[q.jsx("h1",{className:"section-head",children:s}),q.jsx("ul",{role:"list",className:"section-tiles",children:q.jsx("li",{role:"listitem",className:"tile-item item-hero",children:q.jsxs("div",{className:"tile tile-hero","aria-label":"",children:[q.jsx("div",{className:"tile__media","aria-hidden":"true",children:t.preview}),q.jsxs("div",{className:"tile__description","aria-hidden":"true",children:[q.jsxs("div",{className:"tile__head",children:[q.jsx("h2",{children:t.name}),t.description]}),q.jsx(Li,{to:t.link??"/",className:"button art-page-link",target:"_blank",rel:"noopener noreferrer",children:"Customize this piece"})]})]})},"1")})]})}),q.jsx("section",{className:"variations",children:q.jsxs("div",{className:"section-content",children:[q.jsx("h1",{className:"section-head",children:"Variations"}),q.jsx("ul",{role:"list",className:"section-tiles",children:i.map((r,l)=>q.jsx("li",{role:"listitem",className:"tile-item item-2up",children:q.jsxs("div",{className:"tile tile-2up","aria-label":"",children:[q.jsx("div",{className:"tile__media","aria-hidden":"true",children:r.preview}),q.jsx("div",{className:"tile__description","aria-hidden":"true",children:q.jsx("div",{className:"tile__head",children:q.jsx("h2",{children:r.name})})})]})},l))})]})})]})}function oo(){return(oo=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s}).apply(this,arguments)}function mv(s,t){if(s==null)return{};var i,r,l={},u=Object.keys(s);for(r=0;r<u.length;r++)t.indexOf(i=u[r])>=0||(l[i]=s[i]);return l}function Nh(s){var t=k.useRef(s),i=k.useRef(function(r){t.current&&t.current(r)});return t.current=s,i.current}var oa=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s<t?t:s},Jr=function(s){return"touches"in s},Hh=function(s){return s&&s.ownerDocument.defaultView||self},xy=function(s,t,i){var r=s.getBoundingClientRect(),l=Jr(t)?function(u,c){for(var f=0;f<u.length;f++)if(u[f].identifier===c)return u[f];return u[0]}(t.touches,i):t;return{left:oa((l.pageX-(r.left+Hh(s).pageXOffset))/r.width),top:oa((l.pageY-(r.top+Hh(s).pageYOffset))/r.height)}},by=function(s){!Jr(s)&&s.preventDefault()},gv=me.memo(function(s){var t=s.onMove,i=s.onKey,r=mv(s,["onMove","onKey"]),l=k.useRef(null),u=Nh(t),c=Nh(i),f=k.useRef(null),d=k.useRef(!1),m=k.useMemo(function(){var x=function(A){by(A),(Jr(A)?A.touches.length>0:A.buttons>0)&&l.current?u(xy(l.current,A,f.current)):O(!1)},C=function(){return O(!1)};function O(A){var M=d.current,U=Hh(l.current),z=A?U.addEventListener:U.removeEventListener;z(M?"touchmove":"mousemove",x),z(M?"touchend":"mouseup",C)}return[function(A){var M=A.nativeEvent,U=l.current;if(U&&(by(M),!function(F,V){return V&&!Jr(F)}(M,d.current)&&U)){if(Jr(M)){d.current=!0;var z=M.changedTouches||[];z.length&&(f.current=z[0].identifier)}U.focus(),u(xy(U,M,f.current)),O(!0)}},function(A){var M=A.which||A.keyCode;M<37||M>40||(A.preventDefault(),c({left:M===39?.05:M===37?-.05:0,top:M===40?.05:M===38?-.05:0}))},O]},[c,u]),g=m[0],v=m[1],_=m[2];return k.useEffect(function(){return _},[_]),me.createElement("div",oo({},r,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:l,onKeyDown:v,tabIndex:0,role:"slider"}))}),sf=function(s){return s.filter(Boolean).join(" ")},yv=function(s){var t=s.color,i=s.left,r=s.top,l=r===void 0?.5:r,u=sf(["react-colorful__pointer",s.className]);return me.createElement("div",{className:u,style:{top:100*l+"%",left:100*i+"%"}},me.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},he=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i},h3=function(s){return g3(kh(s))},kh=function(s){return s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?he(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?he(parseInt(s.substring(6,8),16)/255,2):1}},f3=function(s){return m3(p3(s))},d3=function(s){var t=s.s,i=s.v,r=s.a,l=(200-t)*i/100;return{h:he(s.h),s:he(l>0&&l<200?t*i/100/(l<=100?l:200-l)*100:0),l:he(l/2),a:he(r,2)}},Gh=function(s){var t=d3(s);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},p3=function(s){var t=s.h,i=s.s,r=s.v,l=s.a;t=t/360*6,i/=100,r/=100;var u=Math.floor(t),c=r*(1-i),f=r*(1-(t-u)*i),d=r*(1-(1-t+u)*i),m=u%6;return{r:he(255*[r,f,c,c,d,r][m]),g:he(255*[d,r,r,f,c,c][m]),b:he(255*[c,c,d,r,r,f][m]),a:he(l,2)}},Gl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},m3=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=l<1?Gl(he(255*l)):"";return"#"+Gl(t)+Gl(i)+Gl(r)+u},g3=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=Math.max(t,i,r),c=u-Math.min(t,i,r),f=c?u===t?(i-r)/c:u===i?2+(r-t)/c:4+(t-i)/c:0;return{h:he(60*(f<0?f+6:f)),s:he(u?c/u*100:0),v:he(u/255*100),a:l}},y3=me.memo(function(s){var t=s.hue,i=s.onChange,r=sf(["react-colorful__hue",s.className]);return me.createElement("div",{className:r},me.createElement(gv,{onMove:function(l){i({h:360*l.left})},onKey:function(l){i({h:oa(t+360*l.left,0,360)})},"aria-label":"Hue","aria-valuenow":he(t),"aria-valuemax":"360","aria-valuemin":"0"},me.createElement(yv,{className:"react-colorful__hue-pointer",left:t/360,color:Gh({h:t,s:100,v:100,a:1})})))}),v3=me.memo(function(s){var t=s.hsva,i=s.onChange,r={backgroundColor:Gh({h:t.h,s:100,v:100,a:1})};return me.createElement("div",{className:"react-colorful__saturation",style:r},me.createElement(gv,{onMove:function(l){i({s:100*l.left,v:100-100*l.top})},onKey:function(l){i({s:oa(t.s+100*l.left,0,100),v:oa(t.v-100*l.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+he(t.s)+"%, Brightness "+he(t.v)+"%"},me.createElement(yv,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Gh(t)})))}),vv=function(s,t){if(s===t)return!0;for(var i in s)if(s[i]!==t[i])return!1;return!0},x3=function(s,t){return s.toLowerCase()===t.toLowerCase()||vv(kh(s),kh(t))};function b3(s,t,i){var r=Nh(i),l=k.useState(function(){return s.toHsva(t)}),u=l[0],c=l[1],f=k.useRef({color:t,hsva:u});k.useEffect(function(){if(!s.equal(t,f.current.color)){var m=s.toHsva(t);f.current={hsva:m,color:t},c(m)}},[t,s]),k.useEffect(function(){var m;vv(u,f.current.hsva)||s.equal(m=s.fromHsva(u),f.current.color)||(f.current={hsva:u,color:m},r(m))},[u,s,r]);var d=k.useCallback(function(m){c(function(g){return Object.assign({},g,m)})},[]);return[u,d]}var _3=typeof window<"u"?k.useLayoutEffect:k.useEffect,S3=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},_y=new Map,w3=function(s){_3(function(){var t=s.current?s.current.ownerDocument:document;if(t!==void 0&&!_y.has(t)){var i=t.createElement("style");i.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,_y.set(t,i);var r=S3();r&&i.setAttribute("nonce",r),t.head.appendChild(i)}},[])},A3=function(s){var t=s.className,i=s.colorModel,r=s.color,l=r===void 0?i.defaultColor:r,u=s.onChange,c=mv(s,["className","colorModel","color","onChange"]),f=k.useRef(null);w3(f);var d=b3(i,l,u),m=d[0],g=d[1],v=sf(["react-colorful",t]);return me.createElement("div",oo({},c,{ref:f,className:v}),me.createElement(v3,{hsva:m,onChange:g}),me.createElement(y3,{hue:m.h,onChange:g,className:"react-colorful__last-control"}))},C3={defaultColor:"000",toHsva:h3,fromHsva:function(s){return f3({h:s.h,s:s.s,v:s.v,a:1})},equal:x3},T3=function(s){return me.createElement(A3,oo({},s,{colorModel:C3}))};const Ph=["blur","bloom","noise"],Vl=["glow","outline"],M3=[...Ph,...Vl],E3=[0,1,2,3,4],R3=[0,1,2,3];function O3({speed:s,layers:t,children:i,shape:r,func:l,colour:u,filters:c,onZoom:f}){const d=k.useRef(null),m=k.useRef(null),g=k.useRef(null),v=k.useRef(null),[_,x]=k.useState(null),[C,O]=k.useState([]),A=k.useRef(1);return k.useLayoutEffect(()=>{if(d.current){const M=Math.min(d.current.getBoundingClientRect().width,window.innerHeight);x(M)}},[]),k.useEffect(()=>{if(!m.current||_===null)return;const M=m.current;(async()=>{v.current=await lo.create({canvas:M,height:_,width:_,zoom:!0});const U=z=>{z.preventDefault()};M.addEventListener("wheel",U,{passive:!1}),g.current=new la({radius:_/80}),g.current.container.position.set(0,0),v.current.refreshZoom(),v.current.addChild(g.current.container),v.current.app.ticker.add(z=>{g.current&&g.current.motion(A.current*.001*z.deltaTime)})})()},[_]),k.useEffect(()=>{if(!(!v.current||!_)){v.current.refreshZoom(),g.current&&(v.current.removeChild(g.current.container),g.current.destroy()),g.current=new la({layers:t,radius:_/80,numChildren:i,colour:u,motionFunc:l,shape:r}),g.current.container.position.set(0,0),v.current.addChild(g.current.container);for(const M of c)Vl.includes(M)&&g.current.addFilters([M])}},[t,i,l]),k.useEffect(()=>{if(!g.current||!v.current)return;const M=c.filter(z=>!C.includes(z)),U=C.filter(z=>!c.includes(z));if(M.length>0)for(const z of M)Vl.includes(z)?g.current.addFilters([z]):Ph.includes(z)&&v.current.addFilters([z]);if(U.length>0)for(const z of U)Vl.includes(z)?g.current.removeFilters([z]):Ph.includes(z)&&v.current.removeFilters([z]);O(c)},[c]),k.useEffect(()=>{A.current=s},[s]),k.useEffect(()=>{var M;(M=g.current)==null||M.setShape({colour:u})},[u]),k.useEffect(()=>{var M;(M=g.current)==null||M.setShape({shape_num:r})},[r]),k.useEffect(()=>{var M;(M=v.current)==null||M.refreshZoom()},[f]),q.jsx("div",{className:"interactive__art",ref:d,children:_&&q.jsx("canvas",{ref:m})})}function Sy({name:s,value:t,type:i,onClick:r}){return q.jsx("button",{onClick:()=>r(),className:`art-control-btn text-btn chaos-btn${" "+i}${s==t?" active":""}`,children:"Chaos"},s)}function z3({onClick:s}){return q.jsx("button",{className:"art-control-btn zoom-btn text-btn",onClick:()=>{s()},children:"Reset Zoom"})}function D3({size:s,name:t,shape:i,colour:r,onClick:l}){const u=k.useRef(null);return k.useEffect(()=>{if(!u.current)return;const c=u.current;(async()=>{const f=new $l;await f.init({canvas:c,backgroundAlpha:0,width:s,height:s});const d=new aa;Bh(d,t,s/3,r),f.stage.addChild(d),d.position.set(s/2,s/2)})()},[]),q.jsx("button",{onClick:()=>l(),className:`art-control-btn graphic-btn shape-btn${t==i?" active":""}`,children:q.jsx("canvas",{ref:u})},t)}function U3({name:s,filters:t,onClick:i}){return q.jsx("button",{onClick:()=>i(),className:`art-control-btn text-btn filter-btn${t.includes(s)?" active":""}`,children:s})}function B3({size:s,name:t,func:i,onClick:r}){return q.jsx("button",{onClick:()=>r(i),className:`art-control-btn graphic-btn motion-btn${t==i?" active":""}`,style:{height:s,width:s},children:q.jsx(hi,{options:{layers:2,motionFunc:t,radius:5}})})}function wy({value:s,setValue:t,min:i=2,max:r=8}){const[l,u]=k.useState(s.toString()),c=k.useRef(null),f=()=>{let d=parseInt(l,10);isNaN(d)&&(d=s),d=Math.min(r,Math.max(i,d)),t(d),u(d.toString())};return q.jsx("input",{className:"input__box",type:"number",min:i,max:r,value:l,onChange:d=>{u(d.target.value)},onKeyDown:d=>{c.current=d.key,d.key==="Enter"&&f(),["e","E","+","-"].includes(d.key)&&d.preventDefault()},onBlur:f})}function N3(){const[s,t]=k.useState(1),[i,r]=k.useState(6),[l,u]=k.useState(4),[c,f]=k.useState("#ffffff"),[d,m]=k.useState([]),[g,v]=k.useState(0),[_,x]=k.useState(0),[C,O]=k.useState(!1),[A,M]=k.useState(!1),[U,z]=k.useState(i.toString());return{title:"Spin Art",art:q.jsx(O3,{speed:s,layers:l,children:i,shape:g,func:_,colour:c,filters:d,onZoom:C}),controls:[{description:"Zoom:",input:q.jsx(z3,{onClick:()=>O(!C)})},{description:"Speed:",input:q.jsxs(q.Fragment,{children:[q.jsx("input",{type:"range",min:"0",max:"4",step:"0.1",value:s,onChange:F=>t(parseFloat(F.target.value)),className:"range-slider"}),q.jsxs("span",{className:"range-value",children:[s.toFixed(1),"x"]})]})},{description:"Children:",input:q.jsx(wy,{value:i,setValue:r,min:2,max:8})},{description:"Layers:",input:q.jsx(wy,{value:l,setValue:u,min:2,max:6})},{description:"Shape Color:",input:q.jsxs("div",{className:"art-controls-btn-wrapper",children:[q.jsx(T3,{color:c,onChange:F=>{M(!0),f(F)},onMouseUp:()=>M(!1),onTouchEnd:()=>M(!1)}),q.jsx("div",{className:"btn-wrapper",children:q.jsx(Sy,{name:"-1",value:c,type:"colour-btn",onClick:()=>{A||f("-1")}})})]})},{description:"Shapes:",input:q.jsxs("div",{className:"art-controls-btn-wrapper",children:[E3.map(F=>q.jsx("div",{className:"btn-wrapper",children:q.jsx(D3,{size:30,name:F,shape:g,colour:"white",onClick:()=>v(F)},F)})),q.jsx("div",{className:"btn-wrapper",children:q.jsx(Sy,{name:-1,value:g,type:"shape-btn",onClick:()=>v(-1)})})]})},{description:"Motion:",input:q.jsx("div",{className:"art-controls-btn-wrapper",children:R3.map(F=>q.jsx("div",{className:"btn-wrapper",children:q.jsx(B3,{size:50,name:F,func:_,onClick:()=>x(F)},F)}))})},{description:"Filters:",input:q.jsx("div",{className:"art-controls-btn-wrapper",children:M3.map(F=>q.jsx("div",{className:"btn-wrapper",children:q.jsx(U3,{name:F,filters:d,onClick:()=>m(V=>V.includes(F)?V.filter(W=>W!==F):[...V,F])},F)}))})}]}}function H3(){const{id:s}=By();if(s==="spin-classic"){const t=N3();return q.jsx(k3,{title:t.title,art:t.art,controls:t.controls})}else return q.jsx("div",{children:"Artwork Note Found."})}function k3({title:s,art:t,controls:i}){return q.jsxs("section",{className:"interactive",children:[q.jsxs("div",{className:"interactive__controls",children:[q.jsx("h1",{className:"section-head",children:s}),q.jsx("div",{children:i.map((r,l)=>q.jsxs("div",{className:"control",children:[q.jsx("div",{className:"control__description",children:r.description}),q.jsx("div",{className:"control__input",children:r.input})]},l))})]}),t]})}function G3(){return q.jsx("main",{children:q.jsx("section",{className:"featured-display",children:q.jsxs("div",{className:"section-content",children:[q.jsx("h1",{className:"section-head",children:"About"}),q.jsx("p",{children:"Math Art is inspired the thought of nesting simple motions within each other, and as I call it -- structured Chaos."}),q.jsx("p",{children:"More features and galleries coming soon!"}),q.jsx("h1",{children:"Nestation"}),q.jsxs("p",{children:["Fractal curves is a long been discusses topic in Math. Famous Fractal curves inclue Koch snowflake, Mandelbrot set, Menger sponge, Sierpiski triangle have already explored the powers of nestation, as well as it's ability to become artistic."," "]})]})})})}function P3(){const t=pi().pathname.startsWith("/art");return q.jsxs(q.Fragment,{children:[!t&&q.jsx(x_,{}),q.jsxs(Pb,{children:[q.jsx(jr,{path:"/",element:q.jsx(a3,{})}),q.jsx(jr,{path:"/gallery/:id",element:q.jsx(u3,{})}),q.jsx(jr,{path:"/art/:id",element:q.jsx(H3,{})}),q.jsx(jr,{path:"/about",element:q.jsx(G3,{})})]})]})}function L3(){return q.jsx(u_,{children:q.jsx(P3,{})})}const Y3=new URLSearchParams(window.location.search),Ay=Y3.get("redirect");Ay&&window.history.replaceState(null,"",decodeURIComponent(Ay));W1.createRoot(document.getElementById("root")).render(q.jsx(L3,{}));export{Me as $,D0 as A,Te as B,Gn as C,di as D,zt as E,ji as F,an as G,Jy as H,rn as I,Yi as J,Mg as K,ea as L,Ct as M,k2 as N,W2 as O,At as P,Jt as Q,ia as R,V2 as S,qr as T,bh as U,It as V,K2 as W,Rg as X,Yc as Y,zg as Z,p2 as _,kn as a,n0 as a0,U0 as a1,mt as a2,Kt as a3,iS as a4,CS as a5,FS as a6,VS as a7,QS as a8,JS as a9,tw as aa,Yr as ab,Wr as ac,my as ad,eo as ae,rS as af,Zl as ag,Ds as ah,V0 as ai,Ig as aj,qg as ak,B_ as al,aa as am,H_ as an,Z0 as ao,xS as b,sa as c,Xl as d,Qe as e,Vg as f,gS as g,Zh as h,R0 as i,d0 as j,gn as k,$h as l,jS as m,mg as n,qS as o,ZS as p,KS as q,Z_ as r,H0 as s,to as t,Ht as u,N_ as v,Le as w,Pn as x,nw as y,Bn as z};
