const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/browserAll-DpAlDU2g.js","assets/webworkerAll-BiyFSydt.js","assets/colorToUniform-KTpA7KSL.js","assets/CanvasPool-CyHH1AGA.js","assets/WebGPURenderer-Cr3d56br.js","assets/SharedSystems-YXV0cFzT.js","assets/WebGLRenderer-dxruHztE.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function i(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(l){if(l.ep)return;l.ep=!0;const u=i(l);fetch(l.href,u)}})();function ha(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Ah={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $m;function G1(){if($m)return Ur;$m=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,u){var h=null;if(u!==void 0&&(h=""+u),l.key!==void 0&&(h=""+l.key),"key"in l){u={};for(var f in l)f!=="key"&&(u[f]=l[f])}else u=l;return l=u.ref,{$$typeof:s,type:r,key:h,ref:l!==void 0?l:null,props:u}}return Ur.Fragment=t,Ur.jsx=i,Ur.jsxs=i,Ur}var Qm;function P1(){return Qm||(Qm=1,Ah.exports=G1()),Ah.exports}var F=P1(),Ch={exports:{}},Br={},Th={exports:{}},Mh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function L1(){return Km||(Km=1,function(s){function t(b,T){var R=b.length;b.push(T);t:for(;0<R;){var G=R-1>>>1,w=b[G];if(0<l(w,T))b[G]=T,b[R]=w,R=G;else break t}}function i(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var T=b[0],R=b.pop();if(R!==T){b[0]=R;t:for(var G=0,w=b.length,z=w>>>1;G<z;){var H=2*(G+1)-1,X=b[H],K=H+1,J=b[K];if(0>l(X,R))K<w&&0>l(J,X)?(b[G]=J,b[K]=R,G=K):(b[G]=X,b[H]=R,G=H);else if(K<w&&0>l(J,R))b[G]=J,b[K]=R,G=K;else break t}}return T}function l(b,T){var R=b.sortIndex-T.sortIndex;return R!==0?R:b.id-T.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var h=Date,f=h.now();s.unstable_now=function(){return h.now()-f}}var p=[],m=[],g=1,v=null,_=3,x=!1,C=!1,O=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function q(b){for(var T=i(m);T!==null;){if(T.callback===null)r(m);else if(T.startTime<=b)r(m),T.sortIndex=T.expirationTime,t(p,T);else break;T=i(m)}}function I(b){if(O=!1,q(b),!C)if(i(p)!==null)C=!0,Z||(Z=!0,ft());else{var T=i(m);T!==null&&Gt(I,T.startTime-b)}}var Z=!1,$=-1,rt=5,it=-1;function tt(){return A?!0:!(s.unstable_now()-it<rt)}function nt(){if(A=!1,Z){var b=s.unstable_now();it=b;var T=!0;try{t:{C=!1,O&&(O=!1,D($),$=-1),x=!0;var R=_;try{e:{for(q(b),v=i(p);v!==null&&!(v.expirationTime>b&&tt());){var G=v.callback;if(typeof G=="function"){v.callback=null,_=v.priorityLevel;var w=G(v.expirationTime<=b);if(b=s.unstable_now(),typeof w=="function"){v.callback=w,q(b),T=!0;break e}v===i(p)&&r(p),q(b)}else r(p);v=i(p)}if(v!==null)T=!0;else{var z=i(m);z!==null&&Gt(I,z.startTime-b),T=!1}}break t}finally{v=null,_=R,x=!1}T=void 0}}finally{T?ft():Z=!1}}}var ft;if(typeof B=="function")ft=function(){B(nt)};else if(typeof MessageChannel<"u"){var bt=new MessageChannel,kt=bt.port2;bt.port1.onmessage=nt,ft=function(){kt.postMessage(null)}}else ft=function(){M(nt,0)};function Gt(b,T){$=M(function(){b(s.unstable_now())},T)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(b){b.callback=null},s.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):rt=0<b?Math.floor(1e3/b):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_next=function(b){switch(_){case 1:case 2:case 3:var T=3;break;default:T=_}var R=_;_=T;try{return b()}finally{_=R}},s.unstable_requestPaint=function(){A=!0},s.unstable_runWithPriority=function(b,T){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var R=_;_=b;try{return T()}finally{_=R}},s.unstable_scheduleCallback=function(b,T,R){var G=s.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?G+R:G):R=G,b){case 1:var w=-1;break;case 2:w=250;break;case 5:w=1073741823;break;case 4:w=1e4;break;default:w=5e3}return w=R+w,b={id:g++,callback:T,priorityLevel:b,startTime:R,expirationTime:w,sortIndex:-1},R>G?(b.sortIndex=R,t(m,b),i(p)===null&&b===i(m)&&(O?(D($),$=-1):O=!0,Gt(I,R-G))):(b.sortIndex=w,t(p,b),C||x||(C=!0,Z||(Z=!0,ft()))),b},s.unstable_shouldYield=tt,s.unstable_wrapCallback=function(b){var T=_;return function(){var R=_;_=T;try{return b.apply(this,arguments)}finally{_=R}}}}(Mh)),Mh}var Jm;function Y1(){return Jm||(Jm=1,Th.exports=L1()),Th.exports}var Eh={exports:{}},dt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function X1(){if(tg)return dt;tg=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function _(w){return w===null||typeof w!="object"?null:(w=v&&w[v]||w["@@iterator"],typeof w=="function"?w:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,O={};function A(w,z,H){this.props=w,this.context=z,this.refs=O,this.updater=H||x}A.prototype.isReactComponent={},A.prototype.setState=function(w,z){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,z,"setState")},A.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function M(){}M.prototype=A.prototype;function D(w,z,H){this.props=w,this.context=z,this.refs=O,this.updater=H||x}var B=D.prototype=new M;B.constructor=D,C(B,A.prototype),B.isPureReactComponent=!0;var q=Array.isArray,I={H:null,A:null,T:null,S:null,V:null},Z=Object.prototype.hasOwnProperty;function $(w,z,H,X,K,J){return H=J.ref,{$$typeof:s,type:w,key:z,ref:H!==void 0?H:null,props:J}}function rt(w,z){return $(w.type,z,void 0,void 0,void 0,w.props)}function it(w){return typeof w=="object"&&w!==null&&w.$$typeof===s}function tt(w){var z={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(H){return z[H]})}var nt=/\/+/g;function ft(w,z){return typeof w=="object"&&w!==null&&w.key!=null?tt(""+w.key):z.toString(36)}function bt(){}function kt(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(bt,bt):(w.status="pending",w.then(function(z){w.status==="pending"&&(w.status="fulfilled",w.value=z)},function(z){w.status==="pending"&&(w.status="rejected",w.reason=z)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function Gt(w,z,H,X,K){var J=typeof w;(J==="undefined"||J==="boolean")&&(w=null);var et=!1;if(w===null)et=!0;else switch(J){case"bigint":case"string":case"number":et=!0;break;case"object":switch(w.$$typeof){case s:case t:et=!0;break;case g:return et=w._init,Gt(et(w._payload),z,H,X,K)}}if(et)return K=K(w),et=X===""?"."+ft(w,0):X,q(K)?(H="",et!=null&&(H=et.replace(nt,"$&/")+"/"),Gt(K,z,H,"",function(Et){return Et})):K!=null&&(it(K)&&(K=rt(K,H+(K.key==null||w&&w.key===K.key?"":(""+K.key).replace(nt,"$&/")+"/")+et)),z.push(K)),1;et=0;var ct=X===""?".":X+":";if(q(w))for(var at=0;at<w.length;at++)X=w[at],J=ct+ft(X,at),et+=Gt(X,z,H,J,K);else if(at=_(w),typeof at=="function")for(w=at.call(w),at=0;!(X=w.next()).done;)X=X.value,J=ct+ft(X,at++),et+=Gt(X,z,H,J,K);else if(J==="object"){if(typeof w.then=="function")return Gt(kt(w),z,H,X,K);throw z=String(w),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return et}function b(w,z,H){if(w==null)return w;var X=[],K=0;return Gt(w,X,"","",function(J){return z.call(H,J,K++)}),X}function T(w){if(w._status===-1){var z=w._result;z=z(),z.then(function(H){(w._status===0||w._status===-1)&&(w._status=1,w._result=H)},function(H){(w._status===0||w._status===-1)&&(w._status=2,w._result=H)}),w._status===-1&&(w._status=0,w._result=z)}if(w._status===1)return w._result.default;throw w._result}var R=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)};function G(){}return dt.Children={map:b,forEach:function(w,z,H){b(w,function(){z.apply(this,arguments)},H)},count:function(w){var z=0;return b(w,function(){z++}),z},toArray:function(w){return b(w,function(z){return z})||[]},only:function(w){if(!it(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},dt.Component=A,dt.Fragment=i,dt.Profiler=l,dt.PureComponent=D,dt.StrictMode=r,dt.Suspense=p,dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,dt.__COMPILER_RUNTIME={__proto__:null,c:function(w){return I.H.useMemoCache(w)}},dt.cache=function(w){return function(){return w.apply(null,arguments)}},dt.cloneElement=function(w,z,H){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var X=C({},w.props),K=w.key,J=void 0;if(z!=null)for(et in z.ref!==void 0&&(J=void 0),z.key!==void 0&&(K=""+z.key),z)!Z.call(z,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&z.ref===void 0||(X[et]=z[et]);var et=arguments.length-2;if(et===1)X.children=H;else if(1<et){for(var ct=Array(et),at=0;at<et;at++)ct[at]=arguments[at+2];X.children=ct}return $(w.type,K,void 0,void 0,J,X)},dt.createContext=function(w){return w={$$typeof:h,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:u,_context:w},w},dt.createElement=function(w,z,H){var X,K={},J=null;if(z!=null)for(X in z.key!==void 0&&(J=""+z.key),z)Z.call(z,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(K[X]=z[X]);var et=arguments.length-2;if(et===1)K.children=H;else if(1<et){for(var ct=Array(et),at=0;at<et;at++)ct[at]=arguments[at+2];K.children=ct}if(w&&w.defaultProps)for(X in et=w.defaultProps,et)K[X]===void 0&&(K[X]=et[X]);return $(w,J,void 0,void 0,null,K)},dt.createRef=function(){return{current:null}},dt.forwardRef=function(w){return{$$typeof:f,render:w}},dt.isValidElement=it,dt.lazy=function(w){return{$$typeof:g,_payload:{_status:-1,_result:w},_init:T}},dt.memo=function(w,z){return{$$typeof:m,type:w,compare:z===void 0?null:z}},dt.startTransition=function(w){var z=I.T,H={};I.T=H;try{var X=w(),K=I.S;K!==null&&K(H,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(G,R)}catch(J){R(J)}finally{I.T=z}},dt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},dt.use=function(w){return I.H.use(w)},dt.useActionState=function(w,z,H){return I.H.useActionState(w,z,H)},dt.useCallback=function(w,z){return I.H.useCallback(w,z)},dt.useContext=function(w){return I.H.useContext(w)},dt.useDebugValue=function(){},dt.useDeferredValue=function(w,z){return I.H.useDeferredValue(w,z)},dt.useEffect=function(w,z,H){var X=I.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return X.useEffect(w,z)},dt.useId=function(){return I.H.useId()},dt.useImperativeHandle=function(w,z,H){return I.H.useImperativeHandle(w,z,H)},dt.useInsertionEffect=function(w,z){return I.H.useInsertionEffect(w,z)},dt.useLayoutEffect=function(w,z){return I.H.useLayoutEffect(w,z)},dt.useMemo=function(w,z){return I.H.useMemo(w,z)},dt.useOptimistic=function(w,z){return I.H.useOptimistic(w,z)},dt.useReducer=function(w,z,H){return I.H.useReducer(w,z,H)},dt.useRef=function(w){return I.H.useRef(w)},dt.useState=function(w){return I.H.useState(w)},dt.useSyncExternalStore=function(w,z,H){return I.H.useSyncExternalStore(w,z,H)},dt.useTransition=function(){return I.H.useTransition()},dt.version="19.1.0",dt}var eg;function Lc(){return eg||(eg=1,Eh.exports=X1()),Eh.exports}var Rh={exports:{}},pe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ng;function j1(){if(ng)return pe;ng=1;var s=Lc();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:m,implementation:g}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pe.createPortal=function(p,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,g)},pe.flushSync=function(p){var m=h.T,g=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=m,r.p=g,r.d.f()}},pe.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},pe.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},pe.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:_,fetchPriority:x}):g==="script"&&r.d.X(p,{crossOrigin:v,integrity:_,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pe.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},pe.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=f(g,m.crossOrigin);r.d.L(p,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pe.preloadModule=function(p,m){if(typeof p=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},pe.requestFormReset=function(p){r.d.r(p)},pe.unstable_batchedUpdates=function(p,m){return p(m)},pe.useFormState=function(p,m,g){return h.H.useFormState(p,m,g)},pe.useFormStatus=function(){return h.H.useHostTransitionStatus()},pe.version="19.1.0",pe}var ig;function F1(){if(ig)return Rh.exports;ig=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Rh.exports=j1(),Rh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sg;function q1(){if(sg)return Br;sg=1;var s=Y1(),t=Lc(),i=F1();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function f(e){if(u(e)!==e)throw Error(r(188))}function p(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){a=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return f(c),e;if(d===o)return f(c),n;d=d.sibling}throw Error(r(188))}if(a.return!==o.return)a=c,o=d;else{for(var y=!1,S=c.child;S;){if(S===a){y=!0,a=c,o=d;break}if(S===o){y=!0,o=c,a=d;break}S=S.sibling}if(!y){for(S=d.child;S;){if(S===a){y=!0,a=d,o=c;break}if(S===o){y=!0,o=d,a=c;break}S=S.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function m(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=m(e),n!==null)return n;e=e.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),B=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),it=Symbol.for("react.activity"),tt=Symbol.for("react.memo_cache_sentinel"),nt=Symbol.iterator;function ft(e){return e===null||typeof e!="object"?null:(e=nt&&e[nt]||e["@@iterator"],typeof e=="function"?e:null)}var bt=Symbol.for("react.client.reference");function kt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===bt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case C:return"Fragment";case A:return"Profiler";case O:return"StrictMode";case I:return"Suspense";case Z:return"SuspenseList";case it:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case B:return(e.displayName||"Context")+".Provider";case D:return(e._context.displayName||"Context")+".Consumer";case q:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return n=e.displayName||null,n!==null?n:kt(e.type)||"Memo";case rt:n=e._payload,e=e._init;try{return kt(e(n))}catch{}}return null}var Gt=Array.isArray,b=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R={pending:!1,data:null,method:null,action:null},G=[],w=-1;function z(e){return{current:e}}function H(e){0>w||(e.current=G[w],G[w]=null,w--)}function X(e,n){w++,G[w]=e.current,e.current=n}var K=z(null),J=z(null),et=z(null),ct=z(null);function at(e,n){switch(X(et,n),X(J,e),X(K,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Am(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Am(n),e=Cm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(K),X(K,e)}function Et(){H(K),H(J),H(et)}function _t(e){e.memoizedState!==null&&X(ct,e);var n=K.current,a=Cm(n,e.type);n!==a&&(X(J,e),X(K,a))}function ve(e){J.current===e&&(H(K),H(J)),ct.current===e&&(H(ct),Er._currentValue=R)}var le=Object.prototype.hasOwnProperty,xe=s.unstable_scheduleCallback,be=s.unstable_cancelCallback,pt=s.unstable_shouldYield,St=s.unstable_requestPaint,Ee=s.unstable_now,ho=s.unstable_getCurrentPriorityLevel,co=s.unstable_ImmediatePriority,rf=s.unstable_UserBlockingPriority,pa=s.unstable_NormalPriority,xv=s.unstable_LowPriority,af=s.unstable_IdlePriority,bv=s.log,_v=s.unstable_setDisableYieldValue,Hs=null,Re=null;function Ln(e){if(typeof bv=="function"&&_v(e),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Hs,e)}catch{}}var Oe=Math.clz32?Math.clz32:Av,Sv=Math.log,wv=Math.LN2;function Av(e){return e>>>=0,e===0?32:31-(Sv(e)/wv|0)|0}var ma=256,ga=4194304;function mi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ya(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var c=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var S=o&134217727;return S!==0?(o=S&~d,o!==0?c=mi(o):(y&=S,y!==0?c=mi(y):a||(a=S&~e,a!==0&&(c=mi(a))))):(S=o&~d,S!==0?c=mi(S):y!==0?c=mi(y):a||(a=o&~e,a!==0&&(c=mi(a)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,a=n&-n,d>=a||d===32&&(a&4194048)!==0)?n:c}function ks(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Cv(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(){var e=ma;return ma<<=1,(ma&4194048)===0&&(ma=256),e}function of(){var e=ga;return ga<<=1,(ga&62914560)===0&&(ga=4194304),e}function fo(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Gs(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tv(e,n,a,o,c,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,E=e.expirationTimes,L=e.hiddenUpdates;for(a=y&~a;0<a;){var V=31-Oe(a),Q=1<<V;S[V]=0,E[V]=-1;var Y=L[V];if(Y!==null)for(L[V]=null,V=0;V<Y.length;V++){var j=Y[V];j!==null&&(j.lane&=-536870913)}a&=~Q}o!==0&&uf(e,o,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~n))}function uf(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Oe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function hf(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Oe(a),c=1<<o;c&n|e[o]&n&&(e[o]|=n),a&=~c}}function po(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function mo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cf(){var e=T.p;return e!==0?e:(e=window.event,e===void 0?32:Fm(e.type))}function Mv(e,n){var a=T.p;try{return T.p=e,n()}finally{T.p=a}}var Yn=Math.random().toString(36).slice(2),fe="__reactFiber$"+Yn,_e="__reactProps$"+Yn,Fi="__reactContainer$"+Yn,go="__reactEvents$"+Yn,Ev="__reactListeners$"+Yn,Rv="__reactHandles$"+Yn,ff="__reactResources$"+Yn,Ps="__reactMarker$"+Yn;function yo(e){delete e[fe],delete e[_e],delete e[go],delete e[Ev],delete e[Rv]}function qi(e){var n=e[fe];if(n)return n;for(var a=e.parentNode;a;){if(n=a[Fi]||a[fe]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Rm(e);e!==null;){if(a=e[fe])return a;e=Rm(e)}return n}e=a,a=e.parentNode}return null}function Vi(e){if(e=e[fe]||e[Fi]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ls(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function Ii(e){var n=e[ff];return n||(n=e[ff]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ne(e){e[Ps]=!0}var df=new Set,pf={};function gi(e,n){Wi(e,n),Wi(e+"Capture",n)}function Wi(e,n){for(pf[e]=n,e=0;e<n.length;e++)df.add(n[e])}var Ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mf={},gf={};function zv(e){return le.call(gf,e)?!0:le.call(mf,e)?!1:Ov.test(e)?gf[e]=!0:(mf[e]=!0,!1)}function va(e,n,a){if(zv(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function xa(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function yn(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var vo,yf;function Zi(e){if(vo===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);vo=n&&n[1]||"",yf=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vo+e+yf}var xo=!1;function bo(e,n){if(!e||xo)return"";xo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(j){var Y=j}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(j){Y=j}e.call(Q.prototype)}}else{try{throw Error()}catch(j){Y=j}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(j){if(j&&Y&&typeof j.stack=="string")return[j.stack,Y.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],S=d[1];if(y&&S){var E=y.split(`
`),L=S.split(`
`);for(c=o=0;o<E.length&&!E[o].includes("DetermineComponentFrameRoot");)o++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(o===E.length||c===L.length)for(o=E.length-1,c=L.length-1;1<=o&&0<=c&&E[o]!==L[c];)c--;for(;1<=o&&0<=c;o--,c--)if(E[o]!==L[c]){if(o!==1||c!==1)do if(o--,c--,0>c||E[o]!==L[c]){var V=`
`+E[o].replace(" at new "," at ");return e.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",e.displayName)),V}while(1<=o&&0<=c);break}}}finally{xo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Zi(a):""}function Dv(e){switch(e.tag){case 26:case 27:case 5:return Zi(e.type);case 16:return Zi("Lazy");case 13:return Zi("Suspense");case 19:return Zi("SuspenseList");case 0:case 15:return bo(e.type,!1);case 11:return bo(e.type.render,!1);case 1:return bo(e.type,!0);case 31:return Zi("Activity");default:return""}}function vf(e){try{var n="";do n+=Dv(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xf(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Uv(e){var n=xf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,d=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){o=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ba(e){e._valueTracker||(e._valueTracker=Uv(e))}function bf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=xf(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Bv=/[\n"\\]/g;function Xe(e){return e.replace(Bv,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function _o(e,n,a,o,c,d,y,S){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ye(n)):e.value!==""+Ye(n)&&(e.value=""+Ye(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?So(e,y,Ye(n)):a!=null?So(e,y,Ye(a)):o!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Ye(S):e.removeAttribute("name")}function _f(e,n,a,o,c,d,y,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Ye(a):"",n=n!=null?""+Ye(n):a,S||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=S?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function So(e,n,a){n==="number"&&_a(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function $i(e,n,a,o){if(e=e.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=n.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ye(a),n=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Sf(e,n,a){if(n!=null&&(n=""+Ye(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ye(a):""}function wf(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Gt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ye(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Qi(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Nv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Af(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Nv.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Cf(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&a[c]!==o&&Af(e,c,o)}else for(var d in n)n.hasOwnProperty(d)&&Af(e,d,n[d])}function wo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(e){return kv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ao=null;function Co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ki=null,Ji=null;function Tf(e){var n=Vi(e);if(n&&(e=n.stateNode)){var a=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(_o(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xe(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var c=o[_e]||null;if(!c)throw Error(r(90));_o(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&bf(o)}break t;case"textarea":Sf(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&$i(e,!!a.multiple,n,!1)}}}var To=!1;function Mf(e,n,a){if(To)return e(n,a);To=!0;try{var o=e(n);return o}finally{if(To=!1,(Ki!==null||Ji!==null)&&(ll(),Ki&&(n=Ki,e=Ji,Ji=Ki=null,Tf(n),e)))for(n=0;n<e.length;n++)Tf(e[n])}}function Ys(e,n){var a=e.stateNode;if(a===null)return null;var o=a[_e]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mo=!1;if(vn)try{var Xs={};Object.defineProperty(Xs,"passive",{get:function(){Mo=!0}}),window.addEventListener("test",Xs,Xs),window.removeEventListener("test",Xs,Xs)}catch{Mo=!1}var Xn=null,Eo=null,wa=null;function Ef(){if(wa)return wa;var e,n=Eo,a=n.length,o,c="value"in Xn?Xn.value:Xn.textContent,d=c.length;for(e=0;e<a&&n[e]===c[e];e++);var y=a-e;for(o=1;o<=y&&n[a-o]===c[d-o];o++);return wa=c.slice(e,1<o?1-o:void 0)}function Aa(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ca(){return!0}function Rf(){return!1}function Se(e){function n(a,o,c,d,y){this._reactName=a,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ca:Rf,this.isPropagationStopped=Rf,this}return g(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),n}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Se(yi),js=g({},yi,{view:0,detail:0}),Gv=Se(js),Ro,Oo,Fs,Ma=g({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Do,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Ro=e.screenX-Fs.screenX,Oo=e.screenY-Fs.screenY):Oo=Ro=0,Fs=e),Ro)},movementY:function(e){return"movementY"in e?e.movementY:Oo}}),Of=Se(Ma),Pv=g({},Ma,{dataTransfer:0}),Lv=Se(Pv),Yv=g({},js,{relatedTarget:0}),zo=Se(Yv),Xv=g({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),jv=Se(Xv),Fv=g({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qv=Se(Fv),Vv=g({},yi,{data:0}),zf=Se(Vv),Iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $v(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Zv[e])?!!n[e]:!1}function Do(){return $v}var Qv=g({},js,{key:function(e){if(e.key){var n=Iv[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Aa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Wv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Do,charCode:function(e){return e.type==="keypress"?Aa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Aa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kv=Se(Qv),Jv=g({},Ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Df=Se(Jv),tx=g({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Do}),ex=Se(tx),nx=g({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=Se(nx),sx=g({},Ma,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=Se(sx),ax=g({},yi,{newState:0,oldState:0}),lx=Se(ax),ox=[9,13,27,32],Uo=vn&&"CompositionEvent"in window,qs=null;vn&&"documentMode"in document&&(qs=document.documentMode);var ux=vn&&"TextEvent"in window&&!qs,Uf=vn&&(!Uo||qs&&8<qs&&11>=qs),Bf=" ",Nf=!1;function Hf(e,n){switch(e){case"keyup":return ox.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function hx(e,n){switch(e){case"compositionend":return kf(n);case"keypress":return n.which!==32?null:(Nf=!0,Bf);case"textInput":return e=n.data,e===Bf&&Nf?null:e;default:return null}}function cx(e,n){if(ts)return e==="compositionend"||!Uo&&Hf(e,n)?(e=Ef(),wa=Eo=Xn=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Uf&&n.locale!=="ko"?null:n.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!fx[e.type]:n==="textarea"}function Pf(e,n,a,o){Ki?Ji?Ji.push(o):Ji=[o]:Ki=o,n=dl(n,"onChange"),0<n.length&&(a=new Ta("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Vs=null,Is=null;function dx(e){xm(e,0)}function Ea(e){var n=Ls(e);if(bf(n))return e}function Lf(e,n){if(e==="change")return n}var Yf=!1;if(vn){var Bo;if(vn){var No="oninput"in document;if(!No){var Xf=document.createElement("div");Xf.setAttribute("oninput","return;"),No=typeof Xf.oninput=="function"}Bo=No}else Bo=!1;Yf=Bo&&(!document.documentMode||9<document.documentMode)}function jf(){Vs&&(Vs.detachEvent("onpropertychange",Ff),Is=Vs=null)}function Ff(e){if(e.propertyName==="value"&&Ea(Is)){var n=[];Pf(n,Is,e,Co(e)),Mf(dx,n)}}function px(e,n,a){e==="focusin"?(jf(),Vs=n,Is=a,Vs.attachEvent("onpropertychange",Ff)):e==="focusout"&&jf()}function mx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(Is)}function gx(e,n){if(e==="click")return Ea(n)}function yx(e,n){if(e==="input"||e==="change")return Ea(n)}function vx(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ze=typeof Object.is=="function"?Object.is:vx;function Ws(e,n){if(ze(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var c=a[o];if(!le.call(n,c)||!ze(e[c],n[c]))return!1}return!0}function qf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vf(e,n){var a=qf(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qf(a)}}function If(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?If(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Wf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_a(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=_a(e.document)}return n}function Ho(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xx=vn&&"documentMode"in document&&11>=document.documentMode,es=null,ko=null,Zs=null,Go=!1;function Zf(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Go||es==null||es!==_a(o)||(o=es,"selectionStart"in o&&Ho(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Zs&&Ws(Zs,o)||(Zs=o,o=dl(ko,"onSelect"),0<o.length&&(n=new Ta("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=es)))}function vi(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ns={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Po={},$f={};vn&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function xi(e){if(Po[e])return Po[e];if(!ns[e])return e;var n=ns[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in $f)return Po[e]=n[a];return e}var Qf=xi("animationend"),Kf=xi("animationiteration"),Jf=xi("animationstart"),bx=xi("transitionrun"),_x=xi("transitionstart"),Sx=xi("transitioncancel"),td=xi("transitionend"),ed=new Map,Lo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lo.push("scrollEnd");function Je(e,n){ed.set(e,n),gi(n,[e])}var nd=new WeakMap;function je(e,n){if(typeof e=="object"&&e!==null){var a=nd.get(e);return a!==void 0?a:(n={value:e,source:n,stack:vf(n)},nd.set(e,n),n)}return{value:e,source:n,stack:vf(n)}}var Fe=[],is=0,Yo=0;function Ra(){for(var e=is,n=Yo=is=0;n<e;){var a=Fe[n];Fe[n++]=null;var o=Fe[n];Fe[n++]=null;var c=Fe[n];Fe[n++]=null;var d=Fe[n];if(Fe[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}d!==0&&id(a,c,d)}}function Oa(e,n,a,o){Fe[is++]=e,Fe[is++]=n,Fe[is++]=a,Fe[is++]=o,Yo|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xo(e,n,a,o){return Oa(e,n,a,o),za(e)}function ss(e,n){return Oa(e,null,null,n),za(e)}function id(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var c=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&n!==null&&(c=31-Oe(a),e=d.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=a|536870912),d):null}function za(e){if(50<br)throw br=0,Wu=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var rs={};function wx(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(e,n,a,o){return new wx(e,n,a,o)}function jo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xn(e,n){var a=e.alternate;return a===null?(a=De(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function sd(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Da(e,n,a,o,c,d){var y=0;if(o=e,typeof e=="function")jo(e)&&(y=1);else if(typeof e=="string")y=C1(e,a,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case it:return e=De(31,a,n,c),e.elementType=it,e.lanes=d,e;case C:return bi(a.children,c,d,n);case O:y=8,c|=24;break;case A:return e=De(12,a,n,c|2),e.elementType=A,e.lanes=d,e;case I:return e=De(13,a,n,c),e.elementType=I,e.lanes=d,e;case Z:return e=De(19,a,n,c),e.elementType=Z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case M:case B:y=10;break t;case D:y=9;break t;case q:y=11;break t;case $:y=14;break t;case rt:y=16,o=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=De(y,a,n,c),n.elementType=e,n.type=o,n.lanes=d,n}function bi(e,n,a,o){return e=De(7,e,o,n),e.lanes=a,e}function Fo(e,n,a){return e=De(6,e,null,n),e.lanes=a,e}function qo(e,n,a){return n=De(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var as=[],ls=0,Ua=null,Ba=0,qe=[],Ve=0,_i=null,bn=1,_n="";function Si(e,n){as[ls++]=Ba,as[ls++]=Ua,Ua=e,Ba=n}function rd(e,n,a){qe[Ve++]=bn,qe[Ve++]=_n,qe[Ve++]=_i,_i=e;var o=bn;e=_n;var c=32-Oe(o)-1;o&=~(1<<c),a+=1;var d=32-Oe(n)+c;if(30<d){var y=c-c%5;d=(o&(1<<y)-1).toString(32),o>>=y,c-=y,bn=1<<32-Oe(n)+c|a<<c|o,_n=d+e}else bn=1<<d|a<<c|o,_n=e}function Vo(e){e.return!==null&&(Si(e,1),rd(e,1,0))}function Io(e){for(;e===Ua;)Ua=as[--ls],as[ls]=null,Ba=as[--ls],as[ls]=null;for(;e===_i;)_i=qe[--Ve],qe[Ve]=null,_n=qe[--Ve],qe[Ve]=null,bn=qe[--Ve],qe[Ve]=null}var ge=null,Ft=null,Mt=!1,wi=null,ln=!1,Wo=Error(r(519));function Ai(e){var n=Error(r(418,""));throw Ks(je(n,e)),Wo}function ad(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[fe]=e,n[_e]=o,a){case"dialog":xt("cancel",n),xt("close",n);break;case"iframe":case"object":case"embed":xt("load",n);break;case"video":case"audio":for(a=0;a<Sr.length;a++)xt(Sr[a],n);break;case"source":xt("error",n);break;case"img":case"image":case"link":xt("error",n),xt("load",n);break;case"details":xt("toggle",n);break;case"input":xt("invalid",n),_f(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),ba(n);break;case"select":xt("invalid",n);break;case"textarea":xt("invalid",n),wf(n,o.value,o.defaultValue,o.children),ba(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||wm(n.textContent,a)?(o.popover!=null&&(xt("beforetoggle",n),xt("toggle",n)),o.onScroll!=null&&xt("scroll",n),o.onScrollEnd!=null&&xt("scrollend",n),o.onClick!=null&&(n.onclick=pl),n=!0):n=!1,n||Ai(e)}function ld(e){for(ge=e.return;ge;)switch(ge.tag){case 5:case 13:ln=!1;return;case 27:case 3:ln=!0;return;default:ge=ge.return}}function $s(e){if(e!==ge)return!1;if(!Mt)return ld(e),Mt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hh(e.type,e.memoizedProps)),a=!a),a&&Ft&&Ai(e),ld(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){Ft=en(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}Ft=null}}else n===27?(n=Ft,si(e.type)?(e=ph,ph=null,Ft=e):Ft=n):Ft=ge?en(e.stateNode.nextSibling):null;return!0}function Qs(){Ft=ge=null,Mt=!1}function od(){var e=wi;return e!==null&&(Ce===null?Ce=e:Ce.push.apply(Ce,e),wi=null),e}function Ks(e){wi===null?wi=[e]:wi.push(e)}var Zo=z(null),Ci=null,Sn=null;function jn(e,n,a){X(Zo,n._currentValue),n._currentValue=a}function wn(e){e._currentValue=Zo.current,H(Zo)}function $o(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Qo(e,n,a,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=c;for(var E=0;E<n.length;E++)if(S.context===n[E]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),$o(d.return,a,e),o||(y=null);break t}d=S.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),$o(y,a,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Js(e,n,a,o){e=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var S=c.type;ze(c.pendingProps.value,y.value)||(e!==null?e.push(S):e=[S])}}else if(c===ct.current){if(y=c.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Er):e=[Er])}c=c.return}e!==null&&Qo(n,e,a,o),n.flags|=262144}function Na(e){for(e=e.firstContext;e!==null;){if(!ze(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){Ci=e,Sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function de(e){return ud(Ci,e)}function Ha(e,n){return Ci===null&&Ti(e),ud(e,n)}function ud(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Sn===null){if(e===null)throw Error(r(308));Sn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Sn=Sn.next=n;return a}var Ax=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Cx=s.unstable_scheduleCallback,Tx=s.unstable_NormalPriority,te={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ko(){return{controller:new Ax,data:new Map,refCount:0}}function tr(e){e.refCount--,e.refCount===0&&Cx(Tx,function(){e.controller.abort()})}var er=null,Jo=0,os=0,us=null;function Mx(e,n){if(er===null){var a=er=[];Jo=0,os=eh(),us={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Jo++,n.then(hd,hd),n}function hd(){if(--Jo===0&&er!==null){us!==null&&(us.status="fulfilled");var e=er;er=null,os=0,us=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Ex(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),o}var cd=b.S;b.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Mx(e,n),cd!==null&&cd(e,n)};var Mi=z(null);function tu(){var e=Mi.current;return e!==null?e:Pt.pooledCache}function ka(e,n){n===null?X(Mi,Mi.current):X(Mi,n.pool)}function fd(){var e=tu();return e===null?null:{parent:te._currentValue,pool:e}}var nr=Error(r(460)),dd=Error(r(474)),Ga=Error(r(542)),eu={then:function(){}};function pd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pa(){}function md(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Pa,Pa),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yd(e),e;default:if(typeof n.status=="string")n.then(Pa,Pa);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,yd(e),e}throw ir=n,nr}}var ir=null;function gd(){if(ir===null)throw Error(r(459));var e=ir;return ir=null,e}function yd(e){if(e===nr||e===Ga)throw Error(r(483))}var Fn=!1;function nu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function iu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Rt&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=za(e),id(e,null,a),n}return Oa(e,o,n,a),za(e)}function sr(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,hf(e,a)}}function su(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?c=d=n:d=d.next=n}else c=d=n;a={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var ru=!1;function rr(){if(ru){var e=us;if(e!==null)throw e}}function ar(e,n,a,o){ru=!1;var c=e.updateQueue;Fn=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,S=c.shared.pending;if(S!==null){c.shared.pending=null;var E=S,L=E.next;E.next=null,y===null?d=L:y.next=L,y=E;var V=e.alternate;V!==null&&(V=V.updateQueue,S=V.lastBaseUpdate,S!==y&&(S===null?V.firstBaseUpdate=L:S.next=L,V.lastBaseUpdate=E))}if(d!==null){var Q=c.baseState;y=0,V=L=E=null,S=d;do{var Y=S.lane&-536870913,j=Y!==S.lane;if(j?(wt&Y)===Y:(o&Y)===Y){Y!==0&&Y===os&&(ru=!0),V!==null&&(V=V.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var ht=e,ot=S;Y=n;var Bt=a;switch(ot.tag){case 1:if(ht=ot.payload,typeof ht=="function"){Q=ht.call(Bt,Q,Y);break t}Q=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ot.payload,Y=typeof ht=="function"?ht.call(Bt,Q,Y):ht,Y==null)break t;Q=g({},Q,Y);break t;case 2:Fn=!0}}Y=S.callback,Y!==null&&(e.flags|=64,j&&(e.flags|=8192),j=c.callbacks,j===null?c.callbacks=[Y]:j.push(Y))}else j={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},V===null?(L=V=j,E=Q):V=V.next=j,y|=Y;if(S=S.next,S===null){if(S=c.shared.pending,S===null)break;j=S,S=j.next,j.next=null,c.lastBaseUpdate=j,c.shared.pending=null}}while(!0);V===null&&(E=Q),c.baseState=E,c.firstBaseUpdate=L,c.lastBaseUpdate=V,d===null&&(c.shared.lanes=0),ti|=y,e.lanes=y,e.memoizedState=Q}}function vd(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function xd(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vd(a[e],n)}var hs=z(null),La=z(0);function bd(e,n){e=On,X(La,e),X(hs,n),On=e|n.baseLanes}function au(){X(La,On),X(hs,hs.current)}function lu(){On=La.current,H(hs),H(La)}var In=0,gt=null,Dt=null,$t=null,Ya=!1,cs=!1,Ei=!1,Xa=0,lr=0,fs=null,Rx=0;function Wt(){throw Error(r(321))}function ou(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!ze(e[a],n[a]))return!1;return!0}function uu(e,n,a,o,c,d){return In=d,gt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=e===null||e.memoizedState===null?ip:sp,Ei=!1,d=a(o,c),Ei=!1,cs&&(d=Sd(n,a,o,c)),_d(e),d}function _d(e){b.H=Wa;var n=Dt!==null&&Dt.next!==null;if(In=0,$t=Dt=gt=null,Ya=!1,lr=0,fs=null,n)throw Error(r(300));e===null||ie||(e=e.dependencies,e!==null&&Na(e)&&(ie=!0))}function Sd(e,n,a,o){gt=e;var c=0;do{if(cs&&(fs=null),lr=0,cs=!1,25<=c)throw Error(r(301));if(c+=1,$t=Dt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Hx,d=n(a,o)}while(cs);return d}function Ox(){var e=b.H,n=e.useState()[0];return n=typeof n.then=="function"?or(n):n,e=e.useState()[0],(Dt!==null?Dt.memoizedState:null)!==e&&(gt.flags|=1024),n}function hu(){var e=Xa!==0;return Xa=0,e}function cu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function fu(e){if(Ya){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ya=!1}In=0,$t=Dt=gt=null,cs=!1,lr=Xa=0,fs=null}function we(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?gt.memoizedState=$t=e:$t=$t.next=e,$t}function Qt(){if(Dt===null){var e=gt.alternate;e=e!==null?e.memoizedState:null}else e=Dt.next;var n=$t===null?gt.memoizedState:$t.next;if(n!==null)$t=n,Dt=e;else{if(e===null)throw gt.alternate===null?Error(r(467)):Error(r(310));Dt=e,e={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},$t===null?gt.memoizedState=$t=e:$t=$t.next=e}return $t}function du(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function or(e){var n=lr;return lr+=1,fs===null&&(fs=[]),e=md(fs,e,n),n=gt,($t===null?n.memoizedState:$t.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?ip:sp),e}function ja(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return or(e);if(e.$$typeof===B)return de(e)}throw Error(r(438,String(e)))}function pu(e){var n=null,a=gt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=gt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=du(),gt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=tt;return n.index++,a}function An(e,n){return typeof n=="function"?n(e):n}function Fa(e){var n=Qt();return mu(n,Dt,e)}function mu(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var c=e.baseQueue,d=o.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}n.baseQueue=c=d,o.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{n=c.next;var S=y=null,E=null,L=n,V=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(wt&Q)===Q:(In&Q)===Q){var Y=L.revertLane;if(Y===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===os&&(V=!0);else if((In&Y)===Y){L=L.next,Y===os&&(V=!0);continue}else Q={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(S=E=Q,y=d):E=E.next=Q,gt.lanes|=Y,ti|=Y;Q=L.action,Ei&&a(d,Q),d=L.hasEagerState?L.eagerState:a(d,Q)}else Y={lane:Q,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},E===null?(S=E=Y,y=d):E=E.next=Y,gt.lanes|=Q,ti|=Q;L=L.next}while(L!==null&&L!==n);if(E===null?y=d:E.next=S,!ze(d,e.memoizedState)&&(ie=!0,V&&(a=us,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=E,o.lastRenderedState=d}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gu(e){var n=Qt(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,c=a.pending,d=n.memoizedState;if(c!==null){a.pending=null;var y=c=c.next;do d=e(d,y.action),y=y.next;while(y!==c);ze(d,n.memoizedState)||(ie=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,o]}function wd(e,n,a){var o=gt,c=Qt(),d=Mt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!ze((Dt||c).memoizedState,a);y&&(c.memoizedState=a,ie=!0),c=c.queue;var S=Td.bind(null,o,c,e);if(ur(2048,8,S,[e]),c.getSnapshot!==n||y||$t!==null&&$t.memoizedState.tag&1){if(o.flags|=2048,ds(9,qa(),Cd.bind(null,o,c,a,n),null),Pt===null)throw Error(r(349));d||(In&124)!==0||Ad(o,n,a)}return a}function Ad(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=gt.updateQueue,n===null?(n=du(),gt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Cd(e,n,a,o){n.value=a,n.getSnapshot=o,Md(n)&&Ed(e)}function Td(e,n,a){return a(function(){Md(n)&&Ed(e)})}function Md(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!ze(e,a)}catch{return!0}}function Ed(e){var n=ss(e,2);n!==null&&ke(n,e,2)}function yu(e){var n=we();if(typeof e=="function"){var a=e;if(e=a(),Ei){Ln(!0);try{a()}finally{Ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},n}function Rd(e,n,a,o){return e.baseState=a,mu(e,Dt,typeof o=="function"?o:An)}function zx(e,n,a,o,c){if(Ia(e))throw Error(r(485));if(e=n.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};b.T!==null?a(!0):d.isTransition=!1,o(d),a=n.pending,a===null?(d.next=n.pending=d,Od(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Od(e,n){var a=n.action,o=n.payload,c=e.state;if(n.isTransition){var d=b.T,y={};b.T=y;try{var S=a(c,o),E=b.S;E!==null&&E(y,S),zd(e,n,S)}catch(L){vu(e,n,L)}finally{b.T=d}}else try{d=a(c,o),zd(e,n,d)}catch(L){vu(e,n,L)}}function zd(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Dd(e,n,o)},function(o){return vu(e,n,o)}):Dd(e,n,a)}function Dd(e,n,a){n.status="fulfilled",n.value=a,Ud(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Od(e,a)))}function vu(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,Ud(n),n=n.next;while(n!==o)}e.action=null}function Ud(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Bd(e,n){return n}function Nd(e,n){if(Mt){var a=Pt.formState;if(a!==null){t:{var o=gt;if(Mt){if(Ft){e:{for(var c=Ft,d=ln;c.nodeType!==8;){if(!d){c=null;break e}if(c=en(c.nextSibling),c===null){c=null;break e}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ft=en(c.nextSibling),o=c.data==="F!";break t}}Ai(o)}o=!1}o&&(n=a[0])}}return a=we(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bd,lastRenderedState:n},a.queue=o,a=tp.bind(null,gt,o),o.dispatch=a,o=yu(!1),d=wu.bind(null,gt,!1,o.queue),o=we(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,a=zx.bind(null,gt,c,d,a),c.dispatch=a,o.memoizedState=e,[n,a,!1]}function Hd(e){var n=Qt();return kd(n,Dt,e)}function kd(e,n,a){if(n=mu(e,n,Bd)[0],e=Fa(An)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=or(n)}catch(y){throw y===nr?Ga:y}else o=n;n=Qt();var c=n.queue,d=c.dispatch;return a!==n.memoizedState&&(gt.flags|=2048,ds(9,qa(),Dx.bind(null,c,a),null)),[o,d,e]}function Dx(e,n){e.action=n}function Gd(e){var n=Qt(),a=Dt;if(a!==null)return kd(n,a,e);Qt(),n=n.memoizedState,a=Qt();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ds(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=gt.updateQueue,n===null&&(n=du(),gt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function qa(){return{destroy:void 0,resource:void 0}}function Pd(){return Qt().memoizedState}function Va(e,n,a,o){var c=we();o=o===void 0?null:o,gt.flags|=e,c.memoizedState=ds(1|n,qa(),a,o)}function ur(e,n,a,o){var c=Qt();o=o===void 0?null:o;var d=c.memoizedState.inst;Dt!==null&&o!==null&&ou(o,Dt.memoizedState.deps)?c.memoizedState=ds(n,d,a,o):(gt.flags|=e,c.memoizedState=ds(1|n,d,a,o))}function Ld(e,n){Va(8390656,8,e,n)}function Yd(e,n){ur(2048,8,e,n)}function Xd(e,n){return ur(4,2,e,n)}function jd(e,n){return ur(4,4,e,n)}function Fd(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qd(e,n,a){a=a!=null?a.concat([e]):null,ur(4,4,Fd.bind(null,n,e),a)}function xu(){}function Vd(e,n){var a=Qt();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&ou(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function Id(e,n){var a=Qt();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&ou(n,o[1]))return o[0];if(o=e(),Ei){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o}function bu(e,n,a){return a===void 0||(In&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=$p(),gt.lanes|=e,ti|=e,a)}function Wd(e,n,a,o){return ze(a,n)?a:hs.current!==null?(e=bu(e,a,o),ze(e,n)||(ie=!0),e):(In&42)===0?(ie=!0,e.memoizedState=a):(e=$p(),gt.lanes|=e,ti|=e,n)}function Zd(e,n,a,o,c){var d=T.p;T.p=d!==0&&8>d?d:8;var y=b.T,S={};b.T=S,wu(e,!1,n,a);try{var E=c(),L=b.S;if(L!==null&&L(S,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var V=Ex(E,o);hr(e,n,V,He(e))}else hr(e,n,o,He(e))}catch(Q){hr(e,n,{then:function(){},status:"rejected",reason:Q},He())}finally{T.p=d,b.T=y}}function Ux(){}function _u(e,n,a,o){if(e.tag!==5)throw Error(r(476));var c=$d(e).queue;Zd(e,c,n,R,a===null?Ux:function(){return Qd(e),a(o)})}function $d(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:R,baseState:R,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:R},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Qd(e){var n=$d(e).next.queue;hr(e,n,{},He())}function Su(){return de(Er)}function Kd(){return Qt().memoizedState}function Jd(){return Qt().memoizedState}function Bx(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=He();e=qn(a);var o=Vn(n,e,a);o!==null&&(ke(o,n,a),sr(o,n,a)),n={cache:Ko()},e.payload=n;return}n=n.return}}function Nx(e,n,a){var o=He();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ia(e)?ep(n,a):(a=Xo(e,n,a,o),a!==null&&(ke(a,e,o),np(a,n,o)))}function tp(e,n,a){var o=He();hr(e,n,a,o)}function hr(e,n,a,o){var c={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ia(e))ep(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,S=d(y,a);if(c.hasEagerState=!0,c.eagerState=S,ze(S,y))return Oa(e,n,c,0),Pt===null&&Ra(),!1}catch{}finally{}if(a=Xo(e,n,c,o),a!==null)return ke(a,e,o),np(a,n,o),!0}return!1}function wu(e,n,a,o){if(o={lane:2,revertLane:eh(),action:o,hasEagerState:!1,eagerState:null,next:null},Ia(e)){if(n)throw Error(r(479))}else n=Xo(e,a,o,2),n!==null&&ke(n,e,2)}function Ia(e){var n=e.alternate;return e===gt||n!==null&&n===gt}function ep(e,n){cs=Ya=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function np(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,hf(e,a)}}var Wa={readContext:de,use:ja,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useLayoutEffect:Wt,useInsertionEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useSyncExternalStore:Wt,useId:Wt,useHostTransitionStatus:Wt,useFormState:Wt,useActionState:Wt,useOptimistic:Wt,useMemoCache:Wt,useCacheRefresh:Wt},ip={readContext:de,use:ja,useCallback:function(e,n){return we().memoizedState=[e,n===void 0?null:n],e},useContext:de,useEffect:Ld,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Va(4194308,4,Fd.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Va(4194308,4,e,n)},useInsertionEffect:function(e,n){Va(4,2,e,n)},useMemo:function(e,n){var a=we();n=n===void 0?null:n;var o=e();if(Ei){Ln(!0);try{e()}finally{Ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=we();if(a!==void 0){var c=a(n);if(Ei){Ln(!0);try{a(n)}finally{Ln(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=Nx.bind(null,gt,e),[o.memoizedState,e]},useRef:function(e){var n=we();return e={current:e},n.memoizedState=e},useState:function(e){e=yu(e);var n=e.queue,a=tp.bind(null,gt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:xu,useDeferredValue:function(e,n){var a=we();return bu(a,e,n)},useTransition:function(){var e=yu(!1);return e=Zd.bind(null,gt,e.queue,!0,!1),we().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=gt,c=we();if(Mt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Pt===null)throw Error(r(349));(wt&124)!==0||Ad(o,n,a)}c.memoizedState=a;var d={value:a,getSnapshot:n};return c.queue=d,Ld(Td.bind(null,o,d,e),[e]),o.flags|=2048,ds(9,qa(),Cd.bind(null,o,d,a,n),null),a},useId:function(){var e=we(),n=Pt.identifierPrefix;if(Mt){var a=_n,o=bn;a=(o&~(1<<32-Oe(o)-1)).toString(32)+a,n="«"+n+"R"+a,a=Xa++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=Rx++,n="«"+n+"r"+a.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:Su,useFormState:Nd,useActionState:Nd,useOptimistic:function(e){var n=we();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=wu.bind(null,gt,!0,a),a.dispatch=n,[e,n]},useMemoCache:pu,useCacheRefresh:function(){return we().memoizedState=Bx.bind(null,gt)}},sp={readContext:de,use:ja,useCallback:Vd,useContext:de,useEffect:Yd,useImperativeHandle:qd,useInsertionEffect:Xd,useLayoutEffect:jd,useMemo:Id,useReducer:Fa,useRef:Pd,useState:function(){return Fa(An)},useDebugValue:xu,useDeferredValue:function(e,n){var a=Qt();return Wd(a,Dt.memoizedState,e,n)},useTransition:function(){var e=Fa(An)[0],n=Qt().memoizedState;return[typeof e=="boolean"?e:or(e),n]},useSyncExternalStore:wd,useId:Kd,useHostTransitionStatus:Su,useFormState:Hd,useActionState:Hd,useOptimistic:function(e,n){var a=Qt();return Rd(a,Dt,e,n)},useMemoCache:pu,useCacheRefresh:Jd},Hx={readContext:de,use:ja,useCallback:Vd,useContext:de,useEffect:Yd,useImperativeHandle:qd,useInsertionEffect:Xd,useLayoutEffect:jd,useMemo:Id,useReducer:gu,useRef:Pd,useState:function(){return gu(An)},useDebugValue:xu,useDeferredValue:function(e,n){var a=Qt();return Dt===null?bu(a,e,n):Wd(a,Dt.memoizedState,e,n)},useTransition:function(){var e=gu(An)[0],n=Qt().memoizedState;return[typeof e=="boolean"?e:or(e),n]},useSyncExternalStore:wd,useId:Kd,useHostTransitionStatus:Su,useFormState:Gd,useActionState:Gd,useOptimistic:function(e,n){var a=Qt();return Dt!==null?Rd(a,Dt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:pu,useCacheRefresh:Jd},ps=null,cr=0;function Za(e){var n=cr;return cr+=1,ps===null&&(ps=[]),md(ps,e,n)}function fr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function $a(e,n){throw n.$$typeof===v?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rp(e){var n=e._init;return n(e._payload)}function ap(e){function n(N,U){if(e){var k=N.deletions;k===null?(N.deletions=[U],N.flags|=16):k.push(U)}}function a(N,U){if(!e)return null;for(;U!==null;)n(N,U),U=U.sibling;return null}function o(N){for(var U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function c(N,U){return N=xn(N,U),N.index=0,N.sibling=null,N}function d(N,U,k){return N.index=k,e?(k=N.alternate,k!==null?(k=k.index,k<U?(N.flags|=67108866,U):k):(N.flags|=67108866,U)):(N.flags|=1048576,U)}function y(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function S(N,U,k,W){return U===null||U.tag!==6?(U=Fo(k,N.mode,W),U.return=N,U):(U=c(U,k),U.return=N,U)}function E(N,U,k,W){var st=k.type;return st===C?V(N,U,k.props.children,W,k.key):U!==null&&(U.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&rp(st)===U.type)?(U=c(U,k.props),fr(U,k),U.return=N,U):(U=Da(k.type,k.key,k.props,null,N.mode,W),fr(U,k),U.return=N,U)}function L(N,U,k,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==k.containerInfo||U.stateNode.implementation!==k.implementation?(U=qo(k,N.mode,W),U.return=N,U):(U=c(U,k.children||[]),U.return=N,U)}function V(N,U,k,W,st){return U===null||U.tag!==7?(U=bi(k,N.mode,W,st),U.return=N,U):(U=c(U,k),U.return=N,U)}function Q(N,U,k){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Fo(""+U,N.mode,k),U.return=N,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return k=Da(U.type,U.key,U.props,null,N.mode,k),fr(k,U),k.return=N,k;case x:return U=qo(U,N.mode,k),U.return=N,U;case rt:var W=U._init;return U=W(U._payload),Q(N,U,k)}if(Gt(U)||ft(U))return U=bi(U,N.mode,k,null),U.return=N,U;if(typeof U.then=="function")return Q(N,Za(U),k);if(U.$$typeof===B)return Q(N,Ha(N,U),k);$a(N,U)}return null}function Y(N,U,k,W){var st=U!==null?U.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return st!==null?null:S(N,U,""+k,W);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return k.key===st?E(N,U,k,W):null;case x:return k.key===st?L(N,U,k,W):null;case rt:return st=k._init,k=st(k._payload),Y(N,U,k,W)}if(Gt(k)||ft(k))return st!==null?null:V(N,U,k,W,null);if(typeof k.then=="function")return Y(N,U,Za(k),W);if(k.$$typeof===B)return Y(N,U,Ha(N,k),W);$a(N,k)}return null}function j(N,U,k,W,st){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return N=N.get(k)||null,S(U,N,""+W,st);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case _:return N=N.get(W.key===null?k:W.key)||null,E(U,N,W,st);case x:return N=N.get(W.key===null?k:W.key)||null,L(U,N,W,st);case rt:var yt=W._init;return W=yt(W._payload),j(N,U,k,W,st)}if(Gt(W)||ft(W))return N=N.get(k)||null,V(U,N,W,st,null);if(typeof W.then=="function")return j(N,U,k,Za(W),st);if(W.$$typeof===B)return j(N,U,k,Ha(U,W),st);$a(U,W)}return null}function ht(N,U,k,W){for(var st=null,yt=null,lt=U,ut=U=0,re=null;lt!==null&&ut<k.length;ut++){lt.index>ut?(re=lt,lt=null):re=lt.sibling;var Tt=Y(N,lt,k[ut],W);if(Tt===null){lt===null&&(lt=re);break}e&&lt&&Tt.alternate===null&&n(N,lt),U=d(Tt,U,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt,lt=re}if(ut===k.length)return a(N,lt),Mt&&Si(N,ut),st;if(lt===null){for(;ut<k.length;ut++)lt=Q(N,k[ut],W),lt!==null&&(U=d(lt,U,ut),yt===null?st=lt:yt.sibling=lt,yt=lt);return Mt&&Si(N,ut),st}for(lt=o(lt);ut<k.length;ut++)re=j(lt,N,ut,k[ut],W),re!==null&&(e&&re.alternate!==null&&lt.delete(re.key===null?ut:re.key),U=d(re,U,ut),yt===null?st=re:yt.sibling=re,yt=re);return e&&lt.forEach(function(ui){return n(N,ui)}),Mt&&Si(N,ut),st}function ot(N,U,k,W){if(k==null)throw Error(r(151));for(var st=null,yt=null,lt=U,ut=U=0,re=null,Tt=k.next();lt!==null&&!Tt.done;ut++,Tt=k.next()){lt.index>ut?(re=lt,lt=null):re=lt.sibling;var ui=Y(N,lt,Tt.value,W);if(ui===null){lt===null&&(lt=re);break}e&&lt&&ui.alternate===null&&n(N,lt),U=d(ui,U,ut),yt===null?st=ui:yt.sibling=ui,yt=ui,lt=re}if(Tt.done)return a(N,lt),Mt&&Si(N,ut),st;if(lt===null){for(;!Tt.done;ut++,Tt=k.next())Tt=Q(N,Tt.value,W),Tt!==null&&(U=d(Tt,U,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt);return Mt&&Si(N,ut),st}for(lt=o(lt);!Tt.done;ut++,Tt=k.next())Tt=j(lt,N,ut,Tt.value,W),Tt!==null&&(e&&Tt.alternate!==null&&lt.delete(Tt.key===null?ut:Tt.key),U=d(Tt,U,ut),yt===null?st=Tt:yt.sibling=Tt,yt=Tt);return e&&lt.forEach(function(k1){return n(N,k1)}),Mt&&Si(N,ut),st}function Bt(N,U,k,W){if(typeof k=="object"&&k!==null&&k.type===C&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _:t:{for(var st=k.key;U!==null;){if(U.key===st){if(st=k.type,st===C){if(U.tag===7){a(N,U.sibling),W=c(U,k.props.children),W.return=N,N=W;break t}}else if(U.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===rt&&rp(st)===U.type){a(N,U.sibling),W=c(U,k.props),fr(W,k),W.return=N,N=W;break t}a(N,U);break}else n(N,U);U=U.sibling}k.type===C?(W=bi(k.props.children,N.mode,W,k.key),W.return=N,N=W):(W=Da(k.type,k.key,k.props,null,N.mode,W),fr(W,k),W.return=N,N=W)}return y(N);case x:t:{for(st=k.key;U!==null;){if(U.key===st)if(U.tag===4&&U.stateNode.containerInfo===k.containerInfo&&U.stateNode.implementation===k.implementation){a(N,U.sibling),W=c(U,k.children||[]),W.return=N,N=W;break t}else{a(N,U);break}else n(N,U);U=U.sibling}W=qo(k,N.mode,W),W.return=N,N=W}return y(N);case rt:return st=k._init,k=st(k._payload),Bt(N,U,k,W)}if(Gt(k))return ht(N,U,k,W);if(ft(k)){if(st=ft(k),typeof st!="function")throw Error(r(150));return k=st.call(k),ot(N,U,k,W)}if(typeof k.then=="function")return Bt(N,U,Za(k),W);if(k.$$typeof===B)return Bt(N,U,Ha(N,k),W);$a(N,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,U!==null&&U.tag===6?(a(N,U.sibling),W=c(U,k),W.return=N,N=W):(a(N,U),W=Fo(k,N.mode,W),W.return=N,N=W),y(N)):a(N,U)}return function(N,U,k,W){try{cr=0;var st=Bt(N,U,k,W);return ps=null,st}catch(lt){if(lt===nr||lt===Ga)throw lt;var yt=De(29,lt,null,N.mode);return yt.lanes=W,yt.return=N,yt}finally{}}}var ms=ap(!0),lp=ap(!1),Ie=z(null),on=null;function Wn(e){var n=e.alternate;X(ee,ee.current&1),X(Ie,e),on===null&&(n===null||hs.current!==null||n.memoizedState!==null)&&(on=e)}function op(e){if(e.tag===22){if(X(ee,ee.current),X(Ie,e),on===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(on=e)}}else Zn()}function Zn(){X(ee,ee.current),X(Ie,Ie.current)}function Cn(e){H(Ie),on===e&&(on=null),H(ee)}var ee=z(0);function Qa(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||dh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Au(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:g({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Cu={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=He(),c=qn(o);c.payload=n,a!=null&&(c.callback=a),n=Vn(e,c,o),n!==null&&(ke(n,e,o),sr(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=He(),c=qn(o);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Vn(e,c,o),n!==null&&(ke(n,e,o),sr(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=He(),o=qn(a);o.tag=2,n!=null&&(o.callback=n),n=Vn(e,o,a),n!==null&&(ke(n,e,a),sr(n,e,a))}};function up(e,n,a,o,c,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!Ws(a,o)||!Ws(c,d):!0}function hp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Cu.enqueueReplaceState(n,n.state,null)}function Ri(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=g({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var Ka=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function cp(e){Ka(e)}function fp(e){console.error(e)}function dp(e){Ka(e)}function Ja(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function pp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Tu(e,n,a){return a=qn(a),a.tag=3,a.payload={element:null},a.callback=function(){Ja(e,n)},a}function mp(e){return e=qn(e),e.tag=3,e}function gp(e,n,a,o){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;e.payload=function(){return c(d)},e.callback=function(){pp(n,a,o)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){pp(n,a,o),typeof c!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function kx(e,n,a,o,c){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Js(n,a,c,!0),a=Ie.current,a!==null){switch(a.tag){case 13:return on===null?$u():a.alternate===null&&qt===0&&(qt=3),a.flags&=-257,a.flags|=65536,a.lanes=c,o===eu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),Ku(e,o,c)),!1;case 22:return a.flags|=65536,o===eu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),Ku(e,o,c)),!1}throw Error(r(435,a.tag))}return Ku(e,o,c),$u(),!1}if(Mt)return n=Ie.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==Wo&&(e=Error(r(422),{cause:o}),Ks(je(e,a)))):(o!==Wo&&(n=Error(r(423),{cause:o}),Ks(je(n,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=je(o,a),c=Tu(e.stateNode,o,c),su(e,c),qt!==4&&(qt=2)),!1;var d=Error(r(520),{cause:o});if(d=je(d,a),xr===null?xr=[d]:xr.push(d),qt!==4&&(qt=2),n===null)return!0;o=je(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Tu(a.stateNode,o,e),su(a,e),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(ei===null||!ei.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=mp(c),gp(c,e,a,o),su(a,c),!1}a=a.return}while(a!==null);return!1}var yp=Error(r(461)),ie=!1;function oe(e,n,a,o){n.child=e===null?lp(n,null,a,o):ms(n,e.child,a,o)}function vp(e,n,a,o,c){a=a.render;var d=n.ref;if("ref"in o){var y={};for(var S in o)S!=="ref"&&(y[S]=o[S])}else y=o;return Ti(n),o=uu(e,n,a,y,d,c),S=hu(),e!==null&&!ie?(cu(e,n,c),Tn(e,n,c)):(Mt&&S&&Vo(n),n.flags|=1,oe(e,n,o,c),n.child)}function xp(e,n,a,o,c){if(e===null){var d=a.type;return typeof d=="function"&&!jo(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,bp(e,n,d,o,c)):(e=Da(a.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Bu(e,c)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ws,a(y,o)&&e.ref===n.ref)return Tn(e,n,c)}return n.flags|=1,e=xn(d,o),e.ref=n.ref,e.return=n,n.child=e}function bp(e,n,a,o,c){if(e!==null){var d=e.memoizedProps;if(Ws(d,o)&&e.ref===n.ref)if(ie=!1,n.pendingProps=o=d,Bu(e,c))(e.flags&131072)!==0&&(ie=!0);else return n.lanes=e.lanes,Tn(e,n,c)}return Mu(e,n,a,o,c)}function _p(e,n,a){var o=n.pendingProps,c=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(c=n.child=e.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;n.childLanes=d&~o}else n.childLanes=0,n.child=null;return Sp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ka(n,d!==null?d.cachePool:null),d!==null?bd(n,d):au(),op(n);else return n.lanes=n.childLanes=536870912,Sp(e,n,d!==null?d.baseLanes|a:a,a)}else d!==null?(ka(n,d.cachePool),bd(n,d),Zn(),n.memoizedState=null):(e!==null&&ka(n,null),au(),Zn());return oe(e,n,c,a),n.child}function Sp(e,n,a,o){var c=tu();return c=c===null?null:{parent:te._currentValue,pool:c},n.memoizedState={baseLanes:a,cachePool:c},e!==null&&ka(n,null),au(),op(n),e!==null&&Js(e,n,o,!0),null}function tl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Mu(e,n,a,o,c){return Ti(n),a=uu(e,n,a,o,void 0,c),o=hu(),e!==null&&!ie?(cu(e,n,c),Tn(e,n,c)):(Mt&&o&&Vo(n),n.flags|=1,oe(e,n,a,c),n.child)}function wp(e,n,a,o,c,d){return Ti(n),n.updateQueue=null,a=Sd(n,o,a,c),_d(e),o=hu(),e!==null&&!ie?(cu(e,n,d),Tn(e,n,d)):(Mt&&o&&Vo(n),n.flags|=1,oe(e,n,a,d),n.child)}function Ap(e,n,a,o,c){if(Ti(n),n.stateNode===null){var d=rs,y=a.contextType;typeof y=="object"&&y!==null&&(d=de(y)),d=new a(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Cu,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},nu(n),y=a.contextType,d.context=typeof y=="object"&&y!==null?de(y):rs,d.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Au(n,a,y,o),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Cu.enqueueReplaceState(d,d.state,null),ar(n,o,d,c),rr(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var S=n.memoizedProps,E=Ri(a,S);d.props=E;var L=d.context,V=a.contextType;y=rs,typeof V=="object"&&V!==null&&(y=de(V));var Q=a.getDerivedStateFromProps;V=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=n.pendingProps!==S,V||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||L!==y)&&hp(n,d,o,y),Fn=!1;var Y=n.memoizedState;d.state=Y,ar(n,o,d,c),rr(),L=n.memoizedState,S||Y!==L||Fn?(typeof Q=="function"&&(Au(n,a,Q,o),L=n.memoizedState),(E=Fn||up(n,a,E,o,Y,L,y))?(V||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),d.props=o,d.state=L,d.context=y,o=E):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,iu(e,n),y=n.memoizedProps,V=Ri(a,y),d.props=V,Q=n.pendingProps,Y=d.context,L=a.contextType,E=rs,typeof L=="object"&&L!==null&&(E=de(L)),S=a.getDerivedStateFromProps,(L=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Q||Y!==E)&&hp(n,d,o,E),Fn=!1,Y=n.memoizedState,d.state=Y,ar(n,o,d,c),rr();var j=n.memoizedState;y!==Q||Y!==j||Fn||e!==null&&e.dependencies!==null&&Na(e.dependencies)?(typeof S=="function"&&(Au(n,a,S,o),j=n.memoizedState),(V=Fn||up(n,a,V,o,Y,j,E)||e!==null&&e.dependencies!==null&&Na(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,j,E),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,j,E)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),d.props=o,d.state=j,d.context=E,o=V):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&Y===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,tl(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=ms(n,e.child,null,c),n.child=ms(n,null,a,c)):oe(e,n,a,c),n.memoizedState=d.state,e=n.child):e=Tn(e,n,c),e}function Cp(e,n,a,o){return Qs(),n.flags|=256,oe(e,n,a,o),n.child}var Eu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ru(e){return{baseLanes:e,cachePool:fd()}}function Ou(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=We),e}function Tp(e,n,a){var o=n.pendingProps,c=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Mt){if(c?Wn(n):Zn(),Mt){var S=Ft,E;if(E=S){t:{for(E=S,S=ln;E.nodeType!==8;){if(!S){S=null;break t}if(E=en(E.nextSibling),E===null){S=null;break t}}S=E}S!==null?(n.memoizedState={dehydrated:S,treeContext:_i!==null?{id:bn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},E=De(18,null,null,0),E.stateNode=S,E.return=n,n.child=E,ge=n,Ft=null,E=!0):E=!1}E||Ai(n)}if(S=n.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return dh(S)?n.lanes=32:n.lanes=536870912,null;Cn(n)}return S=o.children,o=o.fallback,c?(Zn(),c=n.mode,S=el({mode:"hidden",children:S},c),o=bi(o,c,a,null),S.return=n,o.return=n,S.sibling=o,n.child=S,c=n.child,c.memoizedState=Ru(a),c.childLanes=Ou(e,y,a),n.memoizedState=Eu,o):(Wn(n),zu(n,S))}if(E=e.memoizedState,E!==null&&(S=E.dehydrated,S!==null)){if(d)n.flags&256?(Wn(n),n.flags&=-257,n=Du(e,n,a)):n.memoizedState!==null?(Zn(),n.child=e.child,n.flags|=128,n=null):(Zn(),c=o.fallback,S=n.mode,o=el({mode:"visible",children:o.children},S),c=bi(c,S,a,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,ms(n,e.child,null,a),o=n.child,o.memoizedState=Ru(a),o.childLanes=Ou(e,y,a),n.memoizedState=Eu,n=c);else if(Wn(n),dh(S)){if(y=S.nextSibling&&S.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(r(419)),o.stack="",o.digest=y,Ks({value:o,source:null,stack:null}),n=Du(e,n,a)}else if(ie||Js(e,n,a,!1),y=(a&e.childLanes)!==0,ie||y){if(y=Pt,y!==null&&(o=a&-a,o=(o&42)!==0?1:po(o),o=(o&(y.suspendedLanes|a))!==0?0:o,o!==0&&o!==E.retryLane))throw E.retryLane=o,ss(e,o),ke(y,e,o),yp;S.data==="$?"||$u(),n=Du(e,n,a)}else S.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Ft=en(S.nextSibling),ge=n,Mt=!0,wi=null,ln=!1,e!==null&&(qe[Ve++]=bn,qe[Ve++]=_n,qe[Ve++]=_i,bn=e.id,_n=e.overflow,_i=n),n=zu(n,o.children),n.flags|=4096);return n}return c?(Zn(),c=o.fallback,S=n.mode,E=e.child,L=E.sibling,o=xn(E,{mode:"hidden",children:o.children}),o.subtreeFlags=E.subtreeFlags&65011712,L!==null?c=xn(L,c):(c=bi(c,S,a,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,S=e.child.memoizedState,S===null?S=Ru(a):(E=S.cachePool,E!==null?(L=te._currentValue,E=E.parent!==L?{parent:L,pool:L}:E):E=fd(),S={baseLanes:S.baseLanes|a,cachePool:E}),c.memoizedState=S,c.childLanes=Ou(e,y,a),n.memoizedState=Eu,o):(Wn(n),a=e.child,e=a.sibling,a=xn(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function zu(e,n){return n=el({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function el(e,n){return e=De(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Du(e,n,a){return ms(n,e.child,null,a),e=zu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Mp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),$o(e.return,n,a)}function Uu(e,n,a,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:c}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=c)}function Ep(e,n,a){var o=n.pendingProps,c=o.revealOrder,d=o.tail;if(oe(e,n,o.children,a),o=ee.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mp(e,a,n);else if(e.tag===19)Mp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(X(ee,o),c){case"forwards":for(a=n.child,c=null;a!==null;)e=a.alternate,e!==null&&Qa(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),Uu(n,!1,c,a,d);break;case"backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Qa(e)===null){n.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Uu(n,!0,a,null,d);break;case"together":Uu(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Tn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ti|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Js(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=xn(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=xn(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Bu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Na(e)))}function Gx(e,n,a){switch(n.tag){case 3:at(n,n.stateNode.containerInfo),jn(n,te,e.memoizedState.cache),Qs();break;case 27:case 5:_t(n);break;case 4:at(n,n.stateNode.containerInfo);break;case 10:jn(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Wn(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Tp(e,n,a):(Wn(n),e=Tn(e,n,a),e!==null?e.sibling:null);Wn(n);break;case 19:var c=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Js(e,n,a,!1),o=(a&n.childLanes)!==0),c){if(o)return Ep(e,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),X(ee,ee.current),o)break;return null;case 22:case 23:return n.lanes=0,_p(e,n,a);case 24:jn(n,te,e.memoizedState.cache)}return Tn(e,n,a)}function Rp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)ie=!0;else{if(!Bu(e,a)&&(n.flags&128)===0)return ie=!1,Gx(e,n,a);ie=(e.flags&131072)!==0}else ie=!1,Mt&&(n.flags&1048576)!==0&&rd(n,Ba,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")jo(o)?(e=Ri(o,e),n.tag=1,n=Ap(null,n,o,e,a)):(n.tag=0,n=Mu(null,n,o,e,a));else{if(o!=null){if(c=o.$$typeof,c===q){n.tag=11,n=vp(null,n,o,e,a);break t}else if(c===$){n.tag=14,n=xp(null,n,o,e,a);break t}}throw n=kt(o)||o,Error(r(306,n,""))}}return n;case 0:return Mu(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,c=Ri(o,n.pendingProps),Ap(e,n,o,c,a);case 3:t:{if(at(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var d=n.memoizedState;c=d.element,iu(e,n),ar(n,o,null,a);var y=n.memoizedState;if(o=y.cache,jn(n,te,o),o!==d.cache&&Qo(n,[te],a,!0),rr(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Cp(e,n,o,a);break t}else if(o!==c){c=je(Error(r(424)),n),Ks(c),n=Cp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ft=en(e.firstChild),ge=n,Mt=!0,wi=null,ln=!0,a=lp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),o===c){n=Tn(e,n,a);break t}oe(e,n,o,a)}n=n.child}return n;case 26:return tl(e,n),e===null?(a=Um(n.type,null,n.pendingProps,null))?n.memoizedState=a:Mt||(a=n.type,e=n.pendingProps,o=ml(et.current).createElement(a),o[fe]=n,o[_e]=e,he(o,a,e),ne(o),n.stateNode=o):n.memoizedState=Um(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return _t(n),e===null&&Mt&&(o=n.stateNode=Om(n.type,n.pendingProps,et.current),ge=n,ln=!0,c=Ft,si(n.type)?(ph=c,Ft=en(o.firstChild)):Ft=c),oe(e,n,n.pendingProps.children,a),tl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Mt&&((c=o=Ft)&&(o=f1(o,n.type,n.pendingProps,ln),o!==null?(n.stateNode=o,ge=n,Ft=en(o.firstChild),ln=!1,c=!0):c=!1),c||Ai(n)),_t(n),c=n.type,d=n.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,hh(c,d)?o=null:y!==null&&hh(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=uu(e,n,Ox,null,null,a),Er._currentValue=c),tl(e,n),oe(e,n,o,a),n.child;case 6:return e===null&&Mt&&((e=a=Ft)&&(a=d1(a,n.pendingProps,ln),a!==null?(n.stateNode=a,ge=n,Ft=null,e=!0):e=!1),e||Ai(n)),null;case 13:return Tp(e,n,a);case 4:return at(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ms(n,null,o,a):oe(e,n,o,a),n.child;case 11:return vp(e,n,n.type,n.pendingProps,a);case 7:return oe(e,n,n.pendingProps,a),n.child;case 8:return oe(e,n,n.pendingProps.children,a),n.child;case 12:return oe(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,jn(n,n.type,o.value),oe(e,n,o.children,a),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Ti(n),c=de(c),o=o(c),n.flags|=1,oe(e,n,o,a),n.child;case 14:return xp(e,n,n.type,n.pendingProps,a);case 15:return bp(e,n,n.type,n.pendingProps,a);case 19:return Ep(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=el(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=xn(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return _p(e,n,a);case 24:return Ti(n),o=de(te),e===null?(c=tu(),c===null&&(c=Pt,d=Ko(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),n.memoizedState={parent:o,cache:c},nu(n),jn(n,te,c)):((e.lanes&a)!==0&&(iu(e,n),ar(n,null,null,a),rr()),c=e.memoizedState,d=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),jn(n,te,o)):(o=d.cache,jn(n,te,o),o!==c.cache&&Qo(n,[te],a,!0))),oe(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Mn(e){e.flags|=4}function Op(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gm(n)){if(n=Ie.current,n!==null&&((wt&4194048)===wt?on!==null:(wt&62914560)!==wt&&(wt&536870912)===0||n!==on))throw ir=eu,dd;e.flags|=8192}}function nl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?of():536870912,e.lanes|=n,xs|=n)}function dr(e,n){if(!Mt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Yt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function Px(e,n,a){var o=n.pendingProps;switch(Io(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(n),null;case 1:return Yt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wn(te),Et(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($s(n)?Mn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,od())),Yt(n),null;case 26:return a=n.memoizedState,e===null?(Mn(n),a!==null?(Yt(n),Op(n,a)):(Yt(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Mn(n),Yt(n),Op(n,a)):(Yt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Mn(n),Yt(n),n.flags&=-16777217),null;case 27:ve(n),a=et.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Yt(n),null}e=K.current,$s(n)?ad(n):(e=Om(c,o,a),n.stateNode=e,Mn(n))}return Yt(n),null;case 5:if(ve(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return Yt(n),null}if(e=K.current,$s(n))ad(n);else{switch(c=ml(et.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(a,{is:o.is}):c.createElement(a)}}e[fe]=n,e[_e]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(he(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Mn(n)}}return Yt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Mn(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=et.current,$s(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,c=ge,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[fe]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||wm(e.nodeValue,a)),e||Ai(n)}else e=ml(e).createTextNode(o),e[fe]=n,n.stateNode=e}return Yt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=$s(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(r(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));c[fe]=n}else Qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Yt(n),c=!1}else c=od(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Cn(n),n):(Cn(n),null)}if(Cn(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),nl(n,n.updateQueue),Yt(n),null;case 4:return Et(),e===null&&rh(n.stateNode.containerInfo),Yt(n),null;case 10:return wn(n.type),Yt(n),null;case 19:if(H(ee),c=n.memoizedState,c===null)return Yt(n),null;if(o=(n.flags&128)!==0,d=c.rendering,d===null)if(o)dr(c,!1);else{if(qt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Qa(e),d!==null){for(n.flags|=128,dr(c,!1),e=d.updateQueue,n.updateQueue=e,nl(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)sd(a,e),a=a.sibling;return X(ee,ee.current&1|2),n.child}e=e.sibling}c.tail!==null&&Ee()>rl&&(n.flags|=128,o=!0,dr(c,!1),n.lanes=4194304)}else{if(!o)if(e=Qa(d),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,nl(n,e),dr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!d.alternate&&!Mt)return Yt(n),null}else 2*Ee()-c.renderingStartTime>rl&&a!==536870912&&(n.flags|=128,o=!0,dr(c,!1),n.lanes=4194304);c.isBackwards?(d.sibling=n.child,n.child=d):(e=c.last,e!==null?e.sibling=d:n.child=d,c.last=d)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Ee(),n.sibling=null,e=ee.current,X(ee,o?e&1|2:e&1),n):(Yt(n),null);case 22:case 23:return Cn(n),lu(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Yt(n),n.subtreeFlags&6&&(n.flags|=8192)):Yt(n),a=n.updateQueue,a!==null&&nl(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&H(Mi),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wn(te),Yt(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function Lx(e,n){switch(Io(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wn(te),Et(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ve(n),null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(ee),null;case 4:return Et(),null;case 10:return wn(n.type),null;case 22:case 23:return Cn(n),lu(),e!==null&&H(Mi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wn(te),null;case 25:return null;default:return null}}function zp(e,n){switch(Io(n),n.tag){case 3:wn(te),Et();break;case 26:case 27:case 5:ve(n);break;case 4:Et();break;case 13:Cn(n);break;case 19:H(ee);break;case 10:wn(n.type);break;case 22:case 23:Cn(n),lu(),e!==null&&H(Mi);break;case 24:wn(te)}}function pr(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&e)===e){o=void 0;var d=a.create,y=a.inst;o=d(),y.destroy=o}a=a.next}while(a!==c)}}catch(S){Nt(n,n.return,S)}}function $n(e,n,a){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&e)===e){var y=o.inst,S=y.destroy;if(S!==void 0){y.destroy=void 0,c=n;var E=a,L=S;try{L()}catch(V){Nt(c,E,V)}}}o=o.next}while(o!==d)}}catch(V){Nt(n,n.return,V)}}function Dp(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{xd(n,a)}catch(o){Nt(e,e.return,o)}}}function Up(e,n,a){a.props=Ri(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Nt(e,n,o)}}function mr(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(c){Nt(e,n,c)}}function un(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(c){Nt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Nt(e,n,c)}else a.current=null}function Bp(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(c){Nt(e,e.return,c)}}function Nu(e,n,a){try{var o=e.stateNode;l1(o,e.type,a,n),o[_e]=n}catch(c){Nt(e,e.return,c)}}function Np(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&si(e.type)||e.tag===4}function Hu(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&si(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ku(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=pl));else if(o!==4&&(o===27&&si(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(ku(e,n,a),e=e.sibling;e!==null;)ku(e,n,a),e=e.sibling}function il(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&si(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(il(e,n,a),e=e.sibling;e!==null;)il(e,n,a),e=e.sibling}function Hp(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);he(n,o,a),n[fe]=e,n[_e]=a}catch(d){Nt(e,e.return,d)}}var En=!1,Zt=!1,Gu=!1,kp=typeof WeakSet=="function"?WeakSet:Set,se=null;function Yx(e,n){if(e=e.containerInfo,oh=_l,e=Wf(e),Ho(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,S=-1,E=-1,L=0,V=0,Q=e,Y=null;e:for(;;){for(var j;Q!==a||c!==0&&Q.nodeType!==3||(S=y+c),Q!==d||o!==0&&Q.nodeType!==3||(E=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(j=Q.firstChild)!==null;)Y=Q,Q=j;for(;;){if(Q===e)break e;if(Y===a&&++L===c&&(S=y),Y===d&&++V===o&&(E=y),(j=Q.nextSibling)!==null)break;Q=Y,Y=Q.parentNode}Q=j}a=S===-1||E===-1?null:{start:S,end:E}}else a=null}a=a||{start:0,end:0}}else a=null;for(uh={focusedElem:e,selectionRange:a},_l=!1,se=n;se!==null;)if(n=se,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,se=e;else for(;se!==null;){switch(n=se,d=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=n,c=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ht=Ri(a.type,c,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(ht,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(ot){Nt(a,a.return,ot)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)fh(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fh(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,se=e;break}se=n.return}}function Gp(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Qn(e,a),o&4&&pr(5,a);break;case 1:if(Qn(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){Nt(a,a.return,y)}else{var c=Ri(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Nt(a,a.return,y)}}o&64&&Dp(a),o&512&&mr(a,a.return);break;case 3:if(Qn(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{xd(e,n)}catch(y){Nt(a,a.return,y)}}break;case 27:n===null&&o&4&&Hp(a);case 26:case 5:Qn(e,a),n===null&&o&4&&Bp(a),o&512&&mr(a,a.return);break;case 12:Qn(e,a);break;case 13:Qn(e,a),o&4&&Yp(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=$x.bind(null,a),p1(e,a))));break;case 22:if(o=a.memoizedState!==null||En,!o){n=n!==null&&n.memoizedState!==null||Zt,c=En;var d=Zt;En=o,(Zt=n)&&!d?Kn(e,a,(a.subtreeFlags&8772)!==0):Qn(e,a),En=c,Zt=d}break;case 30:break;default:Qn(e,a)}}function Pp(e){var n=e.alternate;n!==null&&(e.alternate=null,Pp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&yo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Lt=null,Ae=!1;function Rn(e,n,a){for(a=a.child;a!==null;)Lp(e,n,a),a=a.sibling}function Lp(e,n,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Hs,a)}catch{}switch(a.tag){case 26:Zt||un(a,n),Rn(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Zt||un(a,n);var o=Lt,c=Ae;si(a.type)&&(Lt=a.stateNode,Ae=!1),Rn(e,n,a),Ar(a.stateNode),Lt=o,Ae=c;break;case 5:Zt||un(a,n);case 6:if(o=Lt,c=Ae,Lt=null,Rn(e,n,a),Lt=o,Ae=c,Lt!==null)if(Ae)try{(Lt.nodeType===9?Lt.body:Lt.nodeName==="HTML"?Lt.ownerDocument.body:Lt).removeChild(a.stateNode)}catch(d){Nt(a,n,d)}else try{Lt.removeChild(a.stateNode)}catch(d){Nt(a,n,d)}break;case 18:Lt!==null&&(Ae?(e=Lt,Em(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dr(e)):Em(Lt,a.stateNode));break;case 4:o=Lt,c=Ae,Lt=a.stateNode.containerInfo,Ae=!0,Rn(e,n,a),Lt=o,Ae=c;break;case 0:case 11:case 14:case 15:Zt||$n(2,a,n),Zt||$n(4,a,n),Rn(e,n,a);break;case 1:Zt||(un(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Up(a,n,o)),Rn(e,n,a);break;case 21:Rn(e,n,a);break;case 22:Zt=(o=Zt)||a.memoizedState!==null,Rn(e,n,a),Zt=o;break;default:Rn(e,n,a)}}function Yp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dr(e)}catch(a){Nt(n,n.return,a)}}function Xx(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new kp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new kp),n;default:throw Error(r(435,e.tag))}}function Pu(e,n){var a=Xx(e);n.forEach(function(o){var c=Qx.bind(null,e,o);a.has(o)||(a.add(o),o.then(c,c))})}function Ue(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var c=a[o],d=e,y=n,S=y;t:for(;S!==null;){switch(S.tag){case 27:if(si(S.type)){Lt=S.stateNode,Ae=!1;break t}break;case 5:Lt=S.stateNode,Ae=!1;break t;case 3:case 4:Lt=S.stateNode.containerInfo,Ae=!0;break t}S=S.return}if(Lt===null)throw Error(r(160));Lp(d,y,c),Lt=null,Ae=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Xp(n,e),n=n.sibling}var tn=null;function Xp(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ue(n,e),Be(e),o&4&&($n(3,e,e.return),pr(3,e),$n(5,e,e.return));break;case 1:Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),o&64&&En&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var c=tn;if(Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ps]||d[fe]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),he(d,o,a),d[fe]=e,ne(d),o=d;break t;case"link":var y=Hm("link","href",c).get(o+(a.href||""));if(y){for(var S=0;S<y.length;S++)if(d=y[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(S,1);break e}}d=c.createElement(o),he(d,o,a),c.head.appendChild(d);break;case"meta":if(y=Hm("meta","content",c).get(o+(a.content||""))){for(S=0;S<y.length;S++)if(d=y[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(S,1);break e}}d=c.createElement(o),he(d,o,a),c.head.appendChild(d);break;default:throw Error(r(468,o))}d[fe]=e,ne(d),o=d}e.stateNode=o}else km(c,e.type,e.stateNode);else e.stateNode=Nm(c,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?km(c,e.type,e.stateNode):Nm(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Nu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),a!==null&&o&4&&Nu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ue(n,e),Be(e),o&512&&(Zt||a===null||un(a,a.return)),e.flags&32){c=e.stateNode;try{Qi(c,"")}catch(j){Nt(e,e.return,j)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Nu(e,c,a!==null?a.memoizedProps:c)),o&1024&&(Gu=!0);break;case 6:if(Ue(n,e),Be(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(j){Nt(e,e.return,j)}}break;case 3:if(vl=null,c=tn,tn=gl(n.containerInfo),Ue(n,e),tn=c,Be(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Dr(n.containerInfo)}catch(j){Nt(e,e.return,j)}Gu&&(Gu=!1,jp(e));break;case 4:o=tn,tn=gl(e.stateNode.containerInfo),Ue(n,e),Be(e),tn=o;break;case 12:Ue(n,e),Be(e);break;case 13:Ue(n,e),Be(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qu=Ee()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Pu(e,o)));break;case 22:c=e.memoizedState!==null;var E=a!==null&&a.memoizedState!==null,L=En,V=Zt;if(En=L||c,Zt=V||E,Ue(n,e),Zt=V,En=L,Be(e),o&8192)t:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||E||En||Zt||Oi(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){E=a=n;try{if(d=E.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{S=E.stateNode;var Q=E.memoizedProps.style,Y=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(j){Nt(E,E.return,j)}}}else if(n.tag===6){if(a===null){E=n;try{E.stateNode.nodeValue=c?"":E.memoizedProps}catch(j){Nt(E,E.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Pu(e,a))));break;case 19:Ue(n,e),Be(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Pu(e,o)));break;case 30:break;case 21:break;default:Ue(n,e),Be(e)}}function Be(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Np(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var c=a.stateNode,d=Hu(e);il(e,d,c);break;case 5:var y=a.stateNode;a.flags&32&&(Qi(y,""),a.flags&=-33);var S=Hu(e);il(e,S,y);break;case 3:case 4:var E=a.stateNode.containerInfo,L=Hu(e);ku(e,L,E);break;default:throw Error(r(161))}}catch(V){Nt(e,e.return,V)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function jp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;jp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Gp(e,n.alternate,n),n=n.sibling}function Oi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:$n(4,n,n.return),Oi(n);break;case 1:un(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Up(n,n.return,a),Oi(n);break;case 27:Ar(n.stateNode);case 26:case 5:un(n,n.return),Oi(n);break;case 22:n.memoizedState===null&&Oi(n);break;case 30:Oi(n);break;default:Oi(n)}e=e.sibling}}function Kn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Kn(c,d,a),pr(4,d);break;case 1:if(Kn(c,d,a),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Nt(o,o.return,L)}if(o=d,c=o.updateQueue,c!==null){var S=o.stateNode;try{var E=c.shared.hiddenCallbacks;if(E!==null)for(c.shared.hiddenCallbacks=null,c=0;c<E.length;c++)vd(E[c],S)}catch(L){Nt(o,o.return,L)}}a&&y&64&&Dp(d),mr(d,d.return);break;case 27:Hp(d);case 26:case 5:Kn(c,d,a),a&&o===null&&y&4&&Bp(d),mr(d,d.return);break;case 12:Kn(c,d,a);break;case 13:Kn(c,d,a),a&&y&4&&Yp(c,d);break;case 22:d.memoizedState===null&&Kn(c,d,a),mr(d,d.return);break;case 30:break;default:Kn(c,d,a)}n=n.sibling}}function Lu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&tr(a))}function Yu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e))}function hn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Fp(e,n,a,o),n=n.sibling}function Fp(e,n,a,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hn(e,n,a,o),c&2048&&pr(9,n);break;case 1:hn(e,n,a,o);break;case 3:hn(e,n,a,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&tr(e)));break;case 12:if(c&2048){hn(e,n,a,o),e=n.stateNode;try{var d=n.memoizedProps,y=d.id,S=d.onPostCommit;typeof S=="function"&&S(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Nt(n,n.return,E)}}else hn(e,n,a,o);break;case 13:hn(e,n,a,o);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?hn(e,n,a,o):gr(e,n):d._visibility&2?hn(e,n,a,o):(d._visibility|=2,gs(e,n,a,o,(n.subtreeFlags&10256)!==0)),c&2048&&Lu(y,n);break;case 24:hn(e,n,a,o),c&2048&&Yu(n.alternate,n);break;default:hn(e,n,a,o)}}function gs(e,n,a,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=e,y=n,S=a,E=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:gs(d,y,S,E,c),pr(8,y);break;case 23:break;case 22:var V=y.stateNode;y.memoizedState!==null?V._visibility&2?gs(d,y,S,E,c):gr(d,y):(V._visibility|=2,gs(d,y,S,E,c)),c&&L&2048&&Lu(y.alternate,y);break;case 24:gs(d,y,S,E,c),c&&L&2048&&Yu(y.alternate,y);break;default:gs(d,y,S,E,c)}n=n.sibling}}function gr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,c=o.flags;switch(o.tag){case 22:gr(a,o),c&2048&&Lu(o.alternate,o);break;case 24:gr(a,o),c&2048&&Yu(o.alternate,o);break;default:gr(a,o)}n=n.sibling}}var yr=8192;function ys(e){if(e.subtreeFlags&yr)for(e=e.child;e!==null;)qp(e),e=e.sibling}function qp(e){switch(e.tag){case 26:ys(e),e.flags&yr&&e.memoizedState!==null&&M1(tn,e.memoizedState,e.memoizedProps);break;case 5:ys(e);break;case 3:case 4:var n=tn;tn=gl(e.stateNode.containerInfo),ys(e),tn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=yr,yr=16777216,ys(e),yr=n):ys(e));break;default:ys(e)}}function Vp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function vr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];se=o,Wp(o,e)}Vp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ip(e),e=e.sibling}function Ip(e){switch(e.tag){case 0:case 11:case 15:vr(e),e.flags&2048&&$n(9,e,e.return);break;case 3:vr(e);break;case 12:vr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sl(e)):vr(e);break;default:vr(e)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];se=o,Wp(o,e)}Vp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:$n(8,n,n.return),sl(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,sl(n));break;default:sl(n)}e=e.sibling}}function Wp(e,n){for(;se!==null;){var a=se;switch(a.tag){case 0:case 11:case 15:$n(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:tr(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,se=o;else t:for(a=e;se!==null;){o=se;var c=o.sibling,d=o.return;if(Pp(o),o===a){se=null;break t}if(c!==null){c.return=d,se=c;break t}se=d}}}var jx={getCacheForType:function(e){var n=de(te),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},Fx=typeof WeakMap=="function"?WeakMap:Map,Rt=0,Pt=null,vt=null,wt=0,Ot=0,Ne=null,Jn=!1,vs=!1,Xu=!1,On=0,qt=0,ti=0,zi=0,ju=0,We=0,xs=0,xr=null,Ce=null,Fu=!1,qu=0,rl=1/0,al=null,ei=null,ue=0,ni=null,bs=null,_s=0,Vu=0,Iu=null,Zp=null,br=0,Wu=null;function He(){if((Rt&2)!==0&&wt!==0)return wt&-wt;if(b.T!==null){var e=os;return e!==0?e:eh()}return cf()}function $p(){We===0&&(We=(wt&536870912)===0||Mt?lf():536870912);var e=Ie.current;return e!==null&&(e.flags|=32),We}function ke(e,n,a){(e===Pt&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&(Ss(e,0),ii(e,wt,We,!1)),Gs(e,a),((Rt&2)===0||e!==Pt)&&(e===Pt&&((Rt&2)===0&&(zi|=a),qt===4&&ii(e,wt,We,!1)),cn(e))}function Qp(e,n,a){if((Rt&6)!==0)throw Error(r(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||ks(e,n),c=o?Ix(e,n):Qu(e,n,!0),d=o;do{if(c===0){vs&&!o&&ii(e,n,0,!1);break}else{if(a=e.current.alternate,d&&!qx(a)){c=Qu(e,n,!1),d=!1;continue}if(c===2){if(d=n,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var S=e;c=xr;var E=S.current.memoizedState.isDehydrated;if(E&&(Ss(S,y).flags|=256),y=Qu(S,y,!1),y!==2){if(Xu&&!E){S.errorRecoveryDisabledLanes|=d,zi|=d,c=4;break t}d=Ce,Ce=c,d!==null&&(Ce===null?Ce=d:Ce.push.apply(Ce,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){Ss(e,0),ii(e,n,0,!0);break}t:{switch(o=e,d=c,d){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:ii(o,n,We,!Jn);break t;case 2:Ce=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(c=qu+300-Ee(),10<c)){if(ii(o,n,We,!Jn),ya(o,0,!0)!==0)break t;o.timeoutHandle=Tm(Kp.bind(null,o,a,Ce,al,Fu,n,We,zi,xs,Jn,d,2,-0,0),c);break t}Kp(o,a,Ce,al,Fu,n,We,zi,xs,Jn,d,0,-0,0)}}break}while(!0);cn(e)}function Kp(e,n,a,o,c,d,y,S,E,L,V,Q,Y,j){if(e.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Mr={stylesheets:null,count:0,unsuspend:T1},qp(n),Q=E1(),Q!==null)){e.cancelPendingCommit=Q(rm.bind(null,e,n,d,a,o,c,y,S,E,V,1,Y,j)),ii(e,d,y,!L);return}rm(e,n,d,a,o,c,y,S,E)}function qx(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var c=a[o],d=c.getSnapshot;c=c.value;try{if(!ze(d(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ii(e,n,a,o){n&=~ju,n&=~zi,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var d=31-Oe(c),y=1<<d;o[d]=-1,c&=~y}a!==0&&uf(e,a,n)}function ll(){return(Rt&6)===0?(_r(0),!1):!0}function Zu(){if(vt!==null){if(Ot===0)var e=vt.return;else e=vt,Sn=Ci=null,fu(e),ps=null,cr=0,e=vt;for(;e!==null;)zp(e.alternate,e),e=e.return;vt=null}}function Ss(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,u1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Zu(),Pt=e,vt=a=xn(e.current,null),wt=n,Ot=0,Ne=null,Jn=!1,vs=ks(e,n),Xu=!1,xs=We=ju=zi=ti=qt=0,Ce=xr=null,Fu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Oe(o),d=1<<c;n|=e[c],o&=~d}return On=n,Ra(),a}function Jp(e,n){gt=null,b.H=Wa,n===nr||n===Ga?(n=gd(),Ot=3):n===dd?(n=gd(),Ot=4):Ot=n===yp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ne=n,vt===null&&(qt=1,Ja(e,je(n,e.current)))}function tm(){var e=b.H;return b.H=Wa,e===null?Wa:e}function em(){var e=b.A;return b.A=jx,e}function $u(){qt=4,Jn||(wt&4194048)!==wt&&Ie.current!==null||(vs=!0),(ti&134217727)===0&&(zi&134217727)===0||Pt===null||ii(Pt,wt,We,!1)}function Qu(e,n,a){var o=Rt;Rt|=2;var c=tm(),d=em();(Pt!==e||wt!==n)&&(al=null,Ss(e,n)),n=!1;var y=qt;t:do try{if(Ot!==0&&vt!==null){var S=vt,E=Ne;switch(Ot){case 8:Zu(),y=6;break t;case 3:case 2:case 9:case 6:Ie.current===null&&(n=!0);var L=Ot;if(Ot=0,Ne=null,ws(e,S,E,L),a&&vs){y=0;break t}break;default:L=Ot,Ot=0,Ne=null,ws(e,S,E,L)}}Vx(),y=qt;break}catch(V){Jp(e,V)}while(!0);return n&&e.shellSuspendCounter++,Sn=Ci=null,Rt=o,b.H=c,b.A=d,vt===null&&(Pt=null,wt=0,Ra()),y}function Vx(){for(;vt!==null;)nm(vt)}function Ix(e,n){var a=Rt;Rt|=2;var o=tm(),c=em();Pt!==e||wt!==n?(al=null,rl=Ee()+500,Ss(e,n)):vs=ks(e,n);t:do try{if(Ot!==0&&vt!==null){n=vt;var d=Ne;e:switch(Ot){case 1:Ot=0,Ne=null,ws(e,n,d,1);break;case 2:case 9:if(pd(d)){Ot=0,Ne=null,im(n);break}n=function(){Ot!==2&&Ot!==9||Pt!==e||(Ot=7),cn(e)},d.then(n,n);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:pd(d)?(Ot=0,Ne=null,im(n)):(Ot=0,Ne=null,ws(e,n,d,7));break;case 5:var y=null;switch(vt.tag){case 26:y=vt.memoizedState;case 5:case 27:var S=vt;if(!y||Gm(y)){Ot=0,Ne=null;var E=S.sibling;if(E!==null)vt=E;else{var L=S.return;L!==null?(vt=L,ol(L)):vt=null}break e}}Ot=0,Ne=null,ws(e,n,d,5);break;case 6:Ot=0,Ne=null,ws(e,n,d,6);break;case 8:Zu(),qt=6;break t;default:throw Error(r(462))}}Wx();break}catch(V){Jp(e,V)}while(!0);return Sn=Ci=null,b.H=o,b.A=c,Rt=a,vt!==null?0:(Pt=null,wt=0,Ra(),qt)}function Wx(){for(;vt!==null&&!pt();)nm(vt)}function nm(e){var n=Rp(e.alternate,e,On);e.memoizedProps=e.pendingProps,n===null?ol(e):vt=n}function im(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=wp(a,n,n.pendingProps,n.type,void 0,wt);break;case 11:n=wp(a,n,n.pendingProps,n.type.render,n.ref,wt);break;case 5:fu(n);default:zp(a,n),n=vt=sd(n,On),n=Rp(a,n,On)}e.memoizedProps=e.pendingProps,n===null?ol(e):vt=n}function ws(e,n,a,o){Sn=Ci=null,fu(n),ps=null,cr=0;var c=n.return;try{if(kx(e,c,n,a,wt)){qt=1,Ja(e,je(a,e.current)),vt=null;return}}catch(d){if(c!==null)throw vt=c,d;qt=1,Ja(e,je(a,e.current)),vt=null;return}n.flags&32768?(Mt||o===1?e=!0:vs||(wt&536870912)!==0?e=!1:(Jn=e=!0,(o===2||o===9||o===3||o===6)&&(o=Ie.current,o!==null&&o.tag===13&&(o.flags|=16384))),sm(n,e)):ol(n)}function ol(e){var n=e;do{if((n.flags&32768)!==0){sm(n,Jn);return}e=n.return;var a=Px(n.alternate,n,On);if(a!==null){vt=a;return}if(n=n.sibling,n!==null){vt=n;return}vt=n=e}while(n!==null);qt===0&&(qt=5)}function sm(e,n){do{var a=Lx(e.alternate,e);if(a!==null){a.flags&=32767,vt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){vt=e;return}vt=e=a}while(e!==null);qt=6,vt=null}function rm(e,n,a,o,c,d,y,S,E){e.cancelPendingCommit=null;do ul();while(ue!==0);if((Rt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(d=n.lanes|n.childLanes,d|=Yo,Tv(e,a,d,y,S,E),e===Pt&&(vt=Pt=null,wt=0),bs=n,ni=e,_s=a,Vu=d,Iu=c,Zp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Kx(pa,function(){return hm(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=b.T,b.T=null,c=T.p,T.p=2,y=Rt,Rt|=4;try{Yx(e,n,a)}finally{Rt=y,T.p=c,b.T=o}}ue=1,am(),lm(),om()}}function am(){if(ue===1){ue=0;var e=ni,n=bs,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=b.T,b.T=null;var o=T.p;T.p=2;var c=Rt;Rt|=4;try{Xp(n,e);var d=uh,y=Wf(e.containerInfo),S=d.focusedElem,E=d.selectionRange;if(y!==S&&S&&S.ownerDocument&&If(S.ownerDocument.documentElement,S)){if(E!==null&&Ho(S)){var L=E.start,V=E.end;if(V===void 0&&(V=L),"selectionStart"in S)S.selectionStart=L,S.selectionEnd=Math.min(V,S.value.length);else{var Q=S.ownerDocument||document,Y=Q&&Q.defaultView||window;if(Y.getSelection){var j=Y.getSelection(),ht=S.textContent.length,ot=Math.min(E.start,ht),Bt=E.end===void 0?ot:Math.min(E.end,ht);!j.extend&&ot>Bt&&(y=Bt,Bt=ot,ot=y);var N=Vf(S,ot),U=Vf(S,Bt);if(N&&U&&(j.rangeCount!==1||j.anchorNode!==N.node||j.anchorOffset!==N.offset||j.focusNode!==U.node||j.focusOffset!==U.offset)){var k=Q.createRange();k.setStart(N.node,N.offset),j.removeAllRanges(),ot>Bt?(j.addRange(k),j.extend(U.node,U.offset)):(k.setEnd(U.node,U.offset),j.addRange(k))}}}}for(Q=[],j=S;j=j.parentNode;)j.nodeType===1&&Q.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Q.length;S++){var W=Q[S];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}_l=!!oh,uh=oh=null}finally{Rt=c,T.p=o,b.T=a}}e.current=n,ue=2}}function lm(){if(ue===2){ue=0;var e=ni,n=bs,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=b.T,b.T=null;var o=T.p;T.p=2;var c=Rt;Rt|=4;try{Gp(e,n.alternate,n)}finally{Rt=c,T.p=o,b.T=a}}ue=3}}function om(){if(ue===4||ue===3){ue=0,St();var e=ni,n=bs,a=_s,o=Zp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ue=5:(ue=0,bs=ni=null,um(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ei=null),mo(a),n=n.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Hs,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=b.T,c=T.p,T.p=2,b.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var S=o[y];d(S.value,{componentStack:S.stack})}}finally{b.T=n,T.p=c}}(_s&3)!==0&&ul(),cn(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===Wu?br++:(br=0,Wu=e):br=0,_r(0)}}function um(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,tr(n)))}function ul(e){return am(),lm(),om(),hm()}function hm(){if(ue!==5)return!1;var e=ni,n=Vu;Vu=0;var a=mo(_s),o=b.T,c=T.p;try{T.p=32>a?32:a,b.T=null,a=Iu,Iu=null;var d=ni,y=_s;if(ue=0,bs=ni=null,_s=0,(Rt&6)!==0)throw Error(r(331));var S=Rt;if(Rt|=4,Ip(d.current),Fp(d,d.current,y,a),Rt=S,_r(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Hs,d)}catch{}return!0}finally{T.p=c,b.T=o,um(e,n)}}function cm(e,n,a){n=je(a,n),n=Tu(e.stateNode,n,2),e=Vn(e,n,2),e!==null&&(Gs(e,2),cn(e))}function Nt(e,n,a){if(e.tag===3)cm(e,e,a);else for(;n!==null;){if(n.tag===3){cm(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ei===null||!ei.has(o))){e=je(a,e),a=mp(2),o=Vn(n,a,2),o!==null&&(gp(a,o,n,e),Gs(o,2),cn(o));break}}n=n.return}}function Ku(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Fx;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(a)||(Xu=!0,c.add(a),e=Zx.bind(null,e,n,a),n.then(e,e))}function Zx(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Pt===e&&(wt&a)===a&&(qt===4||qt===3&&(wt&62914560)===wt&&300>Ee()-qu?(Rt&2)===0&&Ss(e,0):ju|=a,xs===wt&&(xs=0)),cn(e)}function fm(e,n){n===0&&(n=of()),e=ss(e,n),e!==null&&(Gs(e,n),cn(e))}function $x(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),fm(e,a)}function Qx(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),fm(e,a)}function Kx(e,n){return xe(e,n)}var hl=null,As=null,Ju=!1,cl=!1,th=!1,Di=0;function cn(e){e!==As&&e.next===null&&(As===null?hl=As=e:As=As.next=e),cl=!0,Ju||(Ju=!0,t1())}function _r(e,n){if(!th&&cl){th=!0;do for(var a=!1,o=hl;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var y=o.suspendedLanes,S=o.pingedLanes;d=(1<<31-Oe(42|e)+1)-1,d&=c&~(y&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,gm(o,d))}else d=wt,d=ya(o,o===Pt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||ks(o,d)||(a=!0,gm(o,d));o=o.next}while(a);th=!1}}function Jx(){dm()}function dm(){cl=Ju=!1;var e=0;Di!==0&&(o1()&&(e=Di),Di=0);for(var n=Ee(),a=null,o=hl;o!==null;){var c=o.next,d=pm(o,n);d===0?(o.next=null,a===null?hl=c:a.next=c,c===null&&(As=a)):(a=o,(e!==0||(d&3)!==0)&&(cl=!0)),o=c}_r(e)}function pm(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-Oe(d),S=1<<y,E=c[y];E===-1?((S&a)===0||(S&o)!==0)&&(c[y]=Cv(S,n)):E<=n&&(e.expiredLanes|=S),d&=~S}if(n=Pt,a=wt,a=ya(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&be(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ks(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&be(o),mo(a)){case 2:case 8:a=rf;break;case 32:a=pa;break;case 268435456:a=af;break;default:a=pa}return o=mm.bind(null,e),a=xe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&be(o),e.callbackPriority=2,e.callbackNode=null,2}function mm(e,n){if(ue!==0&&ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(ul()&&e.callbackNode!==a)return null;var o=wt;return o=ya(e,e===Pt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Qp(e,o,n),pm(e,Ee()),e.callbackNode!=null&&e.callbackNode===a?mm.bind(null,e):null)}function gm(e,n){if(ul())return null;Qp(e,n,!0)}function t1(){h1(function(){(Rt&6)!==0?xe(co,Jx):dm()})}function eh(){return Di===0&&(Di=lf()),Di}function ym(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sa(""+e)}function vm(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function e1(e,n,a,o,c){if(n==="submit"&&a&&a.stateNode===c){var d=ym((c[_e]||null).action),y=o.submitter;y&&(n=(n=y[_e]||null)?ym(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var S=new Ta("action","action",null,o,c);e.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Di!==0){var E=y?vm(c,y):new FormData(c);_u(a,{pending:!0,data:E,method:c.method,action:d},null,E)}}else typeof d=="function"&&(S.preventDefault(),E=y?vm(c,y):new FormData(c),_u(a,{pending:!0,data:E,method:c.method,action:d},d,E))},currentTarget:c}]})}}for(var nh=0;nh<Lo.length;nh++){var ih=Lo[nh],n1=ih.toLowerCase(),i1=ih[0].toUpperCase()+ih.slice(1);Je(n1,"on"+i1)}Je(Qf,"onAnimationEnd"),Je(Kf,"onAnimationIteration"),Je(Jf,"onAnimationStart"),Je("dblclick","onDoubleClick"),Je("focusin","onFocus"),Je("focusout","onBlur"),Je(bx,"onTransitionRun"),Je(_x,"onTransitionStart"),Je(Sx,"onTransitionCancel"),Je(td,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),s1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sr));function xm(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],c=o.event;o=o.listeners;t:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var S=o[y],E=S.instance,L=S.currentTarget;if(S=S.listener,E!==d&&c.isPropagationStopped())break t;d=S,c.currentTarget=L;try{d(c)}catch(V){Ka(V)}c.currentTarget=null,d=E}else for(y=0;y<o.length;y++){if(S=o[y],E=S.instance,L=S.currentTarget,S=S.listener,E!==d&&c.isPropagationStopped())break t;d=S,c.currentTarget=L;try{d(c)}catch(V){Ka(V)}c.currentTarget=null,d=E}}}}function xt(e,n){var a=n[go];a===void 0&&(a=n[go]=new Set);var o=e+"__bubble";a.has(o)||(bm(n,e,2,!1),a.add(o))}function sh(e,n,a){var o=0;n&&(o|=4),bm(a,e,o,n)}var fl="_reactListening"+Math.random().toString(36).slice(2);function rh(e){if(!e[fl]){e[fl]=!0,df.forEach(function(a){a!=="selectionchange"&&(s1.has(a)||sh(a,!1,e),sh(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fl]||(n[fl]=!0,sh("selectionchange",!1,n))}}function bm(e,n,a,o){switch(Fm(n)){case 2:var c=z1;break;case 8:c=D1;break;default:c=xh}a=c.bind(null,n,a,e),c=void 0,!Mo||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,a,{capture:!0,passive:c}):e.addEventListener(n,a,!0):c!==void 0?e.addEventListener(n,a,{passive:c}):e.addEventListener(n,a,!1)}function ah(e,n,a,o,c){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var S=o.stateNode.containerInfo;if(S===c)break;if(y===4)for(y=o.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;S!==null;){if(y=qi(S),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){o=d=y;continue t}S=S.parentNode}}o=o.return}Mf(function(){var L=d,V=Co(a),Q=[];t:{var Y=ed.get(e);if(Y!==void 0){var j=Ta,ht=e;switch(e){case"keypress":if(Aa(a)===0)break t;case"keydown":case"keyup":j=Kv;break;case"focusin":ht="focus",j=zo;break;case"focusout":ht="blur",j=zo;break;case"beforeblur":case"afterblur":j=zo;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Of;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Lv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=ex;break;case Qf:case Kf:case Jf:j=jv;break;case td:j=ix;break;case"scroll":case"scrollend":j=Gv;break;case"wheel":j=rx;break;case"copy":case"cut":case"paste":j=qv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Df;break;case"toggle":case"beforetoggle":j=lx}var ot=(n&4)!==0,Bt=!ot&&(e==="scroll"||e==="scrollend"),N=ot?Y!==null?Y+"Capture":null:Y;ot=[];for(var U=L,k;U!==null;){var W=U;if(k=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||k===null||N===null||(W=Ys(U,N),W!=null&&ot.push(wr(U,W,k))),Bt)break;U=U.return}0<ot.length&&(Y=new j(Y,ht,null,a,V),Q.push({event:Y,listeners:ot}))}}if((n&7)===0){t:{if(Y=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",Y&&a!==Ao&&(ht=a.relatedTarget||a.fromElement)&&(qi(ht)||ht[Fi]))break t;if((j||Y)&&(Y=V.window===V?V:(Y=V.ownerDocument)?Y.defaultView||Y.parentWindow:window,j?(ht=a.relatedTarget||a.toElement,j=L,ht=ht?qi(ht):null,ht!==null&&(Bt=u(ht),ot=ht.tag,ht!==Bt||ot!==5&&ot!==27&&ot!==6)&&(ht=null)):(j=null,ht=L),j!==ht)){if(ot=Of,W="onMouseLeave",N="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(ot=Df,W="onPointerLeave",N="onPointerEnter",U="pointer"),Bt=j==null?Y:Ls(j),k=ht==null?Y:Ls(ht),Y=new ot(W,U+"leave",j,a,V),Y.target=Bt,Y.relatedTarget=k,W=null,qi(V)===L&&(ot=new ot(N,U+"enter",ht,a,V),ot.target=k,ot.relatedTarget=Bt,W=ot),Bt=W,j&&ht)e:{for(ot=j,N=ht,U=0,k=ot;k;k=Cs(k))U++;for(k=0,W=N;W;W=Cs(W))k++;for(;0<U-k;)ot=Cs(ot),U--;for(;0<k-U;)N=Cs(N),k--;for(;U--;){if(ot===N||N!==null&&ot===N.alternate)break e;ot=Cs(ot),N=Cs(N)}ot=null}else ot=null;j!==null&&_m(Q,Y,j,ot,!1),ht!==null&&Bt!==null&&_m(Q,Bt,ht,ot,!0)}}t:{if(Y=L?Ls(L):window,j=Y.nodeName&&Y.nodeName.toLowerCase(),j==="select"||j==="input"&&Y.type==="file")var st=Lf;else if(Gf(Y))if(Yf)st=yx;else{st=mx;var yt=px}else j=Y.nodeName,!j||j.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?L&&wo(L.elementType)&&(st=Lf):st=gx;if(st&&(st=st(e,L))){Pf(Q,st,a,V);break t}yt&&yt(e,Y,L),e==="focusout"&&L&&Y.type==="number"&&L.memoizedProps.value!=null&&So(Y,"number",Y.value)}switch(yt=L?Ls(L):window,e){case"focusin":(Gf(yt)||yt.contentEditable==="true")&&(es=yt,ko=L,Zs=null);break;case"focusout":Zs=ko=es=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Zf(Q,a,V);break;case"selectionchange":if(xx)break;case"keydown":case"keyup":Zf(Q,a,V)}var lt;if(Uo)t:{switch(e){case"compositionstart":var ut="onCompositionStart";break t;case"compositionend":ut="onCompositionEnd";break t;case"compositionupdate":ut="onCompositionUpdate";break t}ut=void 0}else ts?Hf(e,a)&&(ut="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(Uf&&a.locale!=="ko"&&(ts||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&ts&&(lt=Ef()):(Xn=V,Eo="value"in Xn?Xn.value:Xn.textContent,ts=!0)),yt=dl(L,ut),0<yt.length&&(ut=new zf(ut,e,null,a,V),Q.push({event:ut,listeners:yt}),lt?ut.data=lt:(lt=kf(a),lt!==null&&(ut.data=lt)))),(lt=ux?hx(e,a):cx(e,a))&&(ut=dl(L,"onBeforeInput"),0<ut.length&&(yt=new zf("onBeforeInput","beforeinput",null,a,V),Q.push({event:yt,listeners:ut}),yt.data=lt)),e1(Q,e,L,a,V)}xm(Q,n)})}function wr(e,n,a){return{instance:e,listener:n,currentTarget:a}}function dl(e,n){for(var a=n+"Capture",o=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=Ys(e,a),c!=null&&o.unshift(wr(e,c,d)),c=Ys(e,n),c!=null&&o.push(wr(e,c,d))),e.tag===3)return o;e=e.return}return[]}function Cs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function _m(e,n,a,o,c){for(var d=n._reactName,y=[];a!==null&&a!==o;){var S=a,E=S.alternate,L=S.stateNode;if(S=S.tag,E!==null&&E===o)break;S!==5&&S!==26&&S!==27||L===null||(E=L,c?(L=Ys(a,d),L!=null&&y.unshift(wr(a,L,E))):c||(L=Ys(a,d),L!=null&&y.push(wr(a,L,E)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var r1=/\r\n?/g,a1=/\u0000|\uFFFD/g;function Sm(e){return(typeof e=="string"?e:""+e).replace(r1,`
`).replace(a1,"")}function wm(e,n){return n=Sm(n),Sm(e)===n}function pl(){}function Ut(e,n,a,o,c,d){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Qi(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Qi(e,""+o);break;case"className":xa(e,"class",o);break;case"tabIndex":xa(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":xa(e,a,o);break;case"style":Cf(e,o,d);break;case"data":if(n!=="object"){xa(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Sa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Ut(e,n,"name",c.name,c,null),Ut(e,n,"formEncType",c.formEncType,c,null),Ut(e,n,"formMethod",c.formMethod,c,null),Ut(e,n,"formTarget",c.formTarget,c,null)):(Ut(e,n,"encType",c.encType,c,null),Ut(e,n,"method",c.method,c,null),Ut(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Sa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=pl);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Sa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":xt("beforetoggle",e),xt("toggle",e),va(e,"popover",o);break;case"xlinkActuate":yn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":yn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":yn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":yn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":yn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":yn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":yn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":yn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":yn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":va(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Hv.get(a)||a,va(e,a,o))}}function lh(e,n,a,o,c,d){switch(a){case"style":Cf(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(c.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Qi(e,o):(typeof o=="number"||typeof o=="bigint")&&Qi(e,""+o);break;case"onScroll":o!=null&&xt("scroll",e);break;case"onScrollEnd":o!=null&&xt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=pl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pf.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),d=e[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(n,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,c);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):va(e,a,o)}}}function he(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",e),xt("load",e);var o=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ut(e,n,d,y,a,null)}}c&&Ut(e,n,"srcSet",a.srcSet,a,null),o&&Ut(e,n,"src",a.src,a,null);return;case"input":xt("invalid",e);var S=d=y=c=null,E=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var V=a[o];if(V!=null)switch(o){case"name":c=V;break;case"type":y=V;break;case"checked":E=V;break;case"defaultChecked":L=V;break;case"value":d=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(137,n));break;default:Ut(e,n,o,V,a,null)}}_f(e,d,S,E,L,y,c,!1),ba(e);return;case"select":xt("invalid",e),o=y=d=null;for(c in a)if(a.hasOwnProperty(c)&&(S=a[c],S!=null))switch(c){case"value":d=S;break;case"defaultValue":y=S;break;case"multiple":o=S;default:Ut(e,n,c,S,a,null)}n=d,a=y,e.multiple=!!o,n!=null?$i(e,!!o,n,!1):a!=null&&$i(e,!!o,a,!0);return;case"textarea":xt("invalid",e),d=c=o=null;for(y in a)if(a.hasOwnProperty(y)&&(S=a[y],S!=null))switch(y){case"value":o=S;break;case"defaultValue":c=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:Ut(e,n,y,S,a,null)}wf(e,o,c,d),ba(e);return;case"option":for(E in a)if(a.hasOwnProperty(E)&&(o=a[E],o!=null))switch(E){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Ut(e,n,E,o,a,null)}return;case"dialog":xt("beforetoggle",e),xt("toggle",e),xt("cancel",e),xt("close",e);break;case"iframe":case"object":xt("load",e);break;case"video":case"audio":for(o=0;o<Sr.length;o++)xt(Sr[o],e);break;case"image":xt("error",e),xt("load",e);break;case"details":xt("toggle",e);break;case"embed":case"source":case"link":xt("error",e),xt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Ut(e,n,L,o,a,null)}return;default:if(wo(n)){for(V in a)a.hasOwnProperty(V)&&(o=a[V],o!==void 0&&lh(e,n,V,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&Ut(e,n,S,o,a,null))}function l1(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,S=null,E=null,L=null,V=null;for(j in a){var Q=a[j];if(a.hasOwnProperty(j)&&Q!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":E=Q;default:o.hasOwnProperty(j)||Ut(e,n,j,null,o,Q)}}for(var Y in o){var j=o[Y];if(Q=a[Y],o.hasOwnProperty(Y)&&(j!=null||Q!=null))switch(Y){case"type":d=j;break;case"name":c=j;break;case"checked":L=j;break;case"defaultChecked":V=j;break;case"value":y=j;break;case"defaultValue":S=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,n));break;default:j!==Q&&Ut(e,n,Y,j,o,Q)}}_o(e,y,S,E,L,V,d,c);return;case"select":j=y=S=Y=null;for(d in a)if(E=a[d],a.hasOwnProperty(d)&&E!=null)switch(d){case"value":break;case"multiple":j=E;default:o.hasOwnProperty(d)||Ut(e,n,d,null,o,E)}for(c in o)if(d=o[c],E=a[c],o.hasOwnProperty(c)&&(d!=null||E!=null))switch(c){case"value":Y=d;break;case"defaultValue":S=d;break;case"multiple":y=d;default:d!==E&&Ut(e,n,c,d,o,E)}n=S,a=y,o=j,Y!=null?$i(e,!!a,Y,!1):!!o!=!!a&&(n!=null?$i(e,!!a,n,!0):$i(e,!!a,a?[]:"",!1));return;case"textarea":j=Y=null;for(S in a)if(c=a[S],a.hasOwnProperty(S)&&c!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ut(e,n,S,null,o,c)}for(y in o)if(c=o[y],d=a[y],o.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":Y=c;break;case"defaultValue":j=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(r(91));break;default:c!==d&&Ut(e,n,y,c,o,d)}Sf(e,Y,j);return;case"option":for(var ht in a)if(Y=a[ht],a.hasOwnProperty(ht)&&Y!=null&&!o.hasOwnProperty(ht))switch(ht){case"selected":e.selected=!1;break;default:Ut(e,n,ht,null,o,Y)}for(E in o)if(Y=o[E],j=a[E],o.hasOwnProperty(E)&&Y!==j&&(Y!=null||j!=null))switch(E){case"selected":e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:Ut(e,n,E,Y,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in a)Y=a[ot],a.hasOwnProperty(ot)&&Y!=null&&!o.hasOwnProperty(ot)&&Ut(e,n,ot,null,o,Y);for(L in o)if(Y=o[L],j=a[L],o.hasOwnProperty(L)&&Y!==j&&(Y!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:Ut(e,n,L,Y,o,j)}return;default:if(wo(n)){for(var Bt in a)Y=a[Bt],a.hasOwnProperty(Bt)&&Y!==void 0&&!o.hasOwnProperty(Bt)&&lh(e,n,Bt,void 0,o,Y);for(V in o)Y=o[V],j=a[V],!o.hasOwnProperty(V)||Y===j||Y===void 0&&j===void 0||lh(e,n,V,Y,o,j);return}}for(var N in a)Y=a[N],a.hasOwnProperty(N)&&Y!=null&&!o.hasOwnProperty(N)&&Ut(e,n,N,null,o,Y);for(Q in o)Y=o[Q],j=a[Q],!o.hasOwnProperty(Q)||Y===j||Y==null&&j==null||Ut(e,n,Q,Y,o,j)}var oh=null,uh=null;function ml(e){return e.nodeType===9?e:e.ownerDocument}function Am(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Cm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hh(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ch=null;function o1(){var e=window.event;return e&&e.type==="popstate"?e===ch?!1:(ch=e,!0):(ch=null,!1)}var Tm=typeof setTimeout=="function"?setTimeout:void 0,u1=typeof clearTimeout=="function"?clearTimeout:void 0,Mm=typeof Promise=="function"?Promise:void 0,h1=typeof queueMicrotask=="function"?queueMicrotask:typeof Mm<"u"?function(e){return Mm.resolve(null).then(e).catch(c1)}:Tm;function c1(e){setTimeout(function(){throw e})}function si(e){return e==="head"}function Em(e,n){var a=n,o=0,c=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var y=e.ownerDocument;if(a&1&&Ar(y.documentElement),a&2&&Ar(y.body),a&4)for(a=y.head,Ar(a),y=a.firstChild;y;){var S=y.nextSibling,E=y.nodeName;y[Ps]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||a.removeChild(y),y=S}}if(c===0){e.removeChild(d),Dr(n);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);Dr(n)}function fh(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":fh(a),yo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function f1(e,n,a,o){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ps])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function d1(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=en(e.nextSibling),e===null))return null;return e}function dh(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function p1(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var ph=null;function Rm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Om(e,n,a){switch(n=ml(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Ar(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);yo(e)}var Ze=new Map,zm=new Set;function gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var zn=T.d;T.d={f:m1,r:g1,D:y1,C:v1,L:x1,m:b1,X:S1,S:_1,M:w1};function m1(){var e=zn.f(),n=ll();return e||n}function g1(e){var n=Vi(e);n!==null&&n.tag===5&&n.type==="form"?Qd(n):zn.r(e)}var Ts=typeof document>"u"?null:document;function Dm(e,n,a){var o=Ts;if(o&&typeof n=="string"&&n){var c=Xe(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),zm.has(c)||(zm.add(c),e={rel:e,crossOrigin:a,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),he(n,"link",e),ne(n),o.head.appendChild(n)))}}function y1(e){zn.D(e),Dm("dns-prefetch",e,null)}function v1(e,n){zn.C(e,n),Dm("preconnect",e,n)}function x1(e,n,a){zn.L(e,n,a);var o=Ts;if(o&&e&&n){var c='link[rel="preload"][as="'+Xe(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Xe(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Xe(a.imageSizes)+'"]')):c+='[href="'+Xe(e)+'"]';var d=c;switch(n){case"style":d=Ms(e);break;case"script":d=Es(e)}Ze.has(d)||(e=g({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Ze.set(d,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Cr(d))||n==="script"&&o.querySelector(Tr(d))||(n=o.createElement("link"),he(n,"link",e),ne(n),o.head.appendChild(n)))}}function b1(e,n){zn.m(e,n);var a=Ts;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Xe(o)+'"][href="'+Xe(e)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Es(e)}if(!Ze.has(d)&&(e=g({rel:"modulepreload",href:e},n),Ze.set(d,e),a.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tr(d)))return}o=a.createElement("link"),he(o,"link",e),ne(o),a.head.appendChild(o)}}}function _1(e,n,a){zn.S(e,n,a);var o=Ts;if(o&&e){var c=Ii(o).hoistableStyles,d=Ms(e);n=n||"default";var y=c.get(d);if(!y){var S={loading:0,preload:null};if(y=o.querySelector(Cr(d)))S.loading=5;else{e=g({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Ze.get(d))&&mh(e,a);var E=y=o.createElement("link");ne(E),he(E,"link",e),E._p=new Promise(function(L,V){E.onload=L,E.onerror=V}),E.addEventListener("load",function(){S.loading|=1}),E.addEventListener("error",function(){S.loading|=2}),S.loading|=4,yl(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:S},c.set(d,y)}}}function S1(e,n){zn.X(e,n);var a=Ts;if(a&&e){var o=Ii(a).hoistableScripts,c=Es(e),d=o.get(c);d||(d=a.querySelector(Tr(c)),d||(e=g({src:e,async:!0},n),(n=Ze.get(c))&&gh(e,n),d=a.createElement("script"),ne(d),he(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function w1(e,n){zn.M(e,n);var a=Ts;if(a&&e){var o=Ii(a).hoistableScripts,c=Es(e),d=o.get(c);d||(d=a.querySelector(Tr(c)),d||(e=g({src:e,async:!0,type:"module"},n),(n=Ze.get(c))&&gh(e,n),d=a.createElement("script"),ne(d),he(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function Um(e,n,a,o){var c=(c=et.current)?gl(c):null;if(!c)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ms(a.href),a=Ii(c).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ms(a.href);var d=Ii(c).hoistableStyles,y=d.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=c.querySelector(Cr(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Ze.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ze.set(e,a),d||A1(c,e,a,y.state))),n&&o===null)throw Error(r(528,""));return y}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Es(a),a=Ii(c).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Ms(e){return'href="'+Xe(e)+'"'}function Cr(e){return'link[rel="stylesheet"]['+e+"]"}function Bm(e){return g({},e,{"data-precedence":e.precedence,precedence:null})}function A1(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),he(n,"link",a),ne(n),e.head.appendChild(n))}function Es(e){return'[src="'+Xe(e)+'"]'}function Tr(e){return"script[async]"+e}function Nm(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+Xe(a.href)+'"]');if(o)return n.instance=o,ne(o),o;var c=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ne(o),he(o,"style",c),yl(o,a.precedence,e),n.instance=o;case"stylesheet":c=Ms(a.href);var d=e.querySelector(Cr(c));if(d)return n.state.loading|=4,n.instance=d,ne(d),d;o=Bm(a),(c=Ze.get(c))&&mh(o,c),d=(e.ownerDocument||e).createElement("link"),ne(d);var y=d;return y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),he(d,"link",o),n.state.loading|=4,yl(d,a.precedence,e),n.instance=d;case"script":return d=Es(a.src),(c=e.querySelector(Tr(d)))?(n.instance=c,ne(c),c):(o=a,(c=Ze.get(d))&&(o=g({},a),gh(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),ne(c),he(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,yl(o,a.precedence,e));return n.instance}function yl(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,y=0;y<o.length;y++){var S=o[y];if(S.dataset.precedence===n)d=S;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function mh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function gh(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vl=null;function Hm(e,n,a){if(vl===null){var o=new Map,c=vl=new Map;c.set(a,o)}else c=vl,o=c.get(a),o||(o=new Map,c.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var d=a[c];if(!(d[Ps]||d[fe]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=e+y;var S=o.get(y);S?S.push(d):o.set(y,[d])}}return o}function km(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function C1(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var Mr=null;function T1(){}function M1(e,n,a){if(Mr===null)throw Error(r(475));var o=Mr;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=Ms(a.href),d=e.querySelector(Cr(c));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=xl.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=d,ne(d);return}d=e.ownerDocument||e,a=Bm(a),(c=Ze.get(c))&&mh(a,c),d=d.createElement("link"),ne(d);var y=d;y._p=new Promise(function(S,E){y.onload=S,y.onerror=E}),he(d,"link",a),n.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=xl.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function E1(){if(Mr===null)throw Error(r(475));var e=Mr;return e.stylesheets&&e.count===0&&yh(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&yh(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function xl(){if(this.count--,this.count===0){if(this.stylesheets)yh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bl=null;function yh(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bl=new Map,n.forEach(R1,e),bl=null,xl.call(e))}function R1(e,n){if(!(n.state.loading&4)){var a=bl.get(e);if(a)var o=a.get(null);else{a=new Map,bl.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),o=y)}o&&a.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),d=a.get(y)||o,d===o&&a.set(null,c),a.set(y,c),this.count++,o=xl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Er={$$typeof:B,Provider:null,Consumer:null,_currentValue:R,_currentValue2:R,_threadCount:0};function O1(e,n,a,o,c,d,y,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fo(0),this.hiddenUpdates=fo(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Pm(e,n,a,o,c,d,y,S,E,L,V,Q){return e=new O1(e,n,a,y,S,E,L,Q),n=1,d===!0&&(n|=24),d=De(3,null,null,n),e.current=d,d.stateNode=e,n=Ko(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:n},nu(d),e}function Lm(e){return e?(e=rs,e):rs}function Ym(e,n,a,o,c,d){c=Lm(c),o.context===null?o.context=c:o.pendingContext=c,o=qn(n),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Vn(e,o,n),a!==null&&(ke(a,e,n),sr(a,e,n))}function Xm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function vh(e,n){Xm(e,n),(e=e.alternate)&&Xm(e,n)}function jm(e){if(e.tag===13){var n=ss(e,67108864);n!==null&&ke(n,e,67108864),vh(e,67108864)}}var _l=!0;function z1(e,n,a,o){var c=b.T;b.T=null;var d=T.p;try{T.p=2,xh(e,n,a,o)}finally{T.p=d,b.T=c}}function D1(e,n,a,o){var c=b.T;b.T=null;var d=T.p;try{T.p=8,xh(e,n,a,o)}finally{T.p=d,b.T=c}}function xh(e,n,a,o){if(_l){var c=bh(o);if(c===null)ah(e,n,o,Sl,a),qm(e,o);else if(B1(c,e,n,a,o))o.stopPropagation();else if(qm(e,o),n&4&&-1<U1.indexOf(e)){for(;c!==null;){var d=Vi(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=mi(d.pendingLanes);if(y!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;y;){var E=1<<31-Oe(y);S.entanglements[1]|=E,y&=~E}cn(d),(Rt&6)===0&&(rl=Ee()+500,_r(0))}}break;case 13:S=ss(d,2),S!==null&&ke(S,d,2),ll(),vh(d,2)}if(d=bh(o),d===null&&ah(e,n,o,Sl,a),d===c)break;c=d}c!==null&&o.stopPropagation()}else ah(e,n,o,null,a)}}function bh(e){return e=Co(e),_h(e)}var Sl=null;function _h(e){if(Sl=null,e=qi(e),e!==null){var n=u(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=h(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sl=e,null}function Fm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ho()){case co:return 2;case rf:return 8;case pa:case xv:return 32;case af:return 268435456;default:return 32}default:return 32}}var Sh=!1,ri=null,ai=null,li=null,Rr=new Map,Or=new Map,oi=[],U1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qm(e,n){switch(e){case"focusin":case"focusout":ri=null;break;case"dragenter":case"dragleave":ai=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Rr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Or.delete(n.pointerId)}}function zr(e,n,a,o,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},n!==null&&(n=Vi(n),n!==null&&jm(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function B1(e,n,a,o,c){switch(n){case"focusin":return ri=zr(ri,e,n,a,o,c),!0;case"dragenter":return ai=zr(ai,e,n,a,o,c),!0;case"mouseover":return li=zr(li,e,n,a,o,c),!0;case"pointerover":var d=c.pointerId;return Rr.set(d,zr(Rr.get(d)||null,e,n,a,o,c)),!0;case"gotpointercapture":return d=c.pointerId,Or.set(d,zr(Or.get(d)||null,e,n,a,o,c)),!0}return!1}function Vm(e){var n=qi(e.target);if(n!==null){var a=u(n);if(a!==null){if(n=a.tag,n===13){if(n=h(a),n!==null){e.blockedOn=n,Mv(e.priority,function(){if(a.tag===13){var o=He();o=po(o);var c=ss(a,o);c!==null&&ke(c,a,o),vh(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=bh(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ao=o,a.target.dispatchEvent(o),Ao=null}else return n=Vi(a),n!==null&&jm(n),e.blockedOn=a,!1;n.shift()}return!0}function Im(e,n,a){wl(e)&&a.delete(n)}function N1(){Sh=!1,ri!==null&&wl(ri)&&(ri=null),ai!==null&&wl(ai)&&(ai=null),li!==null&&wl(li)&&(li=null),Rr.forEach(Im),Or.forEach(Im)}function Al(e,n){e.blockedOn===n&&(e.blockedOn=null,Sh||(Sh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,N1)))}var Cl=null;function Wm(e){Cl!==e&&(Cl=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Cl===e&&(Cl=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(_h(o||a)===null)continue;break}var d=Vi(a);d!==null&&(e.splice(n,3),n-=3,_u(d,{pending:!0,data:c,method:a.method,action:o},o,c))}}))}function Dr(e){function n(E){return Al(E,e)}ri!==null&&Al(ri,e),ai!==null&&Al(ai,e),li!==null&&Al(li,e),Rr.forEach(n),Or.forEach(n);for(var a=0;a<oi.length;a++){var o=oi[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<oi.length&&(a=oi[0],a.blockedOn===null);)Vm(a),a.blockedOn===null&&oi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var c=a[o],d=a[o+1],y=c[_e]||null;if(typeof d=="function")y||Wm(a);else if(y){var S=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[_e]||null)S=y.formAction;else if(_h(c)!==null)continue}else S=y.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),Wm(a)}}}function wh(e){this._internalRoot=e}Tl.prototype.render=wh.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=He();Ym(a,o,e,n,null,null)},Tl.prototype.unmount=wh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Ym(e.current,2,null,e,null,null),ll(),n[Fi]=null}};function Tl(e){this._internalRoot=e}Tl.prototype.unstable_scheduleHydration=function(e){if(e){var n=cf();e={blockedOn:null,target:e,priority:n};for(var a=0;a<oi.length&&n!==0&&n<oi[a].priority;a++);oi.splice(a,0,e),a===0&&Vm(e)}};var Zm=t.version;if(Zm!=="19.1.0")throw Error(r(527,Zm,"19.1.0"));T.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=p(n),e=e!==null?m(e):null,e=e===null?null:e.stateNode,e};var H1={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:b,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{Hs=Ml.inject(H1),Re=Ml}catch{}}return Br.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",c=cp,d=fp,y=dp,S=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(S=n.unstable_transitionCallbacks)),n=Pm(e,1,!1,null,null,a,o,c,d,y,S,null),e[Fi]=n.current,rh(e),new wh(n)},Br.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,c="",d=cp,y=fp,S=dp,E=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=Pm(e,1,!0,n,a??null,o,c,d,y,S,E,L),n.context=Lm(null),a=n.current,o=He(),o=po(o),c=qn(o),c.callback=null,Vn(a,c,o),a=o,n.current.lanes=a,Gs(n,a),cn(n),e[Fi]=n.current,rh(e),new Tl(n)},Br.version="19.1.0",Br}var rg;function V1(){if(rg)return Ch.exports;rg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ch.exports=q1(),Ch.exports}var I1=V1();const W1=ha(I1);var P=Lc();const me=ha(P);var Nr={},ag;function Z1(){if(ag)return Nr;ag=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.parse=h,Nr.serialize=m;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function h(_,x){const C=new u,O=_.length;if(O<2)return C;const A=(x==null?void 0:x.decode)||g;let M=0;do{const D=_.indexOf("=",M);if(D===-1)break;const B=_.indexOf(";",M),q=B===-1?O:B;if(D>q){M=_.lastIndexOf(";",D-1)+1;continue}const I=f(_,M,D),Z=p(_,D,I),$=_.slice(I,Z);if(C[$]===void 0){let rt=f(_,D+1,q),it=p(_,q,rt);const tt=A(_.slice(rt,it));C[$]=tt}M=q+1}while(M<O);return C}function f(_,x,C){do{const O=_.charCodeAt(x);if(O!==32&&O!==9)return x}while(++x<C);return C}function p(_,x,C){for(;x>C;){const O=_.charCodeAt(--x);if(O!==32&&O!==9)return x+1}return C}function m(_,x,C){const O=(C==null?void 0:C.encode)||encodeURIComponent;if(!s.test(_))throw new TypeError(`argument name is invalid: ${_}`);const A=O(x);if(!t.test(A))throw new TypeError(`argument val is invalid: ${x}`);let M=_+"="+A;if(!C)return M;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);M+="; Max-Age="+C.maxAge}if(C.domain){if(!i.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);M+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);M+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);M+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(M+="; HttpOnly"),C.secure&&(M+="; Secure"),C.partitioned&&(M+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":M+="; Priority=Low";break;case"medium":M+="; Priority=Medium";break;case"high":M+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":M+="; SameSite=Strict";break;case"lax":M+="; SameSite=Lax";break;case"none":M+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return M}function g(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function v(_){return l.call(_)==="[object Date]"}return Nr}Z1();var lg="popstate";function $1(s={}){function t(l,u){let{pathname:h="/",search:f="",hash:p=""}=Xi(l.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),pc("",{pathname:h,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(l,u){let h=l.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let p=l.location.href,m=p.indexOf("#");f=m===-1?p:p.slice(0,m)}return f+"#"+(typeof u=="string"?u:ea(u))}function r(l,u){sn(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return K1(t,i,r,s)}function jt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function sn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Q1(){return Math.random().toString(36).substring(2,10)}function og(s,t){return{usr:s.state,key:s.key,idx:t}}function pc(s,t,i=null,r){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Xi(t):t,state:i,key:t&&t.key||r||Q1()}}function ea({pathname:s="/",search:t="",hash:i=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function Xi(s){let t={};if(s){let i=s.indexOf("#");i>=0&&(t.hash=s.substring(i),s=s.substring(0,i));let r=s.indexOf("?");r>=0&&(t.search=s.substring(r),s=s.substring(0,r)),s&&(t.pathname=s)}return t}function K1(s,t,i,r={}){let{window:l=document.defaultView,v5Compat:u=!1}=r,h=l.history,f="POP",p=null,m=g();m==null&&(m=0,h.replaceState({...h.state,idx:m},""));function g(){return(h.state||{idx:null}).idx}function v(){f="POP";let A=g(),M=A==null?null:A-m;m=A,p&&p({action:f,location:O.location,delta:M})}function _(A,M){f="PUSH";let D=pc(O.location,A,M);i&&i(D,A),m=g()+1;let B=og(D,m),q=O.createHref(D);try{h.pushState(B,"",q)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;l.location.assign(q)}u&&p&&p({action:f,location:O.location,delta:1})}function x(A,M){f="REPLACE";let D=pc(O.location,A,M);i&&i(D,A),m=g();let B=og(D,m),q=O.createHref(D);h.replaceState(B,"",q),u&&p&&p({action:f,location:O.location,delta:0})}function C(A){let M=l.location.origin!=="null"?l.location.origin:l.location.href,D=typeof A=="string"?A:ea(A);return D=D.replace(/ $/,"%20"),jt(M,`No window.location.(origin|href) available to create URL for href: ${D}`),new URL(D,M)}let O={get action(){return f},get location(){return s(l,h)},listen(A){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(lg,v),p=A,()=>{l.removeEventListener(lg,v),p=null}},createHref(A){return t(l,A)},createURL:C,encodeLocation(A){let M=C(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:_,replace:x,go(A){return h.go(A)}};return O}function Cy(s,t,i="/"){return J1(s,t,i,!1)}function J1(s,t,i,r){let l=typeof t=="string"?Xi(t):t,u=Hn(l.pathname||"/",i);if(u==null)return null;let h=Ty(s);tb(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let m=cb(u);f=ub(h[p],m,r)}return f}function Ty(s,t=[],i=[],r=""){let l=(u,h,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(jt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=Un([r,p.relativePath]),g=i.concat(p);u.children&&u.children.length>0&&(jt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Ty(u.children,t,g,m)),!(u.path==null&&!u.index)&&t.push({path:m,score:lb(m,u.index),routesMeta:g})};return s.forEach((u,h)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,h);else for(let p of My(u.path))l(u,h,p)}),t}function My(s){let t=s.split("/");if(t.length===0)return[];let[i,...r]=t,l=i.endsWith("?"),u=i.replace(/\?$/,"");if(r.length===0)return l?[u,""]:[u];let h=My(r.join("/")),f=[];return f.push(...h.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...h),f.map(p=>s.startsWith("/")&&p===""?"/":p)}function tb(s){s.sort((t,i)=>t.score!==i.score?i.score-t.score:ob(t.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}var eb=/^:[\w-]+$/,nb=3,ib=2,sb=1,rb=10,ab=-2,ug=s=>s==="*";function lb(s,t){let i=s.split("/"),r=i.length;return i.some(ug)&&(r+=ab),t&&(r+=ib),i.filter(l=>!ug(l)).reduce((l,u)=>l+(eb.test(u)?nb:u===""?sb:rb),r)}function ob(s,t){return s.length===t.length&&s.slice(0,-1).every((r,l)=>r===t[l])?s[s.length-1]-t[t.length-1]:0}function ub(s,t,i=!1){let{routesMeta:r}=s,l={},u="/",h=[];for(let f=0;f<r.length;++f){let p=r[f],m=f===r.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=Il({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},g),_=p.route;if(!v&&m&&i&&!r[r.length-1].route.index&&(v=Il({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},g)),!v)return null;Object.assign(l,v.params),h.push({params:l,pathname:Un([u,v.pathname]),pathnameBase:mb(Un([u,v.pathnameBase])),route:_}),v.pathnameBase!=="/"&&(u=Un([u,v.pathnameBase]))}return h}function Il(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,r]=hb(s.path,s.caseSensitive,s.end),l=t.match(i);if(!l)return null;let u=l[0],h=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},_)=>{if(g==="*"){let C=f[_]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const x=f[_];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:u,pathnameBase:h,pattern:s}}function hb(s,t=!1,i=!0){sn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let r=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(r.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),r]}function cb(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return sn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Hn(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,r=s.charAt(i);return r&&r!=="/"?null:s.slice(i)||"/"}function fb(s,t="/"){let{pathname:i,search:r="",hash:l=""}=typeof s=="string"?Xi(s):s;return{pathname:i?i.startsWith("/")?i:db(i,t):t,search:gb(r),hash:yb(l)}}function db(s,t){let i=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?i.length>1&&i.pop():l!=="."&&i.push(l)}),i.length>1?i.join("/"):"/"}function Oh(s,t,i,r){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pb(s){return s.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Ey(s){let t=pb(s);return t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase)}function Ry(s,t,i,r=!1){let l;typeof s=="string"?l=Xi(s):(l={...s},jt(!l.pathname||!l.pathname.includes("?"),Oh("?","pathname","search",l)),jt(!l.pathname||!l.pathname.includes("#"),Oh("#","pathname","hash",l)),jt(!l.search||!l.search.includes("#"),Oh("#","search","hash",l)));let u=s===""||l.pathname==="",h=u?"/":l.pathname,f;if(h==null)f=i;else{let v=t.length-1;if(!r&&h.startsWith("..")){let _=h.split("/");for(;_[0]==="..";)_.shift(),v-=1;l.pathname=_.join("/")}f=v>=0?t[v]:"/"}let p=fb(l,f),m=h&&h!=="/"&&h.endsWith("/"),g=(u||h===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(m||g)&&(p.pathname+="/"),p}var Un=s=>s.join("/").replace(/\/\/+/g,"/"),mb=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),gb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,yb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function vb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var Oy=["POST","PUT","PATCH","DELETE"];new Set(Oy);var xb=["GET",...Oy];new Set(xb);var Ns=P.createContext(null);Ns.displayName="DataRouter";var Kl=P.createContext(null);Kl.displayName="DataRouterState";var zy=P.createContext({isTransitioning:!1});zy.displayName="ViewTransition";var bb=P.createContext(new Map);bb.displayName="Fetchers";var _b=P.createContext(null);_b.displayName="Await";var pn=P.createContext(null);pn.displayName="Navigation";var ca=P.createContext(null);ca.displayName="Location";var mn=P.createContext({outlet:null,matches:[],isDataRoute:!1});mn.displayName="Route";var Yc=P.createContext(null);Yc.displayName="RouteError";function Sb(s,{relative:t}={}){jt(fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:r}=P.useContext(pn),{hash:l,pathname:u,search:h}=da(s,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Un([i,u])),r.createHref({pathname:f,search:h,hash:l})}function fa(){return P.useContext(ca)!=null}function pi(){return jt(fa(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ca).location}var Dy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Uy(s){P.useContext(pn).static||P.useLayoutEffect(s)}function wb(){let{isDataRoute:s}=P.useContext(mn);return s?Hb():Ab()}function Ab(){jt(fa(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(Ns),{basename:t,navigator:i}=P.useContext(pn),{matches:r}=P.useContext(mn),{pathname:l}=pi(),u=JSON.stringify(Ey(r)),h=P.useRef(!1);return Uy(()=>{h.current=!0}),P.useCallback((p,m={})=>{if(sn(h.current,Dy),!h.current)return;if(typeof p=="number"){i.go(p);return}let g=Ry(p,JSON.parse(u),l,m.relative==="path");s==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Un([t,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[t,i,u,l,s])}P.createContext(null);function By(){let{matches:s}=P.useContext(mn),t=s[s.length-1];return t?t.params:{}}function da(s,{relative:t}={}){let{matches:i}=P.useContext(mn),{pathname:r}=pi(),l=JSON.stringify(Ey(i));return P.useMemo(()=>Ry(s,JSON.parse(l),r,t==="path"),[s,l,r,t])}function Cb(s,t){return Ny(s,t)}function Ny(s,t,i,r){var D;jt(fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=P.useContext(pn),{matches:h}=P.useContext(mn),f=h[h.length-1],p=f?f.params:{},m=f?f.pathname:"/",g=f?f.pathnameBase:"/",v=f&&f.route;{let B=v&&v.path||"";Hy(m,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let _=pi(),x;if(t){let B=typeof t=="string"?Xi(t):t;jt(g==="/"||((D=B.pathname)==null?void 0:D.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),x=B}else x=_;let C=x.pathname||"/",O=C;if(g!=="/"){let B=g.replace(/^\//,"").split("/");O="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let A=!u&&i&&i.matches&&i.matches.length>0?i.matches:Cy(s,{pathname:O});sn(v||A!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),sn(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=Ob(A&&A.map(B=>Object.assign({},B,{params:Object.assign({},p,B.params),pathname:Un([g,l.encodeLocation?l.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:Un([g,l.encodeLocation?l.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),h,i,r);return t&&M?P.createElement(ca.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},M):M}function Tb(){let s=Nb(),t=vb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",s),h=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),i?P.createElement("pre",{style:l},i):null,h)}var Mb=P.createElement(Tb,null),Eb=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?P.createElement(mn.Provider,{value:this.props.routeContext},P.createElement(Yc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rb({routeContext:s,match:t,children:i}){let r=P.useContext(Ns);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(mn.Provider,{value:s},i)}function Ob(s,t=[],i=null,r=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let l=s,u=i==null?void 0:i.errors;if(u!=null){let p=l.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id])!==void 0);jt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let h=!1,f=-1;if(i)for(let p=0;p<l.length;p++){let m=l[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=p),m.route.id){let{loaderData:g,errors:v}=i,_=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||_){h=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((p,m,g)=>{let v,_=!1,x=null,C=null;i&&(v=u&&m.route.id?u[m.route.id]:void 0,x=m.route.errorElement||Mb,h&&(f<0&&g===0?(Hy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,C=null):f===g&&(_=!0,C=m.route.hydrateFallbackElement||null)));let O=t.concat(l.slice(0,g+1)),A=()=>{let M;return v?M=x:_?M=C:m.route.Component?M=P.createElement(m.route.Component,null):m.route.element?M=m.route.element:M=p,P.createElement(Rb,{match:m,routeContext:{outlet:p,matches:O,isDataRoute:i!=null},children:M})};return i&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?P.createElement(Eb,{location:i.location,revalidation:i.revalidation,component:x,error:v,children:A(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):A()},null)}function Xc(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zb(s){let t=P.useContext(Ns);return jt(t,Xc(s)),t}function Db(s){let t=P.useContext(Kl);return jt(t,Xc(s)),t}function Ub(s){let t=P.useContext(mn);return jt(t,Xc(s)),t}function jc(s){let t=Ub(s),i=t.matches[t.matches.length-1];return jt(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function Bb(){return jc("useRouteId")}function Nb(){var r;let s=P.useContext(Yc),t=Db("useRouteError"),i=jc("useRouteError");return s!==void 0?s:(r=t.errors)==null?void 0:r[i]}function Hb(){let{router:s}=zb("useNavigate"),t=jc("useNavigate"),i=P.useRef(!1);return Uy(()=>{i.current=!0}),P.useCallback(async(l,u={})=>{sn(i.current,Dy),i.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:t,...u}))},[s,t])}var hg={};function Hy(s,t,i){!t&&!hg[s]&&(hg[s]=!0,sn(!1,i))}P.memo(kb);function kb({routes:s,future:t,state:i}){return Ny(s,void 0,i,t)}function jr(s){jt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gb({basename:s="/",children:t=null,location:i,navigationType:r="POP",navigator:l,static:u=!1}){jt(!fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=s.replace(/^\/*/,"/"),f=P.useMemo(()=>({basename:h,navigator:l,static:u,future:{}}),[h,l,u]);typeof i=="string"&&(i=Xi(i));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:_="default"}=i,x=P.useMemo(()=>{let C=Hn(p,h);return C==null?null:{location:{pathname:C,search:m,hash:g,state:v,key:_},navigationType:r}},[h,p,m,g,v,_,r]);return sn(x!=null,`<Router basename="${h}"> is not able to match the URL "${p}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:P.createElement(pn.Provider,{value:f},P.createElement(ca.Provider,{children:t,value:x}))}function Pb({children:s,location:t}){return Cb(mc(s),t)}function mc(s,t=[]){let i=[];return P.Children.forEach(s,(r,l)=>{if(!P.isValidElement(r))return;let u=[...t,l];if(r.type===P.Fragment){i.push.apply(i,mc(r.props.children,u));return}jt(r.type===jr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),jt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=mc(r.props.children,u)),i.push(h)}),i}var Ll="get",Yl="application/x-www-form-urlencoded";function Jl(s){return s!=null&&typeof s.tagName=="string"}function Lb(s){return Jl(s)&&s.tagName.toLowerCase()==="button"}function Yb(s){return Jl(s)&&s.tagName.toLowerCase()==="form"}function Xb(s){return Jl(s)&&s.tagName.toLowerCase()==="input"}function jb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Fb(s,t){return s.button===0&&(!t||t==="_self")&&!jb(s)}var El=null;function qb(){if(El===null)try{new FormData(document.createElement("form"),0),El=!1}catch{El=!0}return El}var Vb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zh(s){return s!=null&&!Vb.has(s)?(sn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yl}"`),null):s}function Ib(s,t){let i,r,l,u,h;if(Yb(s)){let f=s.getAttribute("action");r=f?Hn(f,t):null,i=s.getAttribute("method")||Ll,l=zh(s.getAttribute("enctype"))||Yl,u=new FormData(s)}else if(Lb(s)||Xb(s)&&(s.type==="submit"||s.type==="image")){let f=s.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||f.getAttribute("action");if(r=p?Hn(p,t):null,i=s.getAttribute("formmethod")||f.getAttribute("method")||Ll,l=zh(s.getAttribute("formenctype"))||zh(f.getAttribute("enctype"))||Yl,u=new FormData(f,s),!qb()){let{name:m,type:g,value:v}=s;if(g==="image"){let _=m?`${m}.`:"";u.append(`${_}x`,"0"),u.append(`${_}y`,"0")}else m&&u.append(m,v)}}else{if(Jl(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ll,r=null,l=Yl,h=s}return u&&l==="text/plain"&&(h=u,u=void 0),{action:r,method:i.toLowerCase(),encType:l,formData:u,body:h}}function Fc(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function Wb(s,t){if(s.id in t)return t[s.id];try{let i=await import(s.module);return t[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function $b(s,t,i){let r=await Promise.all(s.map(async l=>{let u=t.routes[l.route.id];if(u){let h=await Wb(u,i);return h.links?h.links():[]}return[]}));return t_(r.flat(1).filter(Zb).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function cg(s,t,i,r,l,u){let h=(p,m)=>i[m]?p.route.id!==i[m].route.id:!0,f=(p,m)=>{var g;return i[m].pathname!==p.pathname||((g=i[m].route.path)==null?void 0:g.endsWith("*"))&&i[m].params["*"]!==p.params["*"]};return u==="assets"?t.filter((p,m)=>h(p,m)||f(p,m)):u==="data"?t.filter((p,m)=>{var v;let g=r.routes[p.route.id];if(!g||!g.hasLoader)return!1;if(h(p,m)||f(p,m))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((v=i[0])==null?void 0:v.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function Qb(s,t,{includeHydrateFallback:i}={}){return Kb(s.map(r=>{let l=t.routes[r.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),i&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function Kb(s){return[...new Set(s)]}function Jb(s){let t={},i=Object.keys(s).sort();for(let r of i)t[r]=s[r];return t}function t_(s,t){let i=new Set;return new Set(t),s.reduce((r,l)=>{let u=JSON.stringify(Jb(l));return i.has(u)||(i.add(u),r.push({key:u,link:l})),r},[])}var e_=new Set([100,101,204,205]);function n_(s,t){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":t&&Hn(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function ky(){let s=P.useContext(Ns);return Fc(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function i_(){let s=P.useContext(Kl);return Fc(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var qc=P.createContext(void 0);qc.displayName="FrameworkContext";function Gy(){let s=P.useContext(qc);return Fc(s,"You must render this element inside a <HydratedRouter> element"),s}function s_(s,t){let i=P.useContext(qc),[r,l]=P.useState(!1),[u,h]=P.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=t,_=P.useRef(null);P.useEffect(()=>{if(s==="render"&&h(!0),s==="viewport"){let O=M=>{M.forEach(D=>{h(D.isIntersecting)})},A=new IntersectionObserver(O,{threshold:.5});return _.current&&A.observe(_.current),()=>{A.disconnect()}}},[s]),P.useEffect(()=>{if(r){let O=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(O)}}},[r]);let x=()=>{l(!0)},C=()=>{l(!1),h(!1)};return i?s!=="intent"?[u,_,{}]:[u,_,{onFocus:Hr(f,x),onBlur:Hr(p,C),onMouseEnter:Hr(m,x),onMouseLeave:Hr(g,C),onTouchStart:Hr(v,x)}]:[!1,_,{}]}function Hr(s,t){return i=>{s&&s(i),i.defaultPrevented||t(i)}}function r_({page:s,...t}){let{router:i}=ky(),r=P.useMemo(()=>Cy(i.routes,s,i.basename),[i.routes,s,i.basename]);return r?P.createElement(l_,{page:s,matches:r,...t}):null}function a_(s){let{manifest:t,routeModules:i}=Gy(),[r,l]=P.useState([]);return P.useEffect(()=>{let u=!1;return $b(s,t,i).then(h=>{u||l(h)}),()=>{u=!0}},[s,t,i]),r}function l_({page:s,matches:t,...i}){let r=pi(),{manifest:l,routeModules:u}=Gy(),{basename:h}=ky(),{loaderData:f,matches:p}=i_(),m=P.useMemo(()=>cg(s,t,p,l,r,"data"),[s,t,p,l,r]),g=P.useMemo(()=>cg(s,t,p,l,r,"assets"),[s,t,p,l,r]),v=P.useMemo(()=>{if(s===r.pathname+r.search+r.hash)return[];let C=new Set,O=!1;if(t.forEach(M=>{var B;let D=l.routes[M.route.id];!D||!D.hasLoader||(!m.some(q=>q.route.id===M.route.id)&&M.route.id in f&&((B=u[M.route.id])!=null&&B.shouldRevalidate)||D.hasClientLoader?O=!0:C.add(M.route.id))}),C.size===0)return[];let A=n_(s,h);return O&&C.size>0&&A.searchParams.set("_routes",t.filter(M=>C.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[h,f,r,l,m,t,s,u]),_=P.useMemo(()=>Qb(g,l),[g,l]),x=a_(g);return P.createElement(P.Fragment,null,v.map(C=>P.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...i})),_.map(C=>P.createElement("link",{key:C,rel:"modulepreload",href:C,...i})),x.map(({key:C,link:O})=>P.createElement("link",{key:C,...O})))}function o_(...s){return t=>{s.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Py=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Py&&(window.__reactRouterVersion="7.5.2")}catch{}function u_({basename:s,children:t,window:i}){let r=P.useRef();r.current==null&&(r.current=$1({window:i,v5Compat:!0}));let l=r.current,[u,h]=P.useState({action:l.action,location:l.location}),f=P.useCallback(p=>{P.startTransition(()=>h(p))},[h]);return P.useLayoutEffect(()=>l.listen(f),[l,f]),P.createElement(Gb,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:l})}var Ly=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Li=P.forwardRef(function({onClick:t,discover:i="render",prefetch:r="none",relative:l,reloadDocument:u,replace:h,state:f,target:p,to:m,preventScrollReset:g,viewTransition:v,..._},x){let{basename:C}=P.useContext(pn),O=typeof m=="string"&&Ly.test(m),A,M=!1;if(typeof m=="string"&&O&&(A=m,Py))try{let it=new URL(window.location.href),tt=m.startsWith("//")?new URL(it.protocol+m):new URL(m),nt=Hn(tt.pathname,C);tt.origin===it.origin&&nt!=null?m=nt+tt.search+tt.hash:M=!0}catch{sn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=Sb(m,{relative:l}),[B,q,I]=s_(r,_),Z=d_(m,{replace:h,state:f,target:p,preventScrollReset:g,relative:l,viewTransition:v});function $(it){t&&t(it),it.defaultPrevented||Z(it)}let rt=P.createElement("a",{..._,...I,href:A||D,onClick:M||u?t:$,ref:o_(x,q),target:p,"data-discover":!O&&i==="render"?"true":void 0});return B&&!O?P.createElement(P.Fragment,null,rt,P.createElement(r_,{page:D})):rt});Li.displayName="Link";var h_=P.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:r="",end:l=!1,style:u,to:h,viewTransition:f,children:p,...m},g){let v=da(h,{relative:m.relative}),_=pi(),x=P.useContext(Kl),{navigator:C,basename:O}=P.useContext(pn),A=x!=null&&v_(v)&&f===!0,M=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,D=_.pathname,B=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;i||(D=D.toLowerCase(),B=B?B.toLowerCase():null,M=M.toLowerCase()),B&&O&&(B=Hn(B,O)||B);const q=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let I=D===M||!l&&D.startsWith(M)&&D.charAt(q)==="/",Z=B!=null&&(B===M||!l&&B.startsWith(M)&&B.charAt(M.length)==="/"),$={isActive:I,isPending:Z,isTransitioning:A},rt=I?t:void 0,it;typeof r=="function"?it=r($):it=[r,I?"active":null,Z?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let tt=typeof u=="function"?u($):u;return P.createElement(Li,{...m,"aria-current":rt,className:it,ref:g,style:tt,to:h,viewTransition:f},typeof p=="function"?p($):p)});h_.displayName="NavLink";var c_=P.forwardRef(({discover:s="render",fetcherKey:t,navigate:i,reloadDocument:r,replace:l,state:u,method:h=Ll,action:f,onSubmit:p,relative:m,preventScrollReset:g,viewTransition:v,..._},x)=>{let C=g_(),O=y_(f,{relative:m}),A=h.toLowerCase()==="get"?"get":"post",M=typeof f=="string"&&Ly.test(f),D=B=>{if(p&&p(B),B.defaultPrevented)return;B.preventDefault();let q=B.nativeEvent.submitter,I=(q==null?void 0:q.getAttribute("formmethod"))||h;C(q||B.currentTarget,{fetcherKey:t,method:I,navigate:i,replace:l,state:u,relative:m,preventScrollReset:g,viewTransition:v})};return P.createElement("form",{ref:x,method:A,action:O,onSubmit:r?p:D,..._,"data-discover":!M&&s==="render"?"true":void 0})});c_.displayName="Form";function f_(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Yy(s){let t=P.useContext(Ns);return jt(t,f_(s)),t}function d_(s,{target:t,replace:i,state:r,preventScrollReset:l,relative:u,viewTransition:h}={}){let f=wb(),p=pi(),m=da(s,{relative:u});return P.useCallback(g=>{if(Fb(g,t)){g.preventDefault();let v=i!==void 0?i:ea(p)===ea(m);f(s,{replace:v,state:r,preventScrollReset:l,relative:u,viewTransition:h})}},[p,f,m,i,r,t,s,l,u,h])}var p_=0,m_=()=>`__${String(++p_)}__`;function g_(){let{router:s}=Yy("useSubmit"),{basename:t}=P.useContext(pn),i=Bb();return P.useCallback(async(r,l={})=>{let{action:u,method:h,encType:f,formData:p,body:m}=Ib(r,t);if(l.navigate===!1){let g=l.fetcherKey||m_();await s.fetch(g,i,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:m,formMethod:l.method||h,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:i,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,t,i])}function y_(s,{relative:t}={}){let{basename:i}=P.useContext(pn),r=P.useContext(mn);jt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),u={...da(s||".",{relative:t})},h=pi();if(s==null){u.search=h.search;let f=new URLSearchParams(u.search),p=f.getAll("index");if(p.some(g=>g==="")){f.delete("index"),p.filter(v=>v).forEach(v=>f.append("index",v));let g=f.toString();u.search=g?`?${g}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Un([i,u.pathname])),ea(u)}function v_(s,t={}){let i=P.useContext(zy);jt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Yy("useViewTransitionState"),l=da(s,{relative:t.relative});if(!i.isTransitioning)return!1;let u=Hn(i.currentLocation.pathname,r)||i.currentLocation.pathname,h=Hn(i.nextLocation.pathname,r)||i.nextLocation.pathname;return Il(l.pathname,h)!=null||Il(l.pathname,u)!=null}new TextEncoder;[...e_];const Xy="/MathArt/assets/logo-CAutbF-v.png";function x_(){const[s,t]=P.useState(!1),i=P.useRef(null),r=()=>{t(l=>!l)};return P.useEffect(()=>{const l=u=>{i.current&&!i.current.contains(u.target)&&t(!1)};return s&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[s]),F.jsx("header",{children:F.jsx("nav",{className:"nav",children:F.jsx("div",{className:"nav-wrapper",children:F.jsx("div",{className:"nav-content-wrapper",children:F.jsxs("div",{className:"nav-content",children:[F.jsxs(Li,{to:"/",className:"nav-title-wrapper",children:[F.jsx("img",{src:Xy,alt:"",className:"nav-logo"}),F.jsx("div",{className:"nav-title",children:"Home"})]}),F.jsxs("div",{className:"nav-menu",children:[F.jsxs("div",{className:`dropdown ${s?"open":""}`,ref:i,children:[F.jsx("div",{className:"nav-item-wrapper",children:F.jsx("button",{className:"nav-item-content",onClick:r,children:"Galleries"})}),F.jsx("div",{className:"dropdown-content",children:F.jsx(Li,{to:"/gallery/spin",onClick:()=>t(!1),children:"Spin Art"})})]}),F.jsx("div",{className:"nav-item-wrapper",children:F.jsx(Li,{to:"/about",className:"nav-item-content",children:"About"})})]})]})})})})})}const b_="modulepreload",__=function(s){return"/MathArt/"+s},fg={},Wl=function(t,i,r){let l=Promise.resolve();if(i&&i.length>0){let h=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=h(i.map(m=>{if(m=__(m),m in fg)return;fg[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const _=document.createElement("link");if(_.rel=g?"stylesheet":b_,g||(_.as="script"),_.crossOrigin="",_.href=m,p&&_.setAttribute("nonce",p),document.head.appendChild(_),g)return new Promise((x,C)=>{_.addEventListener("load",x),_.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(h){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=h,window.dispatchEvent(f),!f.defaultPrevented)throw h}return l.then(h=>{for(const f of h||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var zt=(s=>(s.Application="application",s.WebGLPipes="webgl-pipes",s.WebGLPipesAdaptor="webgl-pipes-adaptor",s.WebGLSystem="webgl-system",s.WebGPUPipes="webgpu-pipes",s.WebGPUPipesAdaptor="webgpu-pipes-adaptor",s.WebGPUSystem="webgpu-system",s.CanvasSystem="canvas-system",s.CanvasPipesAdaptor="canvas-pipes-adaptor",s.CanvasPipes="canvas-pipes",s.Asset="asset",s.LoadParser="load-parser",s.ResolveParser="resolve-parser",s.CacheParser="cache-parser",s.DetectionParser="detection-parser",s.MaskEffect="mask-effect",s.BlendMode="blend-mode",s.TextureSource="texture-source",s.Environment="environment",s.ShapeBuilder="shape-builder",s.Batcher="batcher",s))(zt||{});const gc=s=>{if(typeof s=="function"||typeof s=="object"&&s.extension){if(!s.extension)throw new Error("Extension class must have an extension object");s={...typeof s.extension!="object"?{type:s.extension}:s.extension,ref:s}}if(typeof s=="object")s={...s};else throw new Error("Invalid extension type");return typeof s.type=="string"&&(s.type=[s.type]),s},Rl=(s,t)=>gc(s).priority??t,Qe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...s){return s.map(gc).forEach(t=>{t.type.forEach(i=>{var r,l;return(l=(r=this._removeHandlers)[i])==null?void 0:l.call(r,t)})}),this},add(...s){return s.map(gc).forEach(t=>{t.type.forEach(i=>{var u,h;const r=this._addHandlers,l=this._queue;r[i]?(h=r[i])==null||h.call(r,t):(l[i]=l[i]||[],(u=l[i])==null||u.push(t))})}),this},handle(s,t,i){var h;const r=this._addHandlers,l=this._removeHandlers;if(r[s]||l[s])throw new Error(`Extension type ${s} already has a handler`);r[s]=t,l[s]=i;const u=this._queue;return u[s]&&((h=u[s])==null||h.forEach(f=>t(f)),delete u[s]),this},handleByMap(s,t){return this.handle(s,i=>{i.name&&(t[i.name]=i.ref)},i=>{i.name&&delete t[i.name]})},handleByNamedList(s,t,i=-1){return this.handle(s,r=>{t.findIndex(u=>u.name===r.name)>=0||(t.push({name:r.name,value:r.ref}),t.sort((u,h)=>Rl(h.value,i)-Rl(u.value,i)))},r=>{const l=t.findIndex(u=>u.name===r.name);l!==-1&&t.splice(l,1)})},handleByList(s,t,i=-1){return this.handle(s,r=>{t.includes(r.ref)||(t.push(r.ref),t.sort((l,u)=>Rl(u,i)-Rl(l,i)))},r=>{const l=t.indexOf(r.ref);l!==-1&&t.splice(l,1)})},mixin(s,...t){for(const i of t)Object.defineProperties(s.prototype,Object.getOwnPropertyDescriptors(i))}},S_={extension:{type:zt.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await Wl(()=>import("./browserAll-DpAlDU2g.js"),__vite__mapDeps([0,1,2,3]))}},w_={extension:{type:zt.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await Wl(()=>import("./webworkerAll-BiyFSydt.js"),__vite__mapDeps([1,2,3]))}};class Pe{constructor(t,i,r){this._x=i||0,this._y=r||0,this._observer=t}clone(t){return new Pe(t??this._observer,this._x,this._y)}set(t=0,i=t){return(this._x!==t||this._y!==i)&&(this._x=t,this._y=i,this._observer._onUpdate(this)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this._observer._onUpdate(this)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=0 y=0 scope=${this._observer}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this._observer._onUpdate(this))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this._observer._onUpdate(this))}}var Dh={exports:{}},dg;function A_(){return dg||(dg=1,function(s){var t=Object.prototype.hasOwnProperty,i="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(i=!1));function l(p,m,g){this.fn=p,this.context=m,this.once=g||!1}function u(p,m,g,v,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var x=new l(g,v||p,_),C=i?i+m:m;return p._events[C]?p._events[C].fn?p._events[C]=[p._events[C],x]:p._events[C].push(x):(p._events[C]=x,p._eventsCount++),p}function h(p,m){--p._eventsCount===0?p._events=new r:delete p._events[m]}function f(){this._events=new r,this._eventsCount=0}f.prototype.eventNames=function(){var m=[],g,v;if(this._eventsCount===0)return m;for(v in g=this._events)t.call(g,v)&&m.push(i?v.slice(1):v);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},f.prototype.listeners=function(m){var g=i?i+m:m,v=this._events[g];if(!v)return[];if(v.fn)return[v.fn];for(var _=0,x=v.length,C=new Array(x);_<x;_++)C[_]=v[_].fn;return C},f.prototype.listenerCount=function(m){var g=i?i+m:m,v=this._events[g];return v?v.fn?1:v.length:0},f.prototype.emit=function(m,g,v,_,x,C){var O=i?i+m:m;if(!this._events[O])return!1;var A=this._events[O],M=arguments.length,D,B;if(A.fn){switch(A.once&&this.removeListener(m,A.fn,void 0,!0),M){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,g),!0;case 3:return A.fn.call(A.context,g,v),!0;case 4:return A.fn.call(A.context,g,v,_),!0;case 5:return A.fn.call(A.context,g,v,_,x),!0;case 6:return A.fn.call(A.context,g,v,_,x,C),!0}for(B=1,D=new Array(M-1);B<M;B++)D[B-1]=arguments[B];A.fn.apply(A.context,D)}else{var q=A.length,I;for(B=0;B<q;B++)switch(A[B].once&&this.removeListener(m,A[B].fn,void 0,!0),M){case 1:A[B].fn.call(A[B].context);break;case 2:A[B].fn.call(A[B].context,g);break;case 3:A[B].fn.call(A[B].context,g,v);break;case 4:A[B].fn.call(A[B].context,g,v,_);break;default:if(!D)for(I=1,D=new Array(M-1);I<M;I++)D[I-1]=arguments[I];A[B].fn.apply(A[B].context,D)}}return!0},f.prototype.on=function(m,g,v){return u(this,m,g,v,!1)},f.prototype.once=function(m,g,v){return u(this,m,g,v,!0)},f.prototype.removeListener=function(m,g,v,_){var x=i?i+m:m;if(!this._events[x])return this;if(!g)return h(this,x),this;var C=this._events[x];if(C.fn)C.fn===g&&(!_||C.once)&&(!v||C.context===v)&&h(this,x);else{for(var O=0,A=[],M=C.length;O<M;O++)(C[O].fn!==g||_&&!C[O].once||v&&C[O].context!==v)&&A.push(C[O]);A.length?this._events[x]=A.length===1?A[0]:A:h(this,x)}return this},f.prototype.removeAllListeners=function(m){var g;return m?(g=i?i+m:m,this._events[g]&&h(this,g)):(this._events=new r,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=i,f.EventEmitter=f,s.exports=f}(Dh)),Dh.exports}var C_=A_();const kn=ha(C_),T_=Math.PI*2,M_=180/Math.PI,E_=Math.PI/180;class At{constructor(t=0,i=0){this.x=0,this.y=0,this.x=t,this.y=i}clone(){return new At(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,i=t){return this.x=t,this.y=i,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return Uh.x=0,Uh.y=0,Uh}}const Uh=new At;class Ct{constructor(t=1,i=0,r=0,l=1,u=0,h=0){this.array=null,this.a=t,this.b=i,this.c=r,this.d=l,this.tx=u,this.ty=h}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,i,r,l,u,h){return this.a=t,this.b=i,this.c=r,this.d=l,this.tx=u,this.ty=h,this}toArray(t,i){this.array||(this.array=new Float32Array(9));const r=i||this.array;return t?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(t,i){i=i||new At;const r=t.x,l=t.y;return i.x=this.a*r+this.c*l+this.tx,i.y=this.b*r+this.d*l+this.ty,i}applyInverse(t,i){i=i||new At;const r=this.a,l=this.b,u=this.c,h=this.d,f=this.tx,p=this.ty,m=1/(r*h+u*-l),g=t.x,v=t.y;return i.x=h*m*g+-u*m*v+(p*u-f*h)*m,i.y=r*m*v+-l*m*g+(-p*r+f*l)*m,i}translate(t,i){return this.tx+=t,this.ty+=i,this}scale(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this}rotate(t){const i=Math.cos(t),r=Math.sin(t),l=this.a,u=this.c,h=this.tx;return this.a=l*i-this.b*r,this.b=l*r+this.b*i,this.c=u*i-this.d*r,this.d=u*r+this.d*i,this.tx=h*i-this.ty*r,this.ty=h*r+this.ty*i,this}append(t){const i=this.a,r=this.b,l=this.c,u=this.d;return this.a=t.a*i+t.b*l,this.b=t.a*r+t.b*u,this.c=t.c*i+t.d*l,this.d=t.c*r+t.d*u,this.tx=t.tx*i+t.ty*l+this.tx,this.ty=t.tx*r+t.ty*u+this.ty,this}appendFrom(t,i){const r=t.a,l=t.b,u=t.c,h=t.d,f=t.tx,p=t.ty,m=i.a,g=i.b,v=i.c,_=i.d;return this.a=r*m+l*v,this.b=r*g+l*_,this.c=u*m+h*v,this.d=u*g+h*_,this.tx=f*m+p*v+i.tx,this.ty=f*g+p*_+i.ty,this}setTransform(t,i,r,l,u,h,f,p,m){return this.a=Math.cos(f+m)*u,this.b=Math.sin(f+m)*u,this.c=-Math.sin(f-p)*h,this.d=Math.cos(f-p)*h,this.tx=t-(r*this.a+l*this.c),this.ty=i-(r*this.b+l*this.d),this}prepend(t){const i=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const r=this.a,l=this.c;this.a=r*t.a+this.b*t.c,this.b=r*t.b+this.b*t.d,this.c=l*t.a+this.d*t.c,this.d=l*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this}decompose(t){const i=this.a,r=this.b,l=this.c,u=this.d,h=t.pivot,f=-Math.atan2(-l,u),p=Math.atan2(r,i),m=Math.abs(f+p);return m<1e-5||Math.abs(T_-m)<1e-5?(t.rotation=p,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=f,t.skew.y=p),t.scale.x=Math.sqrt(i*i+r*r),t.scale.y=Math.sqrt(l*l+u*u),t.position.x=this.tx+(h.x*i+h.y*l),t.position.y=this.ty+(h.x*r+h.y*u),t}invert(){const t=this.a,i=this.b,r=this.c,l=this.d,u=this.tx,h=t*l-i*r;return this.a=l/h,this.b=-i/h,this.c=-r/h,this.d=t/h,this.tx=(r*this.ty-l*u)/h,this.ty=-(t*this.ty-i*u)/h,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new Ct;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}equals(t){return t.a===this.a&&t.b===this.b&&t.c===this.c&&t.d===this.d&&t.tx===this.tx&&t.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return O_.identity()}static get shared(){return R_.identity()}}const R_=new Ct,O_=new Ct,Bi=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ni=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Hi=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ki=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],yc=[],jy=[],Ol=Math.sign;function z_(){for(let s=0;s<16;s++){const t=[];yc.push(t);for(let i=0;i<16;i++){const r=Ol(Bi[s]*Bi[i]+Hi[s]*Ni[i]),l=Ol(Ni[s]*Bi[i]+ki[s]*Ni[i]),u=Ol(Bi[s]*Hi[i]+Hi[s]*ki[i]),h=Ol(Ni[s]*Hi[i]+ki[s]*ki[i]);for(let f=0;f<16;f++)if(Bi[f]===r&&Ni[f]===l&&Hi[f]===u&&ki[f]===h){t.push(f);break}}}for(let s=0;s<16;s++){const t=new Ct;t.set(Bi[s],Ni[s],Hi[s],ki[s],0,0),jy.push(t)}}z_();const Xt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:s=>Bi[s],uY:s=>Ni[s],vX:s=>Hi[s],vY:s=>ki[s],inv:s=>s&8?s&15:-s&7,add:(s,t)=>yc[s][t],sub:(s,t)=>yc[s][Xt.inv(t)],rotate180:s=>s^4,isVertical:s=>(s&3)===2,byDirection:(s,t)=>Math.abs(s)*2<=Math.abs(t)?t>=0?Xt.S:Xt.N:Math.abs(t)*2<=Math.abs(s)?s>0?Xt.E:Xt.W:t>0?s>0?Xt.SE:Xt.SW:s>0?Xt.NE:Xt.NW,matrixAppendRotationInv:(s,t,i=0,r=0)=>{const l=jy[Xt.inv(t)];l.tx=i,l.ty=r,s.append(l)}},zl=[new At,new At,new At,new At];class It{constructor(t=0,i=0,r=0,l=0){this.type="rectangle",this.x=Number(t),this.y=Number(i),this.width=Number(r),this.height=Number(l)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new It(0,0,0,0)}clone(){return new It(this.x,this.y,this.width,this.height)}copyFromBounds(t){return this.x=t.minX,this.y=t.minY,this.width=t.maxX-t.minX,this.height=t.maxY-t.minY,this}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height}strokeContains(t,i,r,l=.5){const{width:u,height:h}=this;if(u<=0||h<=0)return!1;const f=this.x,p=this.y,m=r*(1-l),g=r-m,v=f-m,_=f+u+m,x=p-m,C=p+h+m,O=f+g,A=f+u-g,M=p+g,D=p+h-g;return t>=v&&t<=_&&i>=x&&i<=C&&!(t>O&&t<A&&i>M&&i<D)}intersects(t,i){if(!i){const rt=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=rt)return!1;const tt=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>tt}const r=this.left,l=this.right,u=this.top,h=this.bottom;if(l<=r||h<=u)return!1;const f=zl[0].set(t.left,t.top),p=zl[1].set(t.left,t.bottom),m=zl[2].set(t.right,t.top),g=zl[3].set(t.right,t.bottom);if(m.x<=f.x||p.y<=f.y)return!1;const v=Math.sign(i.a*i.d-i.b*i.c);if(v===0||(i.apply(f,f),i.apply(p,p),i.apply(m,m),i.apply(g,g),Math.max(f.x,p.x,m.x,g.x)<=r||Math.min(f.x,p.x,m.x,g.x)>=l||Math.max(f.y,p.y,m.y,g.y)<=u||Math.min(f.y,p.y,m.y,g.y)>=h))return!1;const _=v*(p.y-f.y),x=v*(f.x-p.x),C=_*r+x*u,O=_*l+x*u,A=_*r+x*h,M=_*l+x*h;if(Math.max(C,O,A,M)<=_*f.x+x*f.y||Math.min(C,O,A,M)>=_*g.x+x*g.y)return!1;const D=v*(f.y-m.y),B=v*(m.x-f.x),q=D*r+B*u,I=D*l+B*u,Z=D*r+B*h,$=D*l+B*h;return!(Math.max(q,I,Z,$)<=D*f.x+B*f.y||Math.min(q,I,Z,$)>=D*g.x+B*g.y)}pad(t=0,i=t){return this.x-=t,this.y-=i,this.width+=t*2,this.height+=i*2,this}fit(t){const i=Math.max(this.x,t.x),r=Math.min(this.x+this.width,t.x+t.width),l=Math.max(this.y,t.y),u=Math.min(this.y+this.height,t.y+t.height);return this.x=i,this.width=Math.max(r-i,0),this.y=l,this.height=Math.max(u-l,0),this}ceil(t=1,i=.001){const r=Math.ceil((this.x+this.width-i)*t)/t,l=Math.ceil((this.y+this.height-i)*t)/t;return this.x=Math.floor((this.x+i)*t)/t,this.y=Math.floor((this.y+i)*t)/t,this.width=r-this.x,this.height=l-this.y,this}enlarge(t){const i=Math.min(this.x,t.x),r=Math.max(this.x+this.width,t.x+t.width),l=Math.min(this.y,t.y),u=Math.max(this.y+this.height,t.y+t.height);return this.x=i,this.width=r-i,this.y=l,this.height=u-l,this}getBounds(t){return t||(t=new It),t.copyFrom(this),t}containsRect(t){if(this.width<=0||this.height<=0)return!1;const i=t.x,r=t.y,l=t.x+t.width,u=t.y+t.height;return i>=this.x&&i<this.x+this.width&&r>=this.y&&r<this.y+this.height&&l>=this.x&&l<this.x+this.width&&u>=this.y&&u<this.y+this.height}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const Bh={default:-1};function Jt(s="default"){return Bh[s]===void 0&&(Bh[s]=-1),++Bh[s]}const pg={},Kt="8.0.0",D_="8.3.4";function mt(s,t,i=3){if(pg[t])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`):(r=r.split(`
`).splice(i).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${s}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${s}`),console.warn(r))),pg[t]=!0}const Fy=()=>{};function mg(s){return s+=s===0?1:0,--s,s|=s>>>1,s|=s>>>2,s|=s>>>4,s|=s>>>8,s|=s>>>16,s+1}function gg(s){return!(s&s-1)&&!!s}function qy(s){const t={};for(const i in s)s[i]!==void 0&&(t[i]=s[i]);return t}const yg=Object.create(null);function U_(s){const t=yg[s];return t===void 0&&(yg[s]=Jt("resource")),t}const Vy=class Iy extends kn{constructor(t={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,t={...Iy.defaultOptions,...t},this.addressMode=t.addressMode,this.addressModeU=t.addressModeU??this.addressModeU,this.addressModeV=t.addressModeV??this.addressModeV,this.addressModeW=t.addressModeW??this.addressModeW,this.scaleMode=t.scaleMode,this.magFilter=t.magFilter??this.magFilter,this.minFilter=t.minFilter??this.minFilter,this.mipmapFilter=t.mipmapFilter??this.mipmapFilter,this.lodMinClamp=t.lodMinClamp,this.lodMaxClamp=t.lodMaxClamp,this.compare=t.compare,this.maxAnisotropy=t.maxAnisotropy??1}set addressMode(t){this.addressModeU=t,this.addressModeV=t,this.addressModeW=t}get addressMode(){return this.addressModeU}set wrapMode(t){mt(Kt,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=t}get wrapMode(){return this.addressMode}set scaleMode(t){this.magFilter=t,this.minFilter=t,this.mipmapFilter=t}get scaleMode(){return this.magFilter}set maxAnisotropy(t){this._maxAnisotropy=Math.min(t,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const t=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=U_(t),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};Vy.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let B_=Vy;const Wy=class Zy extends kn{constructor(t={}){super(),this.options=t,this.uid=Jt("textureSource"),this._resourceType="textureSource",this._resourceId=Jt("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,t={...Zy.defaultOptions,...t},this.label=t.label??"",this.resource=t.resource,this.autoGarbageCollect=t.autoGarbageCollect,this._resolution=t.resolution,t.width?this.pixelWidth=t.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,t.height?this.pixelHeight=t.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=t.format,this.dimension=t.dimensions,this.mipLevelCount=t.mipLevelCount,this.autoGenerateMipmaps=t.autoGenerateMipmaps,this.sampleCount=t.sampleCount,this.antialias=t.antialias,this.alphaMode=t.alphaMode,this.style=new B_(qy(t)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(t){var i,r;this.style!==t&&((i=this._style)==null||i.off("change",this._onStyleChange,this),this._style=t,(r=this._style)==null||r.on("change",this._onStyleChange,this),this._onStyleChange())}get addressMode(){return this._style.addressMode}set addressMode(t){this._style.addressMode=t}get repeatMode(){return this._style.addressMode}set repeatMode(t){this._style.addressMode=t}get magFilter(){return this._style.magFilter}set magFilter(t){this._style.magFilter=t}get minFilter(){return this._style.minFilter}set minFilter(t){this._style.minFilter=t}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(t){this._style.mipmapFilter=t}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(t){this._style.lodMinClamp=t}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(t){this._style.lodMaxClamp=t}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const t=this._resolution;if(this.resize(this.resourceWidth/t,this.resourceHeight/t))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=Jt("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:t}=this;return t.naturalWidth||t.videoWidth||t.displayWidth||t.width}get resourceHeight(){const{resource:t}=this;return t.naturalHeight||t.videoHeight||t.displayHeight||t.height}get resolution(){return this._resolution}set resolution(t){this._resolution!==t&&(this._resolution=t,this.width=this.pixelWidth/t,this.height=this.pixelHeight/t)}resize(t,i,r){r||(r=this._resolution),t||(t=this.width),i||(i=this.height);const l=Math.round(t*r),u=Math.round(i*r);return this.width=l/r,this.height=u/r,this._resolution=r,this.pixelWidth===l&&this.pixelHeight===u?!1:(this._refreshPOT(),this.pixelWidth=l,this.pixelHeight=u,this.emit("resize",this),this._resourceId=Jt("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(t){this._style.wrapMode=t}get wrapMode(){return this._style.wrapMode}set scaleMode(t){this._style.scaleMode=t}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=gg(this.pixelWidth)&&gg(this.pixelHeight)}static test(t){throw new Error("Unimplemented")}};Wy.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let gn=Wy;class Vc extends gn{constructor(t){const i=t.resource||new Float32Array(t.width*t.height*4);let r=t.format;r||(i instanceof Float32Array?r="rgba32float":i instanceof Int32Array||i instanceof Uint32Array?r="rgba32uint":i instanceof Int16Array||i instanceof Uint16Array?r="rgba16uint":(i instanceof Int8Array,r="bgra8unorm")),super({...t,resource:i,format:r}),this.uploadMethodId="buffer"}static test(t){return t instanceof Int8Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array}}Vc.extension=zt.TextureSource;const vg=new Ct;class N_{constructor(t,i){this.mapCoord=new Ct,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof i>"u"?this.clampMargin=t.width<10?0:.5:this.clampMargin=i,this.isSimple=!1,this.texture=t}get texture(){return this._texture}set texture(t){var i;this.texture!==t&&((i=this._texture)==null||i.removeListener("update",this.update,this),this._texture=t,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(t,i){i===void 0&&(i=t);const r=this.mapCoord;for(let l=0;l<t.length;l+=2){const u=t[l],h=t[l+1];i[l]=u*r.a+h*r.c+r.tx,i[l+1]=u*r.b+h*r.d+r.ty}return i}update(){const t=this._texture;this._updateID++;const i=t.uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const r=t.orig,l=t.trim;l&&(vg.set(r.width/l.width,0,0,r.height/l.height,-l.x/l.width,-l.y/l.height),this.mapCoord.append(vg));const u=t.source,h=this.uClampFrame,f=this.clampMargin/u._resolution,p=this.clampOffset/u._resolution;return h[0]=(t.frame.x+f+p)/u.width,h[1]=(t.frame.y+f+p)/u.height,h[2]=(t.frame.x+t.frame.width-f+p)/u.width,h[3]=(t.frame.y+t.frame.height-f+p)/u.height,this.uClampOffset[0]=this.clampOffset/u.pixelWidth,this.uClampOffset[1]=this.clampOffset/u.pixelHeight,this.isSimple=t.frame.width===u.width&&t.frame.height===u.height&&t.rotate===0,!0}}class Ht extends kn{constructor({source:t,label:i,frame:r,orig:l,trim:u,defaultAnchor:h,defaultBorders:f,rotate:p,dynamic:m}={}){if(super(),this.uid=Jt("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new It,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=i,this.source=(t==null?void 0:t.source)??new gn,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:g,height:v}=this._source;this.frame.width=g,this.frame.height=v}this.orig=l||this.frame,this.trim=u,this.rotate=p??0,this.defaultAnchor=h,this.defaultBorders=f,this.destroyed=!1,this.dynamic=m||!1,this.updateUvs()}set source(t){this._source&&this._source.off("resize",this.update,this),this._source=t,t.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new N_(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:t,frame:i}=this,{width:r,height:l}=this._source,u=i.x/r,h=i.y/l,f=i.width/r,p=i.height/l;let m=this.rotate;if(m){const g=f/2,v=p/2,_=u+g,x=h+v;m=Xt.add(m,Xt.NW),t.x0=_+g*Xt.uX(m),t.y0=x+v*Xt.uY(m),m=Xt.add(m,2),t.x1=_+g*Xt.uX(m),t.y1=x+v*Xt.uY(m),m=Xt.add(m,2),t.x2=_+g*Xt.uX(m),t.y2=x+v*Xt.uY(m),m=Xt.add(m,2),t.x3=_+g*Xt.uX(m),t.y3=x+v*Xt.uY(m)}else t.x0=u,t.y0=h,t.x1=u+f,t.y1=h,t.x2=u+f,t.y2=h+p,t.x3=u,t.y3=h+p}destroy(t=!1){this._source&&t&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return mt(Kt,"Texture.baseTexture is now Texture.source"),this._source}}Ht.EMPTY=new Ht({label:"EMPTY",source:new gn({label:"EMPTY"})});Ht.EMPTY.destroy=Fy;Ht.WHITE=new Ht({source:new Vc({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});Ht.WHITE.destroy=Fy;function H_(s,t,i){const{width:r,height:l}=i.orig,u=i.trim;if(u){const h=u.width,f=u.height;s.minX=u.x-t._x*r,s.maxX=s.minX+h,s.minY=u.y-t._y*l,s.maxY=s.minY+f}else s.minX=-t._x*r,s.maxX=s.minX+r,s.minY=-t._y*l,s.maxY=s.minY+l}const xg=new Ct;class rn{constructor(t=1/0,i=1/0,r=-1/0,l=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=xg,this.minX=t,this.minY=i,this.maxX=r,this.maxY=l}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new It);const t=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(t.x=0,t.y=0,t.width=0,t.height=0):t.copyFromBounds(this),t}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=xg,this}set(t,i,r,l){this.minX=t,this.minY=i,this.maxX=r,this.maxY=l}addFrame(t,i,r,l,u){u||(u=this.matrix);const h=u.a,f=u.b,p=u.c,m=u.d,g=u.tx,v=u.ty;let _=this.minX,x=this.minY,C=this.maxX,O=this.maxY,A=h*t+p*i+g,M=f*t+m*i+v;A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=h*r+p*i+g,M=f*r+m*i+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=h*t+p*l+g,M=f*t+m*l+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),A=h*r+p*l+g,M=f*r+m*l+v,A<_&&(_=A),M<x&&(x=M),A>C&&(C=A),M>O&&(O=M),this.minX=_,this.minY=x,this.maxX=C,this.maxY=O}addRect(t,i){this.addFrame(t.x,t.y,t.x+t.width,t.y+t.height,i)}addBounds(t,i){this.addFrame(t.minX,t.minY,t.maxX,t.maxY,i)}addBoundsMask(t){this.minX=this.minX>t.minX?this.minX:t.minX,this.minY=this.minY>t.minY?this.minY:t.minY,this.maxX=this.maxX<t.maxX?this.maxX:t.maxX,this.maxY=this.maxY<t.maxY?this.maxY:t.maxY}applyMatrix(t){const i=this.minX,r=this.minY,l=this.maxX,u=this.maxY,{a:h,b:f,c:p,d:m,tx:g,ty:v}=t;let _=h*i+p*r+g,x=f*i+m*r+v;this.minX=_,this.minY=x,this.maxX=_,this.maxY=x,_=h*l+p*r+g,x=f*l+m*r+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=h*i+p*u+g,x=f*i+m*u+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY,_=h*l+p*u+g,x=f*l+m*u+v,this.minX=_<this.minX?_:this.minX,this.minY=x<this.minY?x:this.minY,this.maxX=_>this.maxX?_:this.maxX,this.maxY=x>this.maxY?x:this.maxY}fit(t){return this.minX<t.left&&(this.minX=t.left),this.maxX>t.right&&(this.maxX=t.right),this.minY<t.top&&(this.minY=t.top),this.maxY>t.bottom&&(this.maxY=t.bottom),this}fitBounds(t,i,r,l){return this.minX<t&&(this.minX=t),this.maxX>i&&(this.maxX=i),this.minY<r&&(this.minY=r),this.maxY>l&&(this.maxY=l),this}pad(t,i=t){return this.minX-=t,this.maxX+=t,this.minY-=i,this.maxY+=i,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new rn(this.minX,this.minY,this.maxX,this.maxY)}scale(t,i=t){return this.minX*=t,this.minY*=i,this.maxX*=t,this.maxY*=i,this}get x(){return this.minX}set x(t){const i=this.maxX-this.minX;this.minX=t,this.maxX=t+i}get y(){return this.minY}set y(t){const i=this.maxY-this.minY;this.minY=t,this.maxY=t+i}get width(){return this.maxX-this.minX}set width(t){this.maxX=this.minX+t}get height(){return this.maxY-this.minY}set height(t){this.maxY=this.minY+t}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(t,i,r,l){let u=this.minX,h=this.minY,f=this.maxX,p=this.maxY;l||(l=this.matrix);const m=l.a,g=l.b,v=l.c,_=l.d,x=l.tx,C=l.ty;for(let O=i;O<r;O+=2){const A=t[O],M=t[O+1],D=m*A+v*M+x,B=g*A+_*M+C;u=D<u?D:u,h=B<h?B:h,f=D>f?D:f,p=B>p?B:p}this.minX=u,this.minY=h,this.maxX=f,this.maxY=p}containsPoint(t,i){return this.minX<=t&&this.minY<=i&&this.maxX>=t&&this.maxY>=i}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(t){return this.minX=t.minX,this.minY=t.minY,this.maxX=t.maxX,this.maxY=t.maxY,this}}var k_={grad:.9,turn:360,rad:360/(2*Math.PI)},Dn=function(s){return typeof s=="string"?s.length>0:typeof s=="number"},ae=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i+0},$e=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s>t?s:t},$y=function(s){return(s=isFinite(s)?s%360:0)>0?s:s+360},bg=function(s){return{r:$e(s.r,0,255),g:$e(s.g,0,255),b:$e(s.b,0,255),a:$e(s.a)}},Nh=function(s){return{r:ae(s.r),g:ae(s.g),b:ae(s.b),a:ae(s.a,3)}},G_=/^#([0-9a-f]{3,8})$/i,Dl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},Qy=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=Math.max(t,i,r),h=u-Math.min(t,i,r),f=h?u===t?(i-r)/h:u===i?2+(r-t)/h:4+(t-i)/h:0;return{h:60*(f<0?f+6:f),s:u?h/u*100:0,v:u/255*100,a:l}},Ky=function(s){var t=s.h,i=s.s,r=s.v,l=s.a;t=t/360*6,i/=100,r/=100;var u=Math.floor(t),h=r*(1-i),f=r*(1-(t-u)*i),p=r*(1-(1-t+u)*i),m=u%6;return{r:255*[r,f,h,h,p,r][m],g:255*[p,r,r,f,h,h][m],b:255*[h,h,p,r,r,f][m],a:l}},_g=function(s){return{h:$y(s.h),s:$e(s.s,0,100),l:$e(s.l,0,100),a:$e(s.a)}},Sg=function(s){return{h:ae(s.h),s:ae(s.s),l:ae(s.l),a:ae(s.a,3)}},wg=function(s){return Ky((i=(t=s).s,{h:t.h,s:(i*=((r=t.l)<50?r:100-r)/100)>0?2*i/(r+i)*100:0,v:r+i,a:t.a}));var t,i,r},Zr=function(s){return{h:(t=Qy(s)).h,s:(l=(200-(i=t.s))*(r=t.v)/100)>0&&l<200?i*r/100/(l<=100?l:200-l)*100:0,l:l/2,a:t.a};var t,i,r,l},P_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,L_=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Y_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,X_=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vc={string:[[function(s){var t=G_.exec(s);return t?(s=t[1]).length<=4?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ae(parseInt(s[3]+s[3],16)/255,2):1}:s.length===6||s.length===8?{r:parseInt(s.substr(0,2),16),g:parseInt(s.substr(2,2),16),b:parseInt(s.substr(4,2),16),a:s.length===8?ae(parseInt(s.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(s){var t=Y_.exec(s)||X_.exec(s);return t?t[2]!==t[4]||t[4]!==t[6]?null:bg({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(s){var t=P_.exec(s)||L_.exec(s);if(!t)return null;var i,r,l=_g({h:(i=t[1],r=t[2],r===void 0&&(r="deg"),Number(i)*(k_[r]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return wg(l)},"hsl"]],object:[[function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=l===void 0?1:l;return Dn(t)&&Dn(i)&&Dn(r)?bg({r:Number(t),g:Number(i),b:Number(r),a:Number(u)}):null},"rgb"],[function(s){var t=s.h,i=s.s,r=s.l,l=s.a,u=l===void 0?1:l;if(!Dn(t)||!Dn(i)||!Dn(r))return null;var h=_g({h:Number(t),s:Number(i),l:Number(r),a:Number(u)});return wg(h)},"hsl"],[function(s){var t=s.h,i=s.s,r=s.v,l=s.a,u=l===void 0?1:l;if(!Dn(t)||!Dn(i)||!Dn(r))return null;var h=function(f){return{h:$y(f.h),s:$e(f.s,0,100),v:$e(f.v,0,100),a:$e(f.a)}}({h:Number(t),s:Number(i),v:Number(r),a:Number(u)});return Ky(h)},"hsv"]]},Ag=function(s,t){for(var i=0;i<t.length;i++){var r=t[i][0](s);if(r)return[r,t[i][1]]}return[null,void 0]},j_=function(s){return typeof s=="string"?Ag(s.trim(),vc.string):typeof s=="object"&&s!==null?Ag(s,vc.object):[null,void 0]},Hh=function(s,t){var i=Zr(s);return{h:i.h,s:$e(i.s+100*t,0,100),l:i.l,a:i.a}},kh=function(s){return(299*s.r+587*s.g+114*s.b)/1e3/255},Cg=function(s,t){var i=Zr(s);return{h:i.h,s:i.s,l:$e(i.l+100*t,0,100),a:i.a}},xc=function(){function s(t){this.parsed=j_(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return s.prototype.isValid=function(){return this.parsed!==null},s.prototype.brightness=function(){return ae(kh(this.rgba),2)},s.prototype.isDark=function(){return kh(this.rgba)<.5},s.prototype.isLight=function(){return kh(this.rgba)>=.5},s.prototype.toHex=function(){return t=Nh(this.rgba),i=t.r,r=t.g,l=t.b,h=(u=t.a)<1?Dl(ae(255*u)):"","#"+Dl(i)+Dl(r)+Dl(l)+h;var t,i,r,l,u,h},s.prototype.toRgb=function(){return Nh(this.rgba)},s.prototype.toRgbString=function(){return t=Nh(this.rgba),i=t.r,r=t.g,l=t.b,(u=t.a)<1?"rgba("+i+", "+r+", "+l+", "+u+")":"rgb("+i+", "+r+", "+l+")";var t,i,r,l,u},s.prototype.toHsl=function(){return Sg(Zr(this.rgba))},s.prototype.toHslString=function(){return t=Sg(Zr(this.rgba)),i=t.h,r=t.s,l=t.l,(u=t.a)<1?"hsla("+i+", "+r+"%, "+l+"%, "+u+")":"hsl("+i+", "+r+"%, "+l+"%)";var t,i,r,l,u},s.prototype.toHsv=function(){return t=Qy(this.rgba),{h:ae(t.h),s:ae(t.s),v:ae(t.v),a:ae(t.a,3)};var t},s.prototype.invert=function(){return fn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},s.prototype.saturate=function(t){return t===void 0&&(t=.1),fn(Hh(this.rgba,t))},s.prototype.desaturate=function(t){return t===void 0&&(t=.1),fn(Hh(this.rgba,-t))},s.prototype.grayscale=function(){return fn(Hh(this.rgba,-1))},s.prototype.lighten=function(t){return t===void 0&&(t=.1),fn(Cg(this.rgba,t))},s.prototype.darken=function(t){return t===void 0&&(t=.1),fn(Cg(this.rgba,-t))},s.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},s.prototype.alpha=function(t){return typeof t=="number"?fn({r:(i=this.rgba).r,g:i.g,b:i.b,a:t}):ae(this.rgba.a,3);var i},s.prototype.hue=function(t){var i=Zr(this.rgba);return typeof t=="number"?fn({h:t,s:i.s,l:i.l,a:i.a}):ae(i.h)},s.prototype.isEqual=function(t){return this.toHex()===fn(t).toHex()},s}(),fn=function(s){return s instanceof xc?s:new xc(s)},Tg=[],F_=function(s){s.forEach(function(t){Tg.indexOf(t)<0&&(t(xc,vc),Tg.push(t))})};function q_(s,t){var i={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var l in i)r[i[l]]=l;var u={};s.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var f,p,m=r[this.toHex()];if(m)return m;if(h!=null&&h.closest){var g=this.toRgb(),v=1/0,_="black";if(!u.length)for(var x in i)u[x]=new s(i[x]).toRgb();for(var C in i){var O=(f=g,p=u[C],Math.pow(f.r-p.r,2)+Math.pow(f.g-p.g,2)+Math.pow(f.b-p.b,2));O<v&&(v=O,_=C)}return _}},t.string.push([function(h){var f=h.toLowerCase(),p=f==="transparent"?"#0000":i[f];return p?new s(p).toRgb():null},"name"])}F_([q_]);const Us=class Fr{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Fr)this._value=this._cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,t))&&(this._value=this._cloneSource(t),this._normalize(this._value))}}get value(){return this._value}_cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}_isSourceEqual(t,i){const r=typeof t;if(r!==typeof i)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===i;if(Array.isArray(t)&&Array.isArray(i)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(i))return t.length!==i.length?!1:t.every((u,h)=>u===i[h]);if(t!==null&&i!==null){const u=Object.keys(t),h=Object.keys(i);return u.length!==h.length?!1:u.every(f=>t[f]===i[f])}return t===i}toRgba(){const[t,i,r,l]=this._components;return{r:t,g:i,b:r,a:l}}toRgb(){const[t,i,r]=this._components;return{r:t,g:i,b:r}}toRgbaString(){const[t,i,r]=this.toUint8RgbArray();return`rgba(${t},${i},${r},${this.alpha})`}toUint8RgbArray(t){const[i,r,l]=this._components;return this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb),t[0]=Math.round(i*255),t[1]=Math.round(r*255),t[2]=Math.round(l*255),t}toArray(t){this._arrayRgba||(this._arrayRgba=[]),t||(t=this._arrayRgba);const[i,r,l,u]=this._components;return t[0]=i,t[1]=r,t[2]=l,t[3]=u,t}toRgbArray(t){this._arrayRgb||(this._arrayRgb=[]),t||(t=this._arrayRgb);const[i,r,l]=this._components;return t[0]=i,t[1]=r,t[2]=l,t}toNumber(){return this._int}toBgrNumber(){const[t,i,r]=this.toUint8RgbArray();return(r<<16)+(i<<8)+t}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[i,r,l,u]=Fr._temp.setValue(t)._components;return this._components[0]*=i,this._components[1]*=r,this._components[2]*=l,this._components[3]*=u,this._refreshInt(),this._value=null,this}premultiply(t,i=!0){return i&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this._refreshInt(),this._value=null,this}toPremultiplied(t,i=!0){if(t===1)return(255<<24)+this._int;if(t===0)return i?0:this._int;let r=this._int>>16&255,l=this._int>>8&255,u=this._int&255;return i&&(r=r*t+.5|0,l=l*t+.5|0,u=u*t+.5|0),(t*255<<24)+(r<<16)+(l<<8)+u}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const i=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-i.length)+i}setAlpha(t){return this._components[3]=this._clamp(t),this}_normalize(t){let i,r,l,u;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const h=t;i=(h>>16&255)/255,r=(h>>8&255)/255,l=(h&255)/255,u=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[i,r,l,u=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[i,r,l,u=255]=t,i/=255,r/=255,l/=255,u/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const f=Fr.HEX_PATTERN.exec(t);f&&(t=`#${f[2]}`)}const h=fn(t);h.isValid()&&({r:i,g:r,b:l,a:u}=h.rgba,i/=255,r/=255,l/=255)}if(i!==void 0)this._components[0]=i,this._components[1]=r,this._components[2]=l,this._components[3]=u,this._refreshInt();else throw new Error(`Unable to convert color ${t}`)}_refreshInt(){this._clamp(this._components);const[t,i,r]=this._components;this._int=(t*255<<16)+(i*255<<8)+(r*255|0)}_clamp(t,i=0,r=1){return typeof t=="number"?Math.min(Math.max(t,i),r):(t.forEach((l,u)=>{t[u]=Math.min(Math.max(l,i),r)}),t)}static isColorLike(t){return typeof t=="number"||typeof t=="string"||t instanceof Number||t instanceof Fr||Array.isArray(t)||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Float32Array||t.r!==void 0&&t.g!==void 0&&t.b!==void 0||t.r!==void 0&&t.g!==void 0&&t.b!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0||t.h!==void 0&&t.s!==void 0&&t.l!==void 0&&t.a!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0||t.h!==void 0&&t.s!==void 0&&t.v!==void 0&&t.a!==void 0}};Us.shared=new Us;Us._temp=new Us;Us.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Me=Us;const V_={cullArea:null,cullable:!1,cullableChildren:!0};class Ic{constructor(t,i){this._pool=[],this._count=0,this._index=0,this._classType=t,i&&this.prepopulate(i)}prepopulate(t){for(let i=0;i<t;i++)this._pool[this._index++]=new this._classType;this._count+=t}get(t){var r;let i;return this._index>0?i=this._pool[--this._index]:i=new this._classType,(r=i.init)==null||r.call(i,t),i}return(t){var i;(i=t.reset)==null||i.call(t),this._pool[this._index++]=t}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){this._pool.length=0,this._index=0}}class I_{constructor(){this._poolsByClass=new Map}prepopulate(t,i){this.getPool(t).prepopulate(i)}get(t,i){return this.getPool(t).get(i)}return(t){this.getPool(t.constructor).return(t)}getPool(t){return this._poolsByClass.has(t)||this._poolsByClass.set(t,new Ic(t)),this._poolsByClass.get(t)}stats(){const t={};return this._poolsByClass.forEach(i=>{const r=t[i._classType.name]?i._classType.name+i._classType.ID:i._classType.name;t[r]={free:i.totalFree,used:i.totalUsed,size:i.totalSize}}),t}}const Bn=new I_,W_={get isCachedAsTexture(){var s;return!!((s=this.renderGroup)!=null&&s.isCachedAsTexture)},cacheAsTexture(s){typeof s=="boolean"&&s===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(s===!0?{}:s))},updateCacheTexture(){var s;(s=this.renderGroup)==null||s.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(s){mt("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(s)}};function Z_(s,t,i){const r=s.length;let l;if(t>=r||i===0)return;i=t+i>r?r-t:i;const u=r-i;for(l=t;l<u;++l)s[l]=s[l+i];s.length=u}const $_={allowChildren:!0,removeChildren(s=0,t){const i=t??this.children.length,r=i-s,l=[];if(r>0&&r<=i){for(let h=i-1;h>=s;h--){const f=this.children[h];f&&(l.push(f),f.parent=null)}Z_(this.children,s,i);const u=this.renderGroup||this.parentRenderGroup;u&&u.removeChildren(l);for(let h=0;h<l.length;++h)this.emit("childRemoved",l[h],this,h),l[h].emit("removed",this);return l.length>0&&this._didViewChangeTick++,l}else if(r===0&&this.children.length===0)return l;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(s){const t=this.getChildAt(s);return this.removeChild(t)},getChildAt(s){if(s<0||s>=this.children.length)throw new Error(`getChildAt: Index (${s}) does not exist.`);return this.children[s]},setChildIndex(s,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);this.getChildIndex(s),this.addChildAt(s,t)},getChildIndex(s){const t=this.children.indexOf(s);if(t===-1)throw new Error("The supplied Container must be a child of the caller");return t},addChildAt(s,t){this.allowChildren||mt(Kt,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:i}=this;if(t<0||t>i.length)throw new Error(`${s}addChildAt: The index ${t} supplied is out of bounds ${i.length}`);if(s.parent){const l=s.parent.children.indexOf(s);if(s.parent===this&&l===t)return s;l!==-1&&s.parent.children.splice(l,1)}t===i.length?i.push(s):i.splice(t,0,s),s.parent=this,s.didChange=!0,s._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(s),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",s,this,t),s.emit("added",this),s},swapChildren(s,t){if(s===t)return;const i=this.getChildIndex(s),r=this.getChildIndex(t);this.children[i]=t,this.children[r]=s;const l=this.renderGroup||this.parentRenderGroup;l&&(l.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){var s;(s=this.parent)==null||s.removeChild(this)},reparentChild(...s){return s.length===1?this.reparentChildAt(s[0],this.children.length):(s.forEach(t=>this.reparentChildAt(t,this.children.length)),s[0])},reparentChildAt(s,t){if(s.parent===this)return this.setChildIndex(s,t),s;const i=s.worldTransform.clone();s.removeFromParent(),this.addChildAt(s,t);const r=this.worldTransform.clone();return r.invert(),i.prepend(r),s.setFromMatrix(i),s}},Q_={collectRenderables(s,t,i){this.parentRenderLayer&&this.parentRenderLayer!==i||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(s,t,i):this.renderGroup?t.renderPipes.renderGroup.addRenderGroup(this.renderGroup,s):this.collectRenderablesWithEffects(s,t,i))},collectRenderablesSimple(s,t,i){const r=this.children,l=r.length;for(let u=0;u<l;u++)r[u].collectRenderables(s,t,i)},collectRenderablesWithEffects(s,t,i){const{renderPipes:r}=t;for(let l=0;l<this.effects.length;l++){const u=this.effects[l];r[u.pipe].push(u,this,s)}this.collectRenderablesSimple(s,t,i);for(let l=this.effects.length-1;l>=0;l--){const u=this.effects[l];r[u.pipe].pop(u,this,s)}}};class Mg{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let t=0;t<this.filters.length;t++)this.filters[t].destroy();this.filters=null,this.filterArea=null}}class K_{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(t=>{this.add({test:t.test,maskClass:t})}))}add(t){this._tests.push(t)}getMaskEffect(t){this._initialized||this.init();for(let i=0;i<this._tests.length;i++){const r=this._tests[i];if(r.test(t))return Bn.get(r.maskClass,t)}return t}returnMaskEffect(t){Bn.return(t)}}const bc=new K_;Qe.handleByList(zt.MaskEffect,bc._effectClasses);const J_={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const s=this.renderGroup||this.parentRenderGroup;s&&(s.structureDidChange=!0)},addEffect(s){this.effects.indexOf(s)===-1&&(this.effects.push(s),this.effects.sort((i,r)=>i.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(s){const t=this.effects.indexOf(s);t!==-1&&(this.effects.splice(t,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(s){const t=this._maskEffect;(t==null?void 0:t.mask)!==s&&(t&&(this.removeEffect(t),bc.returnMaskEffect(t),this._maskEffect=null),s!=null&&(this._maskEffect=bc.getMaskEffect(s),this.addEffect(this._maskEffect)))},setMask(s){this._maskOptions={...this._maskOptions,...s},s.mask&&(this.mask=s.mask),this._markStructureAsChanged()},get mask(){var s;return(s=this._maskEffect)==null?void 0:s.mask},set filters(s){var u;!Array.isArray(s)&&s&&(s=[s]);const t=this._filterEffect||(this._filterEffect=new Mg);s=s;const i=(s==null?void 0:s.length)>0,r=((u=t.filters)==null?void 0:u.length)>0,l=i!==r;s=Array.isArray(s)?s.slice(0):s,t.filters=Object.freeze(s),l&&(i?this.addEffect(t):(this.removeEffect(t),t.filters=s??null))},get filters(){var s;return(s=this._filterEffect)==null?void 0:s.filters},set filterArea(s){this._filterEffect||(this._filterEffect=new Mg),this._filterEffect.filterArea=s},get filterArea(){var s;return(s=this._filterEffect)==null?void 0:s.filterArea}},t2={label:null,get name(){return mt(Kt,"Container.name property has been removed, use Container.label instead"),this.label},set name(s){mt(Kt,"Container.name property has been removed, use Container.label instead"),this.label=s},getChildByName(s,t=!1){return this.getChildByLabel(s,t)},getChildByLabel(s,t=!1){const i=this.children;for(let r=0;r<i.length;r++){const l=i[r];if(l.label===s||s instanceof RegExp&&s.test(l.label))return l}if(t)for(let r=0;r<i.length;r++){const u=i[r].getChildByLabel(s,!0);if(u)return u}return null},getChildrenByLabel(s,t=!1,i=[]){const r=this.children;for(let l=0;l<r.length;l++){const u=r[l];(u.label===s||s instanceof RegExp&&s.test(u.label))&&i.push(u)}if(t)for(let l=0;l<r.length;l++)r[l].getChildrenByLabel(s,!0,i);return i}},ye=new Ic(Ct),Nn=new Ic(rn),e2=new Ct,n2={getFastGlobalBounds(s,t){t||(t=new rn),t.clear(),this._getGlobalBoundsRecursive(!!s,t,this.parentRenderLayer),t.isValid||t.set(0,0,0,0);const i=this.renderGroup||this.parentRenderGroup;return t.applyMatrix(i.worldTransform),t},_getGlobalBoundsRecursive(s,t,i){let r=t;if(s&&this.parentRenderLayer&&this.parentRenderLayer!==i||this.localDisplayStatus!==7||!this.measurable)return;const l=!!this.effects.length;if((this.renderGroup||l)&&(r=Nn.get().clear()),this.boundsArea)t.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const h=this.bounds;r.addFrame(h.minX,h.minY,h.maxX,h.maxY,this.groupTransform)}const u=this.children;for(let h=0;h<u.length;h++)u[h]._getGlobalBoundsRecursive(s,r,i)}if(l){let u=!1;const h=this.renderGroup||this.parentRenderGroup;for(let f=0;f<this.effects.length;f++)this.effects[f].addBounds&&(u||(u=!0,r.applyMatrix(h.worldTransform)),this.effects[f].addBounds(r,!0));u&&(r.applyMatrix(h.worldTransform.copyTo(e2).invert()),t.addBounds(r,this.relativeGroupTransform)),t.addBounds(r),Nn.return(r)}else this.renderGroup&&(t.addBounds(r,this.relativeGroupTransform),Nn.return(r))}};function Jy(s,t,i){i.clear();let r,l;return s.parent?t?r=s.parent.worldTransform:(l=ye.get().identity(),r=Wc(s,l)):r=Ct.IDENTITY,t0(s,i,r,t),l&&ye.return(l),i.isValid||i.set(0,0,0,0),i}function t0(s,t,i,r){var f,p;if(!s.visible||!s.measurable)return;let l;r?l=s.worldTransform:(s.updateLocalTransform(),l=ye.get(),l.appendFrom(s.localTransform,i));const u=t,h=!!s.effects.length;if(h&&(t=Nn.get().clear()),s.boundsArea)t.addRect(s.boundsArea,l);else{s.bounds&&(t.matrix=l,t.addBounds(s.bounds));for(let m=0;m<s.children.length;m++)t0(s.children[m],t,l,r)}if(h){for(let m=0;m<s.effects.length;m++)(p=(f=s.effects[m]).addBounds)==null||p.call(f,t);u.addBounds(t,Ct.IDENTITY),Nn.return(t)}r||ye.return(l)}function Wc(s,t){const i=s.parent;return i&&(Wc(i,t),i.updateLocalTransform(),t.append(i.localTransform)),t}function e0(s,t){if(s===16777215||!t)return t;if(t===16777215||!s)return s;const i=s>>16&255,r=s>>8&255,l=s&255,u=t>>16&255,h=t>>8&255,f=t&255,p=i*u/255|0,m=r*h/255|0,g=l*f/255|0;return(p<<16)+(m<<8)+g}const Eg=16777215;function Rg(s,t){return s===Eg?t:t===Eg?s:e0(s,t)}function Xl(s){return((s&255)<<16)+(s&65280)+(s>>16&255)}const i2={getGlobalAlpha(s){if(s)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let t=this.alpha,i=this.parent;for(;i;)t*=i.alpha,i=i.parent;return t},getGlobalTransform(s,t){if(t)return s.copyFrom(this.worldTransform);this.updateLocalTransform();const i=Wc(this,ye.get().identity());return s.appendFrom(this.localTransform,i),ye.return(i),s},getGlobalTint(s){if(s)return this.renderGroup?Xl(this.renderGroup.worldColor):this.parentRenderGroup?Xl(Rg(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let t=this.localColor,i=this.parent;for(;i;)t=Rg(t,i.localColor),i=i.parent;return Xl(t)}};let Gh=0;const Og=500;function Le(...s){Gh!==Og&&(Gh++,Gh===Og?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...s))}function n0(s,t,i){return t.clear(),i||(i=Ct.IDENTITY),i0(s,t,i,s,!0),t.isValid||t.set(0,0,0,0),t}function i0(s,t,i,r,l){var p,m;let u;if(l)u=ye.get(),u=i.copyTo(u);else{if(!s.visible||!s.measurable)return;s.updateLocalTransform();const g=s.localTransform;u=ye.get(),u.appendFrom(g,i)}const h=t,f=!!s.effects.length;if(f&&(t=Nn.get().clear()),s.boundsArea)t.addRect(s.boundsArea,u);else{s.renderPipeId&&(t.matrix=u,t.addBounds(s.bounds));const g=s.children;for(let v=0;v<g.length;v++)i0(g[v],t,u,r,!1)}if(f){for(let g=0;g<s.effects.length;g++)(m=(p=s.effects[g]).addLocalBounds)==null||m.call(p,t,r);h.addBounds(t,Ct.IDENTITY),Nn.return(t)}ye.return(u)}function s0(s,t){const i=s.children;for(let r=0;r<i.length;r++){const l=i[r],u=l.uid,h=(l._didViewChangeTick&65535)<<16|l._didContainerChangeTick&65535,f=t.index;(t.data[f]!==u||t.data[f+1]!==h)&&(t.data[t.index]=u,t.data[t.index+1]=h,t.didChange=!0),t.index=f+2,l.children.length&&s0(l,t)}return t.didChange}const s2=new Ct,r2={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(s,t){const i=Math.sign(this.scale.x)||1;t!==0?this.scale.x=s/t*i:this.scale.x=i},_setHeight(s,t){const i=Math.sign(this.scale.y)||1;t!==0?this.scale.y=s/t*i:this.scale.y=i},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new rn});const s=this._localBoundsCacheData;return s.index=1,s.didChange=!1,s.data[0]!==this._didViewChangeTick&&(s.didChange=!0,s.data[0]=this._didViewChangeTick),s0(this,s),s.didChange&&n0(this,s.localBounds,s2),s.localBounds},getBounds(s,t){return Jy(this,s,t||new rn)}},a2={_onRender:null,set onRender(s){const t=this.renderGroup||this.parentRenderGroup;if(!s){this._onRender&&(t==null||t.removeOnRender(this)),this._onRender=null;return}this._onRender||t==null||t.addOnRender(this),this._onRender=s},get onRender(){return this._onRender}},l2={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(s){this._zIndex!==s&&(this._zIndex=s,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(o2))}};function o2(s,t){return s._zIndex-t._zIndex}const u2={getGlobalPosition(s=new At,t=!1){return this.parent?this.parent.toGlobal(this._position,s,t):(s.x=this._position.x,s.y=this._position.y),s},toGlobal(s,t,i=!1){const r=this.getGlobalTransform(ye.get(),i);return t=r.apply(s,t),ye.return(r),t},toLocal(s,t,i,r){t&&(s=t.toGlobal(s,i,r));const l=this.getGlobalTransform(ye.get(),r);return i=l.applyInverse(s,i),ye.return(l),i}};class r0{constructor(){this.uid=Jt("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}add(t){this.instructions[this.instructionSize++]=t}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let h2=0;class c2{constructor(t){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1}createTexture(t,i,r){const l=new gn({...this.textureOptions,width:t,height:i,resolution:1,antialias:r,autoGarbageCollect:!1});return new Ht({source:l,label:`texturePool_${h2++}`})}getOptimalTexture(t,i,r=1,l){let u=Math.ceil(t*r-1e-6),h=Math.ceil(i*r-1e-6);u=mg(u),h=mg(h);const f=(u<<17)+(h<<1)+(l?1:0);this._texturePool[f]||(this._texturePool[f]=[]);let p=this._texturePool[f].pop();return p||(p=this.createTexture(u,h,l)),p.source._resolution=r,p.source.width=u/r,p.source.height=h/r,p.source.pixelWidth=u,p.source.pixelHeight=h,p.frame.x=0,p.frame.y=0,p.frame.width=t,p.frame.height=i,p.updateUvs(),this._poolKeyHash[p.uid]=f,p}getSameSizeTexture(t,i=!1){const r=t.source;return this.getOptimalTexture(t.width,t.height,r._resolution,i)}returnTexture(t){const i=this._poolKeyHash[t.uid];this._texturePool[i].push(t)}clear(t){if(t=t!==!1,t)for(const i in this._texturePool){const r=this._texturePool[i];if(r)for(let l=0;l<r.length;l++)r[l].destroy(!0)}this._texturePool={}}}const Yi=new c2;class f2{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new Ct,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new r0,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(t){this.root=t,t._onRender&&this.addOnRender(t),t.didChange=!0;const i=t.children;for(let r=0;r<i.length;r++){const l=i[r];l._updateFlags=15,this.addChild(l)}}enableCacheAsTexture(t={}){this.textureOptions=t,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(Yi.returnTexture(this.texture),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0}reset(){this.renderGroupChildren.length=0;for(const t in this.childrenToUpdate){const i=this.childrenToUpdate[t];i.list.fill(null),i.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(t){t.renderGroupParent&&t.renderGroupParent._removeRenderGroupChild(t),t.renderGroupParent=this,this.renderGroupChildren.push(t)}_removeRenderGroupChild(t){const i=this.renderGroupChildren.indexOf(t);i>-1&&this.renderGroupChildren.splice(i,1),t.renderGroupParent=null}addChild(t){if(this.structureDidChange=!0,t.parentRenderGroup=this,t.updateTick=-1,t.parent===this.root?t.relativeRenderGroupDepth=1:t.relativeRenderGroupDepth=t.parent.relativeRenderGroupDepth+1,t.didChange=!0,this.onChildUpdate(t),t.renderGroup){this.addRenderGroupChild(t.renderGroup);return}t._onRender&&this.addOnRender(t);const i=t.children;for(let r=0;r<i.length;r++)this.addChild(i[r])}removeChild(t){if(this.structureDidChange=!0,t._onRender&&(t.renderGroup||this.removeOnRender(t)),t.parentRenderGroup=null,t.renderGroup){this._removeRenderGroupChild(t.renderGroup);return}const i=t.children;for(let r=0;r<i.length;r++)this.removeChild(i[r])}removeChildren(t){for(let i=0;i<t.length;i++)this.removeChild(t[i])}onChildUpdate(t){let i=this.childrenToUpdate[t.relativeRenderGroupDepth];i||(i=this.childrenToUpdate[t.relativeRenderGroupDepth]={index:0,list:[]}),i.list[i.index++]=t}updateRenderable(t){t.globalDisplayStatus<7||(this.instructionSet.renderPipes[t.renderPipeId].updateRenderable(t),t.didViewUpdate=!1)}onChildViewUpdate(t){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=t}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(t){this._onRenderContainers.push(t)}removeOnRender(t){this._onRenderContainers.splice(this._onRenderContainers.indexOf(t),1)}runOnRender(t){for(let i=0;i<this._onRenderContainers.length;i++)this._onRenderContainers[i]._onRender(t)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(t=[]){const i=this.root.children;for(let r=0;r<i.length;r++)this._getChildren(i[r],t);return t}_getChildren(t,i=[]){if(i.push(t),t.renderGroup)return i;const r=t.children;for(let l=0;l<r.length;l++)this._getChildren(r[l],i);return i}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return(this._matrixDirty&1)===0?this._inverseWorldTransform:(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new Ct),this._inverseWorldTransform.copyFrom(this.worldTransform).invert())}get textureOffsetInverseTransform(){return(this._matrixDirty&2)===0?this._textureOffsetInverseTransform:(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new Ct),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y))}get inverseParentTextureTransform(){if((this._matrixDirty&4)===0)return this._inverseParentTextureTransform;this._matrixDirty&=-5;const t=this._parentCacheAsTextureRenderGroup;return t?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new Ct),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(t.inverseWorldTransform).translate(-t._textureBounds.x,-t._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function d2(s,t,i={}){for(const r in t)!i[r]&&t[r]!==void 0&&(s[r]=t[r])}const Ph=new Pe(null),Lh=new Pe(null),Yh=new Pe(null,1,1),zg=1,p2=2,Xh=4;class Gn extends kn{constructor(t={}){var i,r;super(),this.uid=Jt("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new Ct,this.relativeGroupTransform=new Ct,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new Pe(this,0,0),this._scale=Yh,this._pivot=Lh,this._skew=Ph,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],d2(this,t,{children:!0,parent:!0,effects:!0}),(i=t.children)==null||i.forEach(l=>this.addChild(l)),(r=t.parent)==null||r.addChild(this)}static mixin(t){mt("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Qe.mixin(Gn,t)}set _didChangeId(t){this._didViewChangeTick=t>>12&4095,this._didContainerChangeTick=t&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...t){if(this.allowChildren||mt(Kt,"addChild: Only Containers will be allowed to add children in v8.0.0"),t.length>1){for(let l=0;l<t.length;l++)this.addChild(t[l]);return t[0]}const i=t[0],r=this.renderGroup||this.parentRenderGroup;return i.parent===this?(this.children.splice(this.children.indexOf(i),1),this.children.push(i),r&&(r.structureDidChange=!0),i):(i.parent&&i.parent.removeChild(i),this.children.push(i),this.sortableChildren&&(this.sortDirty=!0),i.parent=this,i.didChange=!0,i._updateFlags=15,r&&r.addChild(i),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this),this._didViewChangeTick++,i._zIndex!==0&&i.depthOfChildModified(),i)}removeChild(...t){if(t.length>1){for(let l=0;l<t.length;l++)this.removeChild(t[l]);return t[0]}const i=t[0],r=this.children.indexOf(i);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(i):this.parentRenderGroup&&this.parentRenderGroup.removeChild(i),i.parentRenderLayer&&i.parentRenderLayer.detach(i),i.parent=null,this.emit("childRemoved",i,this,r),i.emit("removed",this)),i}_onUpdate(t){t&&t===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(t){!!this.renderGroup!==t&&(t?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),this.renderGroup=Bn.get(f2,this),this.groupTransform=Ct.IDENTITY,t==null||t.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const t=this.parentRenderGroup;t==null||t.removeChild(this),Bn.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,t==null||t.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new Ct),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(t){this._position.x=t}get y(){return this._position.y}set y(t){this._position.y=t}get position(){return this._position}set position(t){this._position.copyFrom(t)}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this._onUpdate(this._skew))}get angle(){return this.rotation*M_}set angle(t){this.rotation=t*E_}get pivot(){return this._pivot===Lh&&(this._pivot=new Pe(this,0,0)),this._pivot}set pivot(t){this._pivot===Lh&&(this._pivot=new Pe(this,0,0)),typeof t=="number"?this._pivot.set(t):this._pivot.copyFrom(t)}get skew(){return this._skew===Ph&&(this._skew=new Pe(this,0,0)),this._skew}set skew(t){this._skew===Ph&&(this._skew=new Pe(this,0,0)),this._skew.copyFrom(t)}get scale(){return this._scale===Yh&&(this._scale=new Pe(this,1,1)),this._scale}set scale(t){this._scale===Yh&&(this._scale=new Pe(this,0,0)),typeof t=="number"?this._scale.set(t):this._scale.copyFrom(t)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(t){const i=this.getLocalBounds().width;this._setWidth(t,i)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(t){const i=this.getLocalBounds().height;this._setHeight(t,i)}getSize(t){t||(t={});const i=this.getLocalBounds();return t.width=Math.abs(this.scale.x*i.width),t.height=Math.abs(this.scale.y*i.height),t}setSize(t,i){const r=this.getLocalBounds();typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,r.width),i!==void 0&&this._setHeight(i,r.height)}_updateSkew(){const t=this._rotation,i=this._skew;this._cx=Math.cos(t+i._y),this._sx=Math.sin(t+i._y),this._cy=-Math.sin(t-i._x),this._sy=Math.cos(t-i._x)}updateTransform(t){return this.position.set(typeof t.x=="number"?t.x:this.position.x,typeof t.y=="number"?t.y:this.position.y),this.scale.set(typeof t.scaleX=="number"?t.scaleX||1:this.scale.x,typeof t.scaleY=="number"?t.scaleY||1:this.scale.y),this.rotation=typeof t.rotation=="number"?t.rotation:this.rotation,this.skew.set(typeof t.skewX=="number"?t.skewX:this.skew.x,typeof t.skewY=="number"?t.skewY:this.skew.y),this.pivot.set(typeof t.pivotX=="number"?t.pivotX:this.pivot.x,typeof t.pivotY=="number"?t.pivotY:this.pivot.y),this}setFromMatrix(t){t.decompose(this)}updateLocalTransform(){const t=this._didContainerChangeTick;if(this._didLocalTransformChangeId===t)return;this._didLocalTransformChangeId=t;const i=this.localTransform,r=this._scale,l=this._pivot,u=this._position,h=r._x,f=r._y,p=l._x,m=l._y;i.a=this._cx*h,i.b=this._sx*h,i.c=this._cy*f,i.d=this._sy*f,i.tx=u._x-(p*i.a+m*i.c),i.ty=u._y-(p*i.b+m*i.d)}set alpha(t){t!==this.localAlpha&&(this.localAlpha=t,this._updateFlags|=zg,this._onUpdate())}get alpha(){return this.localAlpha}set tint(t){const r=Me.shared.setValue(t??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=zg,this._onUpdate())}get tint(){return Xl(this.localColor)}set blendMode(t){this.localBlendMode!==t&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=p2,this.localBlendMode=t,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(t){const i=t?2:0;(this.localDisplayStatus&2)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Xh,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(t){const i=t?0:4;(this.localDisplayStatus&4)!==i&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Xh,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(t){const i=t?1:0;(this.localDisplayStatus&1)!==i&&(this._updateFlags|=Xh,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(t=!1){var l;if(this.destroyed)return;this.destroyed=!0;let i;if(this.children.length&&(i=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof t=="boolean"?t:t==null?void 0:t.children)&&i)for(let u=0;u<i.length;++u)i[u].destroy(t);(l=this.renderGroup)==null||l.destroy(),this.renderGroup=null}}Qe.mixin(Gn,$_,n2,u2,a2,r2,J_,t2,l2,V_,W_,i2,Q_);class a0 extends Gn{constructor(t){super(t),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._bounds=new rn(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(t){this._roundPixels=t?1:0}containsPoint(t){const i=this.bounds,{x:r,y:l}=t;return r>=i.minX&&r<=i.maxX&&l>=i.minY&&l<=i.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const t=this.renderGroup||this.parentRenderGroup;t&&t.onChildViewUpdate(this)}destroy(t){super.destroy(t),this._bounds=null}collectRenderablesSimple(t,i,r){const{renderPipes:l,renderableGC:u}=i;l.blendMode.setBlendMode(this,this.groupBlendMode,t),l[this.renderPipeId].addRenderable(this,t),u.addRenderable(this),this.didViewUpdate=!1;const f=this.children,p=f.length;for(let m=0;m<p;m++)f[m].collectRenderables(t,i,r)}}class na extends a0{constructor(t=Ht.EMPTY){t instanceof Ht&&(t={texture:t});const{texture:i=Ht.EMPTY,anchor:r,roundPixels:l,width:u,height:h,...f}=t;super({label:"Sprite",...f}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new Pe({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:i.defaultAnchor&&(this.anchor=i.defaultAnchor),this.texture=i,this.allowChildren=!1,this.roundPixels=l??!1,u!==void 0&&(this.width=u),h!==void 0&&(this.height=h)}static from(t,i=!1){return t instanceof Ht?new na(t):new na(Ht.from(t,i))}set texture(t){t||(t=Ht.EMPTY);const i=this._texture;i!==t&&(i&&i.dynamic&&i.off("update",this.onViewUpdate,this),t.dynamic&&t.on("update",this.onViewUpdate,this),this._texture=t,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return H_(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return mt("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const t=this._anchor,i=this._texture,r=this._bounds,{width:l,height:u}=i.orig;r.minX=-t._x*l,r.maxX=r.minX+l,r.minY=-t._y*u,r.maxY=r.minY+u}destroy(t=!1){if(super.destroy(t),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this._setWidth(t,this._texture.orig.width),this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this._setHeight(t,this._texture.orig.height),this._height=t}getSize(t){return t||(t={}),t.width=Math.abs(this.scale.x)*this._texture.orig.width,t.height=Math.abs(this.scale.y)*this._texture.orig.height,t}setSize(t,i){typeof t=="object"?(i=t.height??t.width,t=t.width):i??(i=t),t!==void 0&&this._setWidth(t,this._texture.orig.width),i!==void 0&&this._setHeight(i,this._texture.orig.height)}}const m2=new rn;function l0(s,t,i){const r=m2;s.measurable=!0,Jy(s,i,r),t.addBoundsMask(r),s.measurable=!1}function o0(s,t,i){const r=Nn.get();s.measurable=!0;const l=ye.get().identity(),u=u0(s,i,l);n0(s,r,u),s.measurable=!1,t.addBoundsMask(r),ye.return(l),Nn.return(r)}function u0(s,t,i){return s?(s!==t&&(u0(s.parent,t,i),s.updateLocalTransform(),i.append(s.localTransform)),i):(Le("Mask bounds, renderable is not inside the root container"),i)}class h0{constructor(t){this.priority=0,this.inverse=!1,this.pipe="alphaMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.renderMaskToTexture=!(t instanceof na),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(t,i){this.inverse||l0(this.mask,t,i)}addLocalBounds(t,i){o0(this.mask,t,i)}containsPoint(t,i){const r=this.mask;return i(r,t)}destroy(){this.reset()}static test(t){return t instanceof na}}h0.extension=zt.MaskEffect;class c0{constructor(t){this.priority=0,this.pipe="colorMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t}destroy(){}static test(t){return typeof t=="number"}}c0.extension=zt.MaskEffect;class f0{constructor(t){this.priority=0,this.pipe="stencilMask",t!=null&&t.mask&&this.init(t.mask)}init(t){this.mask=t,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(t,i){l0(this.mask,t,i)}addLocalBounds(t,i){o0(this.mask,t,i)}containsPoint(t,i){const r=this.mask;return i(r,t)}destroy(){this.reset()}static test(t){return t instanceof Gn}}f0.extension=zt.MaskEffect;const g2={createCanvas:(s,t)=>{const i=document.createElement("canvas");return i.width=s,i.height=t,i},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(s,t)=>fetch(s,t),parseXML:s=>new DOMParser().parseFromString(s,"text/xml")};let Dg=g2;const di={get(){return Dg},set(s){Dg=s}};class d0 extends gn{constructor(t){t.resource||(t.resource=di.get().createCanvas()),t.width||(t.width=t.resource.width,t.autoDensity||(t.width/=t.resolution)),t.height||(t.height=t.resource.height,t.autoDensity||(t.height/=t.resolution)),super(t),this.uploadMethodId="image",this.autoDensity=t.autoDensity,this.resizeCanvas(),this.transparent=!!t.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(t=this.width,i=this.height,r=this._resolution){const l=super.resize(t,i,r);return l&&this.resizeCanvas(),l}static test(t){return globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&t instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}d0.extension=zt.TextureSource;class Zl extends gn{constructor(t){if(t.resource&&globalThis.HTMLImageElement&&t.resource instanceof HTMLImageElement){const i=di.get().createCanvas(t.resource.width,t.resource.height);i.getContext("2d").drawImage(t.resource,0,0,t.resource.width,t.resource.height),t.resource=i,Le("ImageSource: Image element passed, converting to canvas. Use CanvasSource instead.")}super(t),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(t){return globalThis.HTMLImageElement&&t instanceof HTMLImageElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap||globalThis.VideoFrame&&t instanceof VideoFrame}}Zl.extension=zt.TextureSource;var _c=(s=>(s[s.INTERACTION=50]="INTERACTION",s[s.HIGH=25]="HIGH",s[s.NORMAL=0]="NORMAL",s[s.LOW=-25]="LOW",s[s.UTILITY=-50]="UTILITY",s))(_c||{});class jh{constructor(t,i=null,r=0,l=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=t,this._context=i,this.priority=r,this._once=l}match(t,i=null){return this._fn===t&&this._context===i}emit(t){this._fn&&(this._context?this._fn.call(this._context,t):this._fn(t));const i=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),i}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const i=this.next;return this.next=t?null:i,this.previous=null,i}}const p0=class Ge{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new jh(null,null,1/0),this.deltaMS=1/Ge.targetFPMS,this.elapsedMS=1/Ge.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,i,r=_c.NORMAL){return this._addListener(new jh(t,i,r))}addOnce(t,i,r=_c.NORMAL){return this._addListener(new jh(t,i,r,!0))}_addListener(t){let i=this._head.next,r=this._head;if(!i)t.connect(r);else{for(;i;){if(t.priority>i.priority){t.connect(r);break}r=i,i=i.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,i){let r=this._head.next;for(;r;)r.match(t,i)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,i=this._head;for(;i=i.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let i;if(t>this.lastTime){if(i=this.elapsedMS=t-this.lastTime,i>this._maxElapsedMS&&(i=this._maxElapsedMS),i*=this.speed,this._minElapsedMS){const u=t-this._lastFrame|0;if(u<this._minElapsedMS)return;this._lastFrame=t-u%this._minElapsedMS}this.deltaMS=i,this.deltaTime=this.deltaMS*Ge.targetFPMS;const r=this._head;let l=r.next;for(;l;)l=l.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const i=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,i)/1e3,Ge.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const i=Math.max(this.minFPS,t);this._minElapsedMS=1/(i/1e3)}}static get shared(){if(!Ge._shared){const t=Ge._shared=new Ge;t.autoStart=!0,t._protected=!0}return Ge._shared}static get system(){if(!Ge._system){const t=Ge._system=new Ge;t.autoStart=!0,t._protected=!0}return Ge._system}};p0.targetFPMS=.06;let qr=p0,Fh;async function y2(){return Fh??(Fh=(async()=>{var h;const t=document.createElement("canvas").getContext("webgl");if(!t)return"premultiply-alpha-on-upload";const i=await new Promise(f=>{const p=document.createElement("video");p.onloadeddata=()=>f(p),p.onerror=()=>f(null),p.autoplay=!1,p.crossOrigin="anonymous",p.preload="auto",p.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",p.load()});if(!i)return"premultiply-alpha-on-upload";const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const l=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,l),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i);const u=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,u),t.deleteFramebuffer(l),t.deleteTexture(r),(h=t.getExtension("WEBGL_lose_context"))==null||h.loseContext(),u[0]<=u[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),Fh}const to=class m0 extends gn{constructor(t){super(t),this.isReady=!1,this.uploadMethodId="video",t={...m0.defaultOptions,...t},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this.alphaMode=t.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const t=qr.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const t=this.resource,i=this.options;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart),t.addEventListener("pause",this._onPlayStop),t.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(i.preload||t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlayThrough),t.addEventListener("error",this._onError,!0)),this.alphaMode=await y2(),this._load=new Promise((r,l)=>{this.isValid?r(this):(this._resolve=r,this._reject=l,i.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${i.preloadTimeoutMs}ms`))})),t.load())}),this._load}_onError(t){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",t),this._reject&&(this._reject(t),this._reject=null,this._resolve=null)}_isSourcePlaying(){const t=this.resource;return!t.paused&&!t.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const t=this.resource;this.isValid&&(this.isReady=!0,this.resize(t.videoWidth,t.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const t=this.resource;t&&(t.removeEventListener("play",this._onPlayStart),t.removeEventListener("pause",this._onPlayStop),t.removeEventListener("seeked",this._onSeeked),t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlayThrough),t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(qr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(qr.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(qr.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement}};to.extension=zt.TextureSource;to.defaultOptions={...gn.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};to.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let v2=to;const zs=(s,t,i=!1)=>(Array.isArray(s)||(s=[s]),t?s.map(r=>typeof r=="string"||i?t(r):r):s);class x2{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const i=this._cache.get(t);return i||Le(`[Assets] Asset id ${t} was not found in the Cache`),i}set(t,i){const r=zs(t);let l;for(let p=0;p<this.parsers.length;p++){const m=this.parsers[p];if(m.test(i)){l=m.getCacheableAssets(r,i);break}}const u=new Map(Object.entries(l||{}));l||r.forEach(p=>{u.set(p,i)});const h=[...u.keys()],f={cacheKeys:h,keys:r};r.forEach(p=>{this._cacheMap.set(p,f)}),h.forEach(p=>{const m=l?l[p]:i;this._cache.has(p)&&this._cache.get(p)!==m&&Le("[Cache] already has key:",p),this._cache.set(p,u.get(p))})}remove(t){if(!this._cacheMap.has(t)){Le(`[Assets] Asset id ${t} was not found in the Cache`);return}const i=this._cacheMap.get(t);i.cacheKeys.forEach(l=>{this._cache.delete(l)}),i.keys.forEach(l=>{this._cacheMap.delete(l)})}get parsers(){return this._parsers}}const Ds=new x2,Sc=[];Qe.handleByList(zt.TextureSource,Sc);function g0(s={}){const t=s&&s.resource,i=t?s.resource:s,r=t?s:{resource:s};for(let l=0;l<Sc.length;l++){const u=Sc[l];if(u.test(i))return new u(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function b2(s={},t=!1){const i=s&&s.resource,r=i?s.resource:s,l=i?s:{resource:s};if(!t&&Ds.has(r))return Ds.get(r);const u=new Ht({source:g0(l)});return u.on("destroy",()=>{Ds.has(r)&&Ds.remove(r)}),t||Ds.set(r,u),u}function _2(s,t=!1){return typeof s=="string"?Ds.get(s):s instanceof gn?new Ht({source:s}):b2(s,t)}Ht.from=_2;gn.from=g0;Qe.add(h0,c0,f0,v2,Zl,d0,Vc);var y0=(s=>(s[s.Low=0]="Low",s[s.Normal=1]="Normal",s[s.High=2]="High",s))(y0||{});function nn(s){if(typeof s!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(s)}`)}function kr(s){return s.split("?")[0].split("#")[0]}function S2(s){return s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w2(s,t,i){return s.replace(new RegExp(S2(t),"g"),i)}function A2(s,t){let i="",r=0,l=-1,u=0,h=-1;for(let f=0;f<=s.length;++f){if(f<s.length)h=s.charCodeAt(f);else{if(h===47)break;h=47}if(h===47){if(!(l===f-1||u===1))if(l!==f-1&&u===2){if(i.length<2||r!==2||i.charCodeAt(i.length-1)!==46||i.charCodeAt(i.length-2)!==46){if(i.length>2){const p=i.lastIndexOf("/");if(p!==i.length-1){p===-1?(i="",r=0):(i=i.slice(0,p),r=i.length-1-i.lastIndexOf("/")),l=f,u=0;continue}}else if(i.length===2||i.length===1){i="",r=0,l=f,u=0;continue}}}else i.length>0?i+=`/${s.slice(l+1,f)}`:i=s.slice(l+1,f),r=f-l-1;l=f,u=0}else h===46&&u!==-1?++u:u=-1}return i}const ia={toPosix(s){return w2(s,"\\","/")},isUrl(s){return/^https?:/.test(this.toPosix(s))},isDataUrl(s){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(s)},isBlobUrl(s){return s.startsWith("blob:")},hasProtocol(s){return/^[^/:]+:/.test(this.toPosix(s))},getProtocol(s){nn(s),s=this.toPosix(s);const t=/^file:\/\/\//.exec(s);if(t)return t[0];const i=/^[^/:]+:\/{0,2}/.exec(s);return i?i[0]:""},toAbsolute(s,t,i){if(nn(s),this.isDataUrl(s)||this.isBlobUrl(s))return s;const r=kr(this.toPosix(t??di.get().getBaseUrl())),l=kr(this.toPosix(i??this.rootname(r)));return s=this.toPosix(s),s.startsWith("/")?ia.join(l,s.slice(1)):this.isAbsolute(s)?s:this.join(r,s)},normalize(s){if(nn(s),s.length===0)return".";if(this.isDataUrl(s)||this.isBlobUrl(s))return s;s=this.toPosix(s);let t="";const i=s.startsWith("/");this.hasProtocol(s)&&(t=this.rootname(s),s=s.slice(t.length));const r=s.endsWith("/");return s=A2(s),s.length>0&&r&&(s+="/"),i?`/${s}`:t+s},isAbsolute(s){return nn(s),s=this.toPosix(s),this.hasProtocol(s)?!0:s.startsWith("/")},join(...s){if(s.length===0)return".";let t;for(let i=0;i<s.length;++i){const r=s[i];if(nn(r),r.length>0)if(t===void 0)t=r;else{const l=s[i-1]??"";this.joinExtensions.includes(this.extname(l).toLowerCase())?t+=`/../${r}`:t+=`/${r}`}}return t===void 0?".":this.normalize(t)},dirname(s){if(nn(s),s.length===0)return".";s=this.toPosix(s);let t=s.charCodeAt(0);const i=t===47;let r=-1,l=!0;const u=this.getProtocol(s),h=s;s=s.slice(u.length);for(let f=s.length-1;f>=1;--f)if(t=s.charCodeAt(f),t===47){if(!l){r=f;break}}else l=!1;return r===-1?i?"/":this.isUrl(h)?u+s:u:i&&r===1?"//":u+s.slice(0,r)},rootname(s){nn(s),s=this.toPosix(s);let t="";if(s.startsWith("/")?t="/":t=this.getProtocol(s),this.isUrl(s)){const i=s.indexOf("/",t.length);i!==-1?t=s.slice(0,i):t=s,t.endsWith("/")||(t+="/")}return t},basename(s,t){nn(s),t&&nn(t),s=kr(this.toPosix(s));let i=0,r=-1,l=!0,u;if(t!==void 0&&t.length>0&&t.length<=s.length){if(t.length===s.length&&t===s)return"";let h=t.length-1,f=-1;for(u=s.length-1;u>=0;--u){const p=s.charCodeAt(u);if(p===47){if(!l){i=u+1;break}}else f===-1&&(l=!1,f=u+1),h>=0&&(p===t.charCodeAt(h)?--h===-1&&(r=u):(h=-1,r=f))}return i===r?r=f:r===-1&&(r=s.length),s.slice(i,r)}for(u=s.length-1;u>=0;--u)if(s.charCodeAt(u)===47){if(!l){i=u+1;break}}else r===-1&&(l=!1,r=u+1);return r===-1?"":s.slice(i,r)},extname(s){nn(s),s=kr(this.toPosix(s));let t=-1,i=0,r=-1,l=!0,u=0;for(let h=s.length-1;h>=0;--h){const f=s.charCodeAt(h);if(f===47){if(!l){i=h+1;break}continue}r===-1&&(l=!1,r=h+1),f===46?t===-1?t=h:u!==1&&(u=1):t!==-1&&(u=-1)}return t===-1||r===-1||u===0||u===1&&t===r-1&&t===i+1?"":s.slice(t,r)},parse(s){nn(s);const t={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return t;s=kr(this.toPosix(s));let i=s.charCodeAt(0);const r=this.isAbsolute(s);let l;t.root=this.rootname(s),r||this.hasProtocol(s)?l=1:l=0;let u=-1,h=0,f=-1,p=!0,m=s.length-1,g=0;for(;m>=l;--m){if(i=s.charCodeAt(m),i===47){if(!p){h=m+1;break}continue}f===-1&&(p=!1,f=m+1),i===46?u===-1?u=m:g!==1&&(g=1):u!==-1&&(g=-1)}return u===-1||f===-1||g===0||g===1&&u===f-1&&u===h+1?f!==-1&&(h===0&&r?t.base=t.name=s.slice(1,f):t.base=t.name=s.slice(h,f)):(h===0&&r?(t.name=s.slice(1,u),t.base=s.slice(1,f)):(t.name=s.slice(h,u),t.base=s.slice(h,f)),t.ext=s.slice(u,f)),t.dir=this.dirname(s),t},sep:"/",delimiter:":",joinExtensions:[".html"]};function v0(s,t,i,r,l){const u=t[i];for(let h=0;h<u.length;h++){const f=u[h];i<t.length-1?v0(s.replace(r[i],f),t,i+1,r,l):l.push(s.replace(r[i],f))}}function C2(s){const t=/\{(.*?)\}/g,i=s.match(t),r=[];if(i){const l=[];i.forEach(u=>{const h=u.substring(1,u.length-1).split(",");l.push(h)}),v0(s,l,0,i,r)}else r.push(s);return r}const Ug=s=>!Array.isArray(s);class x0{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,i)=>`${t}${this._bundleIdConnector}${i}`,extractAssetIdFromBundle:(t,i)=>i.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){if(this._bundleIdConnector=t.connector??this._bundleIdConnector,this._createBundleAssetId=t.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=t.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(i=>{this._preferredOrder.push(i),i.priority||(i.priority=Object.keys(i.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const i=t;this._defaultSearchParams=Object.keys(i).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(i[r])}`).join("&")}}getAlias(t){const{alias:i,src:r}=t;return zs(i||r,u=>typeof u=="string"?u:Array.isArray(u)?u.map(h=>(h==null?void 0:h.src)??h):u!=null&&u.src?u.src:u,!0)}addManifest(t){this._manifest&&Le("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(i=>{this.addBundle(i.name,i.assets)})}addBundle(t,i){const r=[];let l=i;Array.isArray(i)||(l=Object.entries(i).map(([u,h])=>typeof h=="string"||Array.isArray(h)?{alias:u,src:h}:{alias:u,...h})),l.forEach(u=>{const h=u.src,f=u.alias;let p;if(typeof f=="string"){const m=this._createBundleAssetId(t,f);r.push(m),p=[f,m]}else{const m=f.map(g=>this._createBundleAssetId(t,g));r.push(...m),p=[...f,...m]}this.add({...u,alias:p,src:h})}),this._bundles[t]=r}add(t){const i=[];Array.isArray(t)?i.push(...t):i.push(t);let r;r=u=>{this.hasKey(u)&&Le(`[Resolver] already has key: ${u} overwriting`)},zs(i).forEach(u=>{const{src:h}=u;let{data:f,format:p,loadParser:m}=u;const g=zs(h).map(x=>typeof x=="string"?C2(x):Array.isArray(x)?x:[x]),v=this.getAlias(u);Array.isArray(v)?v.forEach(r):r(v);const _=[];g.forEach(x=>{x.forEach(C=>{let O={};if(typeof C!="object"){O.src=C;for(let A=0;A<this._parsers.length;A++){const M=this._parsers[A];if(M.test(C)){O=M.parse(C);break}}}else f=C.data??f,p=C.format??p,m=C.loadParser??m,O={...O,...C};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${O.src}`);O=this._buildResolvedAsset(O,{aliases:v,data:f,format:p,loadParser:m}),_.push(O)})}),v.forEach(x=>{this._assetMap[x]=_})})}resolveBundle(t){const i=Ug(t);t=zs(t);const r={};return t.forEach(l=>{const u=this._bundles[l];if(u){const h=this.resolve(u),f={};for(const p in h){const m=h[p];f[this._extractAssetIdFromBundle(l,p)]=m}r[l]=f}}),i?r[t[0]]:r}resolveUrl(t){const i=this.resolve(t);if(typeof t!="string"){const r={};for(const l in i)r[l]=i[l].src;return r}return i.src}resolve(t){const i=Ug(t);t=zs(t);const r={};return t.forEach(l=>{if(!this._resolverHash[l])if(this._assetMap[l]){let u=this._assetMap[l];const h=this._getPreferredOrder(u);h==null||h.priority.forEach(f=>{h.params[f].forEach(p=>{const m=u.filter(g=>g[f]?g[f]===p:!1);m.length&&(u=m)})}),this._resolverHash[l]=u[0]}else this._resolverHash[l]=this._buildResolvedAsset({alias:[l],src:l},{});r[l]=this._resolverHash[l]}),i?r[t[0]]:r}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let i=0;i<t.length;i++){const r=t[i],l=this._preferredOrder.find(u=>u.params.format.includes(r.format));if(l)return l}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const i=/\?/.test(t)?"&":"?";return`${t}${i}${this._defaultSearchParams}`}_buildResolvedAsset(t,i){const{aliases:r,data:l,loadParser:u,format:h}=i;return(this._basePath||this._rootPath)&&(t.src=ia.toAbsolute(t.src,this._basePath,this._rootPath)),t.alias=r??t.alias??[t.src],t.src=this._appendDefaultSearchParams(t.src),t.data={...l||{},...t.data},t.loadParser=u??t.loadParser,t.format=h??t.format??T2(t.src),t}}x0.RETINA_PREFIX=/@([0-9\.]+)x/;function T2(s){return s.split(".").pop().split("?").shift().split("#").shift()}const Bg=(s,t)=>{const i=t.split("?")[1];return i&&(s+=`?${i}`),s},b0=class Vr{constructor(t,i){this.linkedSheets=[],this._texture=t instanceof Ht?t:null,this.textureSource=t.source,this.textures={},this.animations={},this.data=i;const r=parseFloat(i.meta.scale);r?(this.resolution=r,t.source.resolution=this.resolution):this.resolution=t.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Vr.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let i=t;const r=Vr.BATCH_SIZE;for(;i-t<r&&i<this._frameKeys.length;){const l=this._frameKeys[i],u=this._frames[l],h=u.frame;if(h){let f=null,p=null;const m=u.trimmed!==!1&&u.sourceSize?u.sourceSize:u.frame,g=new It(0,0,Math.floor(m.w)/this.resolution,Math.floor(m.h)/this.resolution);u.rotated?f=new It(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.h)/this.resolution,Math.floor(h.w)/this.resolution):f=new It(Math.floor(h.x)/this.resolution,Math.floor(h.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution),u.trimmed!==!1&&u.spriteSourceSize&&(p=new It(Math.floor(u.spriteSourceSize.x)/this.resolution,Math.floor(u.spriteSourceSize.y)/this.resolution,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution)),this.textures[l]=new Ht({source:this.textureSource,frame:f,orig:g,trim:p,rotate:u.rotated?2:0,defaultAnchor:u.anchor,defaultBorders:u.borders,label:l.toString()})}i++}}_processAnimations(){const t=this.data.animations||{};for(const i in t){this.animations[i]=[];for(let r=0;r<t[i].length;r++){const l=t[i][r];this.animations[i].push(this.textures[l])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Vr.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Vr.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var i;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((i=this._texture)==null||i.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};b0.BATCH_SIZE=1e3;let Ng=b0;const M2=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function _0(s,t,i){const r={};if(s.forEach(l=>{r[l]=t}),Object.keys(t.textures).forEach(l=>{r[l]=t.textures[l]}),!i){const l=ia.dirname(s[0]);t.linkedSheets.forEach((u,h)=>{const f=_0([`${l}/${t.data.meta.related_multi_packs[h]}`],u,!0);Object.assign(r,f)})}return r}const E2={extension:zt.Asset,cache:{test:s=>s instanceof Ng,getCacheableAssets:(s,t)=>_0(s,t,!1)},resolver:{extension:{type:zt.ResolveParser,name:"resolveSpritesheet"},test:s=>{const i=s.split("?")[0].split("."),r=i.pop(),l=i.pop();return r==="json"&&M2.includes(l)},parse:s=>{var i;const t=s.split(".");return{resolution:parseFloat(((i=x0.RETINA_PREFIX.exec(s))==null?void 0:i[1])??"1"),format:t[t.length-2],src:s}}},loader:{name:"spritesheetLoader",extension:{type:zt.LoadParser,priority:y0.Normal,name:"spritesheetLoader"},async testParse(s,t){return ia.extname(t.src).toLowerCase()===".json"&&!!s.frames},async parse(s,t,i){var g,v;const{texture:r,imageFilename:l,textureOptions:u}=(t==null?void 0:t.data)??{};let h=ia.dirname(t.src);h&&h.lastIndexOf("/")!==h.length-1&&(h+="/");let f;if(r instanceof Ht)f=r;else{const _=Bg(h+(l??s.meta.image),t.src);f=(await i.load([{src:_,data:u}]))[_]}const p=new Ng(f.source,s);await p.parse();const m=(g=s==null?void 0:s.meta)==null?void 0:g.related_multi_packs;if(Array.isArray(m)){const _=[];for(const C of m){if(typeof C!="string")continue;let O=h+C;(v=t.data)!=null&&v.ignoreMultiPack||(O=Bg(O,t.src),_.push(i.load({src:O,data:{textureOptions:u,ignoreMultiPack:!0}})))}const x=await Promise.all(_);p.linkedSheets=x,x.forEach(C=>{C.linkedSheets=[p].concat(p.linkedSheets.filter(O=>O!==C))})}return p},async unload(s,t,i){await i.unload(s.textureSource._sourceOrigin),s.destroy(!1)}}};Qe.add(E2);const qh=Object.create(null),Hg=Object.create(null);function Zc(s,t){let i=Hg[s];return i===void 0&&(qh[t]===void 0&&(qh[t]=1),Hg[s]=i=qh[t]++),i}let Rs;function S0(){return(!Rs||Rs!=null&&Rs.isContextLost())&&(Rs=di.get().createCanvas().getContext("webgl",{})),Rs}let Ul;function R2(){if(!Ul){Ul="mediump";const s=S0();s&&s.getShaderPrecisionFormat&&(Ul=s.getShaderPrecisionFormat(s.FRAGMENT_SHADER,s.HIGH_FLOAT).precision?"highp":"mediump")}return Ul}function O2(s,t,i){return t?s:i?(s=s.replace("out vec4 finalColor;",""),`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${s}
        `):`
        
        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${s}
        `}function z2(s,t,i){const r=i?t.maxSupportedFragmentPrecision:t.maxSupportedVertexPrecision;if(s.substring(0,9)!=="precision"){let l=i?t.requestedFragmentPrecision:t.requestedVertexPrecision;return l==="highp"&&r!=="highp"&&(l="mediump"),`precision ${l} float;
${s}`}else if(r!=="highp"&&s.substring(0,15)==="precision highp")return s.replace("precision highp","precision mediump");return s}function D2(s,t){return t?`#version 300 es
${s}`:s}const U2={},B2={};function N2(s,{name:t="pixi-program"},i=!0){t=t.replace(/\s+/g,"-"),t+=i?"-fragment":"-vertex";const r=i?U2:B2;return r[t]?(r[t]++,t+=`-${r[t]}`):r[t]=1,s.indexOf("#define SHADER_NAME")!==-1?s:`${`#define SHADER_NAME ${t}`}
${s}`}function H2(s,t){return t?s.replace("#version 300 es",""):s}const Vh={stripVersion:H2,ensurePrecision:z2,addProgramDefines:O2,setProgramName:N2,insertVersion:D2},Ih=Object.create(null),w0=class wc{constructor(t){t={...wc.defaultOptions,...t};const i=t.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:i,ensurePrecision:{requestedFragmentPrecision:t.preferredFragmentPrecision,requestedVertexPrecision:t.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:R2()},setProgramName:{name:t.name},addProgramDefines:i,insertVersion:i};let l=t.fragment,u=t.vertex;Object.keys(Vh).forEach(h=>{const f=r[h];l=Vh[h](l,f,!0),u=Vh[h](u,f,!1)}),this.fragment=l,this.vertex=u,this.transformFeedbackVaryings=t.transformFeedbackVaryings,this._key=Zc(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null}static from(t){const i=`${t.vertex}:${t.fragment}`;return Ih[i]||(Ih[i]=new wc(t)),Ih[i]}};w0.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Pn=w0;const kg={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function k2(s){return kg[s]??kg.float32}const G2={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function P2({source:s,entryPoint:t}){const i={},r=s.indexOf(`fn ${t}`);if(r!==-1){const l=s.indexOf("->",r);if(l!==-1){const u=s.substring(r,l),h=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let f;for(;(f=h.exec(u))!==null;){const p=G2[f[3]]??"float32";i[f[2]]={location:parseInt(f[1],10),format:p,stride:k2(p).stride,offset:0,instance:!1,start:0}}}}return i}function Wh(s){var v,_;const t=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,i=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,l=/var(<[^>]+>)? (\w+)/,u=/:\s*(\w+)/,h=/struct\s+(\w+)\s*{([^}]+)}/g,f=/(\w+)\s*:\s*([\w\<\>]+)/g,p=/struct\s+(\w+)/,m=(v=s.match(t))==null?void 0:v.map(x=>({group:parseInt(x.match(i)[1],10),binding:parseInt(x.match(r)[1],10),name:x.match(l)[2],isUniform:x.match(l)[1]==="<uniform>",type:x.match(u)[1]}));if(!m)return{groups:[],structs:[]};const g=((_=s.match(h))==null?void 0:_.map(x=>{const C=x.match(p)[1],O=x.match(f).reduce((A,M)=>{const[D,B]=M.split(":");return A[D.trim()]=B.trim(),A},{});return O?{name:C,members:O}:null}).filter(({name:x})=>m.some(C=>C.type===x)))??[];return{groups:m,structs:g}}var Ir=(s=>(s[s.VERTEX=1]="VERTEX",s[s.FRAGMENT=2]="FRAGMENT",s[s.COMPUTE=4]="COMPUTE",s))(Ir||{});function L2({groups:s}){const t=[];for(let i=0;i<s.length;i++){const r=s[i];t[r.group]||(t[r.group]=[]),r.isUniform?t[r.group].push({binding:r.binding,visibility:Ir.VERTEX|Ir.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?t[r.group].push({binding:r.binding,visibility:Ir.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&t[r.group].push({binding:r.binding,visibility:Ir.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return t}function Y2({groups:s}){const t=[];for(let i=0;i<s.length;i++){const r=s[i];t[r.group]||(t[r.group]={}),t[r.group][r.name]=r.binding}return t}function X2(s,t){const i=new Set,r=new Set,l=[...s.structs,...t.structs].filter(h=>i.has(h.name)?!1:(i.add(h.name),!0)),u=[...s.groups,...t.groups].filter(h=>{const f=`${h.name}-${h.binding}`;return r.has(f)?!1:(r.add(f),!0)});return{structs:l,groups:u}}const Zh=Object.create(null);class an{constructor(t){var f,p;this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:i,vertex:r,layout:l,gpuLayout:u,name:h}=t;if(this.name=h,this.fragment=i,this.vertex=r,i.source===r.source){const m=Wh(i.source);this.structsAndGroups=m}else{const m=Wh(r.source),g=Wh(i.source);this.structsAndGroups=X2(m,g)}this.layout=l??Y2(this.structsAndGroups),this.gpuLayout=u??L2(this.structsAndGroups),this.autoAssignGlobalUniforms=((f=this.layout[0])==null?void 0:f.globalUniforms)!==void 0,this.autoAssignLocalUniforms=((p=this.layout[1])==null?void 0:p.localUniforms)!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:t,fragment:i}=this,r=t.source+i.source+t.entryPoint+i.entryPoint;this._layoutKey=Zc(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=P2(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null}static from(t){const i=`${t.vertex.source}:${t.fragment.source}:${t.fragment.entryPoint}:${t.vertex.entryPoint}`;return Zh[i]||(Zh[i]=new an(t)),Zh[i]}}const A0=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],j2=A0.reduce((s,t)=>(s[t]=!0,s),{});function F2(s,t){switch(s){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*t);case"vec3<f32>":return new Float32Array(3*t);case"vec4<f32>":return new Float32Array(4*t);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const C0=class T0{constructor(t,i){this._touched=0,this.uid=Jt("uniform"),this._resourceType="uniformGroup",this._resourceId=Jt("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,i={...T0.defaultOptions,...i},this.uniformStructures=t;const r={};for(const l in t){const u=t[l];if(u.name=l,u.size=u.size??1,!j2[u.type])throw new Error(`Uniform type ${u.type} is not supported. Supported uniform types are: ${A0.join(", ")}`);u.value??(u.value=F2(u.type,u.size)),r[l]=u.value}this.uniforms=r,this._dirtyId=1,this.ubo=i.ubo,this.isStatic=i.isStatic,this._signature=Zc(Object.keys(r).map(l=>`${l}-${t[l].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};C0.defaultOptions={ubo:!1,isStatic:!1};let $c=C0;class jl{constructor(t){this.resources=Object.create(null),this._dirty=!0;let i=0;for(const r in t){const l=t[r];this.setResource(l,i++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const t=[];let i=0;for(const r in this.resources)t[i++]=this.resources[r]._resourceId;this._key=t.join("|")}setResource(t,i){var l,u;const r=this.resources[i];t!==r&&(r&&((l=t.off)==null||l.call(t,"change",this.onResourceChange,this)),(u=t.on)==null||u.call(t,"change",this.onResourceChange,this),this.resources[i]=t,this._dirty=!0)}getResource(t){return this.resources[t]}_touch(t){const i=this.resources;for(const r in i)i[r]._touched=t}destroy(){var i;const t=this.resources;for(const r in t){const l=t[r];(i=l.off)==null||i.call(l,"change",this.onResourceChange,this)}this.resources=null}onResourceChange(t){if(this._dirty=!0,t.destroyed){const i=this.resources;for(const r in i)i[r]===t&&(i[r]=null)}else this._updateKey()}}var sa=(s=>(s[s.WEBGL=1]="WEBGL",s[s.WEBGPU=2]="WEBGPU",s[s.BOTH=3]="BOTH",s))(sa||{});class eo extends kn{constructor(t){super(),this.uid=Jt("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:i,glProgram:r,groups:l,resources:u,compatibleRenderers:h,groupMap:f}=t;this.gpuProgram=i,this.glProgram=r,h===void 0&&(h=0,i&&(h|=sa.WEBGPU),r&&(h|=sa.WEBGL)),this.compatibleRenderers=h;const p={};if(!u&&!l&&(u={}),u&&l)throw new Error("[Shader] Cannot have both resources and groups");if(!i&&l&&!f)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!i&&l&&f)for(const m in f)for(const g in f[m]){const v=f[m][g];p[v]={group:m,binding:g,name:v}}else if(i&&l&&!f){const m=i.structsAndGroups.groups;f={},m.forEach(g=>{f[g.group]=f[g.group]||{},f[g.group][g.binding]=g.name,p[g.name]=g})}else if(u){l={},f={},i&&i.structsAndGroups.groups.forEach(v=>{f[v.group]=f[v.group]||{},f[v.group][v.binding]=v.name,p[v.name]=v});let m=0;for(const g in u)p[g]||(l[99]||(l[99]=new jl,this._ownedBindGroups.push(l[99])),p[g]={group:99,binding:m,name:g},f[99]=f[99]||{},f[99][m]=g,m++);for(const g in u){const v=g;let _=u[g];!_.source&&!_._resourceType&&(_=new $c(_));const x=p[v];x&&(l[x.group]||(l[x.group]=new jl,this._ownedBindGroups.push(l[x.group])),l[x.group].setResource(_,x.binding))}}this.groups=l,this._uniformBindMap=f,this.resources=this._buildResourceAccessor(l,p)}addResource(t,i,r){var l,u;(l=this._uniformBindMap)[i]||(l[i]={}),(u=this._uniformBindMap[i])[r]||(u[r]=t),this.groups[i]||(this.groups[i]=new jl,this._ownedBindGroups.push(this.groups[i]))}_buildResourceAccessor(t,i){const r={};for(const l in i){const u=i[l];Object.defineProperty(r,u.name,{get(){return t[u.group].getResource(u.binding)},set(h){t[u.group].setResource(h,u.binding)}})}return r}destroy(t=!1){var i,r;this.emit("destroy",this),t&&((i=this.gpuProgram)==null||i.destroy(),(r=this.glProgram)==null||r.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(l=>{l.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(t){const{gpu:i,gl:r,...l}=t;let u,h;return i&&(u=an.from(i)),r&&(h=Pn.from(r)),new eo({gpuProgram:u,glProgram:h,...l})}}const q2={normal:0,add:1,multiply:2,screen:3,overlay:4,erase:5,"normal-npm":6,"add-npm":7,"screen-npm":8,min:9,max:10},$h=0,Qh=1,Kh=2,Jh=3,tc=4,ec=5,Ac=class M0{constructor(){this.data=0,this.blendMode="normal",this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<$h)}set blend(t){!!(this.data&1<<$h)!==t&&(this.data^=1<<$h)}get offsets(){return!!(this.data&1<<Qh)}set offsets(t){!!(this.data&1<<Qh)!==t&&(this.data^=1<<Qh)}set cullMode(t){if(t==="none"){this.culling=!1;return}this.culling=!0,this.clockwiseFrontFace=t==="front"}get cullMode(){return this.culling?this.clockwiseFrontFace?"front":"back":"none"}get culling(){return!!(this.data&1<<Kh)}set culling(t){!!(this.data&1<<Kh)!==t&&(this.data^=1<<Kh)}get depthTest(){return!!(this.data&1<<Jh)}set depthTest(t){!!(this.data&1<<Jh)!==t&&(this.data^=1<<Jh)}get depthMask(){return!!(this.data&1<<ec)}set depthMask(t){!!(this.data&1<<ec)!==t&&(this.data^=1<<ec)}get clockwiseFrontFace(){return!!(this.data&1<<tc)}set clockwiseFrontFace(t){!!(this.data&1<<tc)!==t&&(this.data^=1<<tc)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!=="none",this._blendMode=t,this._blendModeId=q2[t]||0}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[pixi.js/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new M0;return t.depthTest=!1,t.blend=!0,t}};Ac.default2d=Ac.for2d();let V2=Ac;const E0=class Cc extends eo{constructor(t){t={...Cc.defaultOptions,...t},super(t),this.enabled=!0,this._state=V2.for2d(),this.blendMode=t.blendMode,this.padding=t.padding,typeof t.antialias=="boolean"?this.antialias=t.antialias?"on":"off":this.antialias=t.antialias,this.resolution=t.resolution,this.blendRequired=t.blendRequired,this.clipToViewport=t.clipToViewport,this.addResource("uTexture",0,1)}apply(t,i,r,l){t.applyFilter(this,i,r,l)}get blendMode(){return this._state.blendMode}set blendMode(t){this._state.blendMode=t}static from(t){const{gpu:i,gl:r,...l}=t;let u,h;return i&&(u=an.from(i)),r&&(h=Pn.from(r)),new Cc({gpuProgram:u,glProgram:h,...l})}};E0.defaultOptions={blendMode:"normal",resolution:1,padding:0,antialias:"off",blendRequired:!1,clipToViewport:!0};let ji=E0;const Tc=[];Qe.handleByNamedList(zt.Environment,Tc);async function I2(s){if(!s)for(let t=0;t<Tc.length;t++){const i=Tc[t];if(i.value.test()){await i.value.load();return}}}let Gr;function W2(){if(typeof Gr=="boolean")return Gr;try{Gr=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Gr=!1}return Gr}var Bl={exports:{}},Gg;function Z2(){if(Gg)return Bl.exports;Gg=1,Bl.exports=s,Bl.exports.default=s;function s(b,T,R){R=R||2;var G=T&&T.length,w=G?T[0]*R:b.length,z=t(b,0,w,R,!0),H=[];if(!z||z.next===z.prev)return H;var X,K,J,et,ct,at,Et;if(G&&(z=p(b,T,z,R)),b.length>80*R){X=J=b[0],K=et=b[1];for(var _t=R;_t<w;_t+=R)ct=b[_t],at=b[_t+1],ct<X&&(X=ct),at<K&&(K=at),ct>J&&(J=ct),at>et&&(et=at);Et=Math.max(J-X,et-K),Et=Et!==0?32767/Et:0}return r(z,H,R,X,K,Et,0),H}function t(b,T,R,G,w){var z,H;if(w===Gt(b,T,R,G)>0)for(z=T;z<R;z+=G)H=ft(z,b[z],b[z+1],H);else for(z=R-G;z>=T;z-=G)H=ft(z,b[z],b[z+1],H);return H&&q(H,H.next)&&(bt(H),H=H.next),H}function i(b,T){if(!b)return b;T||(T=b);var R=b,G;do if(G=!1,!R.steiner&&(q(R,R.next)||B(R.prev,R,R.next)===0)){if(bt(R),R=T=R.prev,R===R.next)break;G=!0}else R=R.next;while(G||R!==T);return T}function r(b,T,R,G,w,z,H){if(b){!H&&z&&x(b,G,w,z);for(var X=b,K,J;b.prev!==b.next;){if(K=b.prev,J=b.next,z?u(b,G,w,z):l(b)){T.push(K.i/R|0),T.push(b.i/R|0),T.push(J.i/R|0),bt(b),b=J.next,X=J.next;continue}if(b=J,b===X){H?H===1?(b=h(i(b),T,R),r(b,T,R,G,w,z,2)):H===2&&f(b,T,R,G,w,z):r(i(b),T,R,G,w,z,1);break}}}}function l(b){var T=b.prev,R=b,G=b.next;if(B(T,R,G)>=0)return!1;for(var w=T.x,z=R.x,H=G.x,X=T.y,K=R.y,J=G.y,et=w<z?w<H?w:H:z<H?z:H,ct=X<K?X<J?X:J:K<J?K:J,at=w>z?w>H?w:H:z>H?z:H,Et=X>K?X>J?X:J:K>J?K:J,_t=G.next;_t!==T;){if(_t.x>=et&&_t.x<=at&&_t.y>=ct&&_t.y<=Et&&M(w,X,z,K,H,J,_t.x,_t.y)&&B(_t.prev,_t,_t.next)>=0)return!1;_t=_t.next}return!0}function u(b,T,R,G){var w=b.prev,z=b,H=b.next;if(B(w,z,H)>=0)return!1;for(var X=w.x,K=z.x,J=H.x,et=w.y,ct=z.y,at=H.y,Et=X<K?X<J?X:J:K<J?K:J,_t=et<ct?et<at?et:at:ct<at?ct:at,ve=X>K?X>J?X:J:K>J?K:J,le=et>ct?et>at?et:at:ct>at?ct:at,xe=O(Et,_t,T,R,G),be=O(ve,le,T,R,G),pt=b.prevZ,St=b.nextZ;pt&&pt.z>=xe&&St&&St.z<=be;){if(pt.x>=Et&&pt.x<=ve&&pt.y>=_t&&pt.y<=le&&pt!==w&&pt!==H&&M(X,et,K,ct,J,at,pt.x,pt.y)&&B(pt.prev,pt,pt.next)>=0||(pt=pt.prevZ,St.x>=Et&&St.x<=ve&&St.y>=_t&&St.y<=le&&St!==w&&St!==H&&M(X,et,K,ct,J,at,St.x,St.y)&&B(St.prev,St,St.next)>=0))return!1;St=St.nextZ}for(;pt&&pt.z>=xe;){if(pt.x>=Et&&pt.x<=ve&&pt.y>=_t&&pt.y<=le&&pt!==w&&pt!==H&&M(X,et,K,ct,J,at,pt.x,pt.y)&&B(pt.prev,pt,pt.next)>=0)return!1;pt=pt.prevZ}for(;St&&St.z<=be;){if(St.x>=Et&&St.x<=ve&&St.y>=_t&&St.y<=le&&St!==w&&St!==H&&M(X,et,K,ct,J,at,St.x,St.y)&&B(St.prev,St,St.next)>=0)return!1;St=St.nextZ}return!0}function h(b,T,R){var G=b;do{var w=G.prev,z=G.next.next;!q(w,z)&&I(w,G,G.next,z)&&it(w,z)&&it(z,w)&&(T.push(w.i/R|0),T.push(G.i/R|0),T.push(z.i/R|0),bt(G),bt(G.next),G=b=z),G=G.next}while(G!==b);return i(G)}function f(b,T,R,G,w,z){var H=b;do{for(var X=H.next.next;X!==H.prev;){if(H.i!==X.i&&D(H,X)){var K=nt(H,X);H=i(H,H.next),K=i(K,K.next),r(H,T,R,G,w,z,0),r(K,T,R,G,w,z,0);return}X=X.next}H=H.next}while(H!==b)}function p(b,T,R,G){var w=[],z,H,X,K,J;for(z=0,H=T.length;z<H;z++)X=T[z]*G,K=z<H-1?T[z+1]*G:b.length,J=t(b,X,K,G,!1),J===J.next&&(J.steiner=!0),w.push(A(J));for(w.sort(m),z=0;z<w.length;z++)R=g(w[z],R);return R}function m(b,T){return b.x-T.x}function g(b,T){var R=v(b,T);if(!R)return T;var G=nt(R,b);return i(G,G.next),i(R,R.next)}function v(b,T){var R=T,G=b.x,w=b.y,z=-1/0,H;do{if(w<=R.y&&w>=R.next.y&&R.next.y!==R.y){var X=R.x+(w-R.y)*(R.next.x-R.x)/(R.next.y-R.y);if(X<=G&&X>z&&(z=X,H=R.x<R.next.x?R:R.next,X===G))return H}R=R.next}while(R!==T);if(!H)return null;var K=H,J=H.x,et=H.y,ct=1/0,at;R=H;do G>=R.x&&R.x>=J&&G!==R.x&&M(w<et?G:z,w,J,et,w<et?z:G,w,R.x,R.y)&&(at=Math.abs(w-R.y)/(G-R.x),it(R,b)&&(at<ct||at===ct&&(R.x>H.x||R.x===H.x&&_(H,R)))&&(H=R,ct=at)),R=R.next;while(R!==K);return H}function _(b,T){return B(b.prev,b,T.prev)<0&&B(T.next,b,b.next)<0}function x(b,T,R,G){var w=b;do w.z===0&&(w.z=O(w.x,w.y,T,R,G)),w.prevZ=w.prev,w.nextZ=w.next,w=w.next;while(w!==b);w.prevZ.nextZ=null,w.prevZ=null,C(w)}function C(b){var T,R,G,w,z,H,X,K,J=1;do{for(R=b,b=null,z=null,H=0;R;){for(H++,G=R,X=0,T=0;T<J&&(X++,G=G.nextZ,!!G);T++);for(K=J;X>0||K>0&&G;)X!==0&&(K===0||!G||R.z<=G.z)?(w=R,R=R.nextZ,X--):(w=G,G=G.nextZ,K--),z?z.nextZ=w:b=w,w.prevZ=z,z=w;R=G}z.nextZ=null,J*=2}while(H>1);return b}function O(b,T,R,G,w){return b=(b-R)*w|0,T=(T-G)*w|0,b=(b|b<<8)&16711935,b=(b|b<<4)&252645135,b=(b|b<<2)&858993459,b=(b|b<<1)&1431655765,T=(T|T<<8)&16711935,T=(T|T<<4)&252645135,T=(T|T<<2)&858993459,T=(T|T<<1)&1431655765,b|T<<1}function A(b){var T=b,R=b;do(T.x<R.x||T.x===R.x&&T.y<R.y)&&(R=T),T=T.next;while(T!==b);return R}function M(b,T,R,G,w,z,H,X){return(w-H)*(T-X)>=(b-H)*(z-X)&&(b-H)*(G-X)>=(R-H)*(T-X)&&(R-H)*(z-X)>=(w-H)*(G-X)}function D(b,T){return b.next.i!==T.i&&b.prev.i!==T.i&&!rt(b,T)&&(it(b,T)&&it(T,b)&&tt(b,T)&&(B(b.prev,b,T.prev)||B(b,T.prev,T))||q(b,T)&&B(b.prev,b,b.next)>0&&B(T.prev,T,T.next)>0)}function B(b,T,R){return(T.y-b.y)*(R.x-T.x)-(T.x-b.x)*(R.y-T.y)}function q(b,T){return b.x===T.x&&b.y===T.y}function I(b,T,R,G){var w=$(B(b,T,R)),z=$(B(b,T,G)),H=$(B(R,G,b)),X=$(B(R,G,T));return!!(w!==z&&H!==X||w===0&&Z(b,R,T)||z===0&&Z(b,G,T)||H===0&&Z(R,b,G)||X===0&&Z(R,T,G))}function Z(b,T,R){return T.x<=Math.max(b.x,R.x)&&T.x>=Math.min(b.x,R.x)&&T.y<=Math.max(b.y,R.y)&&T.y>=Math.min(b.y,R.y)}function $(b){return b>0?1:b<0?-1:0}function rt(b,T){var R=b;do{if(R.i!==b.i&&R.next.i!==b.i&&R.i!==T.i&&R.next.i!==T.i&&I(R,R.next,b,T))return!0;R=R.next}while(R!==b);return!1}function it(b,T){return B(b.prev,b,b.next)<0?B(b,T,b.next)>=0&&B(b,b.prev,T)>=0:B(b,T,b.prev)<0||B(b,b.next,T)<0}function tt(b,T){var R=b,G=!1,w=(b.x+T.x)/2,z=(b.y+T.y)/2;do R.y>z!=R.next.y>z&&R.next.y!==R.y&&w<(R.next.x-R.x)*(z-R.y)/(R.next.y-R.y)+R.x&&(G=!G),R=R.next;while(R!==b);return G}function nt(b,T){var R=new kt(b.i,b.x,b.y),G=new kt(T.i,T.x,T.y),w=b.next,z=T.prev;return b.next=T,T.prev=b,R.next=w,w.prev=R,G.next=R,R.prev=G,z.next=G,G.prev=z,G}function ft(b,T,R,G){var w=new kt(b,T,R);return G?(w.next=G.next,w.prev=G,G.next.prev=w,G.next=w):(w.prev=w,w.next=w),w}function bt(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function kt(b,T,R){this.i=b,this.x=T,this.y=R,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}s.deviation=function(b,T,R,G){var w=T&&T.length,z=w?T[0]*R:b.length,H=Math.abs(Gt(b,0,z,R));if(w)for(var X=0,K=T.length;X<K;X++){var J=T[X]*R,et=X<K-1?T[X+1]*R:b.length;H-=Math.abs(Gt(b,J,et,R))}var ct=0;for(X=0;X<G.length;X+=3){var at=G[X]*R,Et=G[X+1]*R,_t=G[X+2]*R;ct+=Math.abs((b[at]-b[_t])*(b[Et+1]-b[at+1])-(b[at]-b[Et])*(b[_t+1]-b[at+1]))}return H===0&&ct===0?0:Math.abs((ct-H)/H)};function Gt(b,T,R,G){for(var w=0,z=T,H=R-G;z<R;z+=G)w+=(b[H]-b[z])*(b[z+1]+b[H+1]),H=z;return w}return s.flatten=function(b){for(var T=b[0][0].length,R={vertices:[],holes:[],dimensions:T},G=0,w=0;w<b.length;w++){for(var z=0;z<b[w].length;z++)for(var H=0;H<T;H++)R.vertices.push(b[w][z][H]);w>0&&(G+=b[w-1].length,R.holes.push(G))}return R},Bl.exports}var $2=Z2();const Q2=ha($2);var R0=(s=>(s[s.NONE=0]="NONE",s[s.COLOR=16384]="COLOR",s[s.STENCIL=1024]="STENCIL",s[s.DEPTH=256]="DEPTH",s[s.COLOR_DEPTH=16640]="COLOR_DEPTH",s[s.COLOR_STENCIL=17408]="COLOR_STENCIL",s[s.DEPTH_STENCIL=1280]="DEPTH_STENCIL",s[s.ALL=17664]="ALL",s))(R0||{});class K2{constructor(t){this.items=[],this._name=t}emit(t,i,r,l,u,h,f,p){const{name:m,items:g}=this;for(let v=0,_=g.length;v<_;v++)g[v][m](t,i,r,l,u,h,f,p);return this}add(t){return t[this._name]&&(this.remove(t),this.items.push(t)),this}remove(t){const i=this.items.indexOf(t);return i!==-1&&this.items.splice(i,1),this}contains(t){return this.items.indexOf(t)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const J2=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],O0=class z0 extends kn{constructor(t){super(),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=t.type,this.name=t.name,this.config=t;const i=[...J2,...this.config.runners??[]];this._addRunners(...i),this._unsafeEvalCheck()}async init(t={}){const i=t.skipExtensionImports===!0?!0:t.manageImports===!1;await I2(i),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)t={...this._systemsHash[r].constructor.defaultOptions,...t};t={...z0.defaultOptions,...t},this._roundPixels=t.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(t);this._initOptions=t}render(t,i){let r=t;if(r instanceof Gn&&(r={container:r},i&&(mt(Kt,"passing a second argument is deprecated, please use render options instead"),r.target=i.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const l=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=l?r.clearColor:Me.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r)}resize(t,i,r){const l=this.view.resolution;this.view.resize(t,i,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==l&&this.runners.resolutionChange.emit(r)}clear(t={}){const i=this;t.target||(t.target=i.renderTarget.renderTarget),t.clearColor||(t.clearColor=this.background.colorRgba),t.clear??(t.clear=R0.ALL);const{clear:r,clearColor:l,target:u}=t;Me.shared.setValue(l??this.background.colorRgba),i.renderTarget.clear(u,r,Me.shared.toArray())}get resolution(){return this.view.resolution}set resolution(t){this.view.resolution=t,this.runners.resolutionChange.emit(t)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...t){t.forEach(i=>{this.runners[i]=new K2(i)})}_addSystems(t){let i;for(i in t){const r=t[i];this._addSystem(r.value,r.name)}}_addSystem(t,i){const r=new t(this);if(this[i])throw new Error(`Whoops! The name "${i}" is already in use`);this[i]=r,this._systemsHash[i]=r;for(const l in this.runners)this.runners[l].add(r);return this}_addPipes(t,i){const r=i.reduce((l,u)=>(l[u.name]=u.value,l),{});t.forEach(l=>{const u=l.value,h=l.name,f=r[h];this.renderPipes[h]=new u(this,f?new f:null)})}destroy(t=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(t),Object.values(this.runners).forEach(i=>{i.destroy()}),this._systemsHash=null,this.renderPipes=null}generateTexture(t){return this.textureGenerator.generateTexture(t)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!W2())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};O0.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let D0=O0,Nl;function tS(s){return Nl!==void 0||(Nl=(()=>{var i;const t={stencil:!0,failIfMajorPerformanceCaveat:s??D0.defaultOptions.failIfMajorPerformanceCaveat};try{if(!di.get().getWebGLRenderingContext())return!1;let l=di.get().createCanvas().getContext("webgl",t);const u=!!((i=l==null?void 0:l.getContextAttributes())!=null&&i.stencil);if(l){const h=l.getExtension("WEBGL_lose_context");h&&h.loseContext()}return l=null,u}catch{return!1}})()),Nl}let Hl;async function eS(s={}){return Hl!==void 0||(Hl=await(async()=>{const t=di.get().getNavigator().gpu;if(!t)return!1;try{return await(await t.requestAdapter(s)).requestDevice(),!0}catch{return!1}})()),Hl}const Pg=["webgl","webgpu","canvas"];async function nS(s){let t=[];s.preference?(t.push(s.preference),Pg.forEach(u=>{u!==s.preference&&t.push(u)})):t=Pg.slice();let i,r={};for(let u=0;u<t.length;u++){const h=t[u];if(h==="webgpu"&&await eS()){const{WebGPURenderer:f}=await Wl(async()=>{const{WebGPURenderer:p}=await import("./WebGPURenderer-Cr3d56br.js");return{WebGPURenderer:p}},__vite__mapDeps([4,2,5,3]));i=f,r={...s,...s.webgpu};break}else if(h==="webgl"&&tS(s.failIfMajorPerformanceCaveat??D0.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:f}=await Wl(async()=>{const{WebGLRenderer:p}=await import("./WebGLRenderer-dxruHztE.js");return{WebGLRenderer:p}},__vite__mapDeps([6,2,5]));i=f,r={...s,...s.webgl};break}else if(h==="canvas")throw r={...s},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!i)throw new Error("No available renderer for the current environment");const l=new i;return await l.init(r),l}const U0="8.9.1";class B0{static init(){var t;(t=globalThis.__PIXI_APP_INIT__)==null||t.call(globalThis,this,U0)}static destroy(){}}B0.extension=zt.Application;class iS{constructor(t){this._renderer=t}init(){var t;(t=globalThis.__PIXI_RENDERER_INIT__)==null||t.call(globalThis,this._renderer,U0)}destroy(){this._renderer=null}}iS.extension={type:[zt.WebGLSystem,zt.WebGPUSystem],name:"initHook",priority:-10};const N0=class Mc{constructor(...t){this.stage=new Gn,t[0]!==void 0&&mt(Kt,"Application constructor options are deprecated, please use Application.init() instead.")}async init(t){t={...t},this.renderer=await nS(t),Mc._plugins.forEach(i=>{i.init.call(this,t)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return mt(Kt,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,i=!1){const r=Mc._plugins.slice(0);r.reverse(),r.forEach(l=>{l.destroy.call(this)}),this.stage.destroy(i),this.stage=null,this.renderer.destroy(t),this.renderer=null}};N0._plugins=[];let $l=N0;Qe.handleByList(zt.Application,$l._plugins);Qe.add(B0);const Lg=[{offset:0,color:"white"},{offset:1,color:"black"}],Qc=class Ec{constructor(...t){this.uid=Jt("fillGradient"),this.type="linear",this.colorStops=[];let i=sS(t);i={...i.type==="radial"?Ec.defaultRadialOptions:Ec.defaultLinearOptions,...qy(i)},this._textureSize=i.textureSize,i.type==="radial"?(this.center=i.center,this.outerCenter=i.outerCenter??this.center,this.innerRadius=i.innerRadius,this.outerRadius=i.outerRadius,this.scale=i.scale,this.rotation=i.rotation):(this.start=i.start,this.end=i.end),this.textureSpace=i.textureSpace,this.type=i.type,i.colorStops.forEach(l=>{this.addColorStop(l.offset,l.color)})}addColorStop(t,i){return this.colorStops.push({offset:t,color:Me.shared.setValue(i).toHexa()}),this}buildLinearGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Lg,i=this._textureSize,{canvas:r,context:l}=Xg(i,1),u=l.createLinearGradient(0,0,this._textureSize,0);Yg(u,t),l.fillStyle=u,l.fillRect(0,0,i,1),this.texture=new Ht({source:new Zl({resource:r})});const{x:h,y:f}=this.start,{x:p,y:m}=this.end,g=new Ct,v=p-h,_=m-f,x=Math.sqrt(v*v+_*_),C=Math.atan2(_,v);g.scale(x/i,1),g.rotate(C),g.translate(h,f),this.textureSpace==="local"&&g.scale(i,i),this.transform=g}buildGradient(){this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const t=this.colorStops.length?this.colorStops:Lg,i=this._textureSize,{canvas:r,context:l}=Xg(i,i),{x:u,y:h}=this.center,{x:f,y:p}=this.outerCenter,m=this.innerRadius,g=this.outerRadius,v=f-g,_=p-g,x=i/(g*2),C=(u-v)*x,O=(h-_)*x,A=l.createRadialGradient(C,O,m*x,(f-v)*x,(p-_)*x,g*x);Yg(A,t),l.fillStyle=t[t.length-1].color,l.fillRect(0,0,i,i),l.fillStyle=A,l.translate(C,O),l.rotate(this.rotation),l.scale(1,this.scale),l.translate(-C,-O),l.fillRect(0,0,i,i),this.texture=new Ht({source:new Zl({resource:r,addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"})});const M=new Ct;M.scale(1/x,1/x),M.translate(v,_),this.textureSpace==="local"&&M.scale(i,i),this.transform=M}get styleKey(){return this.uid}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=null}};Qc.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256};Qc.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256};let no=Qc;function Yg(s,t){for(let i=0;i<t.length;i++){const r=t[i];s.addColorStop(r.offset,r.color)}}function Xg(s,t){const i=di.get().createCanvas(s,t),r=i.getContext("2d");return{canvas:i,context:r}}function sS(s){let t=s[0]??{};return(typeof t=="number"||s[1])&&(mt("8.5.2","use options object instead"),t={type:"linear",start:{x:s[0],y:s[1]},end:{x:s[2],y:s[3]},textureSpace:s[4],textureSize:s[5]??no.defaultLinearOptions.textureSize}),t}const jg={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class rS{constructor(t,i){this.uid=Jt("fillPattern"),this.transform=new Ct,this._styleKey=null,this.texture=t,this.transform.scale(1/t.frame.width,1/t.frame.height),i&&(t.source.style.addressModeU=jg[i].addressModeU,t.source.style.addressModeV=jg[i].addressModeV)}setTransform(t){const i=this.texture;this.transform.copyFrom(t),this.transform.invert(),this.transform.scale(1/i.frame.width,1/i.frame.height),this._styleKey=null}get styleKey(){return this._styleKey?this._styleKey:(this._styleKey=`fill-pattern-${this.uid}-${this.texture.uid}-${this.transform.toArray().join("-")}`,this._styleKey)}}var nc,Fg;function aS(){if(Fg)return nc;Fg=1,nc=i;var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function i(u){var h=[];return u.replace(t,function(f,p,m){var g=p.toLowerCase();for(m=l(m),g=="m"&&m.length>2&&(h.push([p].concat(m.splice(0,2))),g="l",p=p=="m"?"l":"L");;){if(m.length==s[g])return m.unshift(p),h.push(m);if(m.length<s[g])throw new Error("malformed path data");h.push([p].concat(m.splice(0,s[g])))}}),h}var r=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function l(u){var h=u.match(r);return h?h.map(Number):[]}return nc}var lS=aS();const oS=ha(lS);function uS(s,t){const i=oS(s),r=[];let l=null,u=0,h=0;for(let f=0;f<i.length;f++){const p=i[f],m=p[0],g=p;switch(m){case"M":u=g[1],h=g[2],t.moveTo(u,h);break;case"m":u+=g[1],h+=g[2],t.moveTo(u,h);break;case"H":u=g[1],t.lineTo(u,h);break;case"h":u+=g[1],t.lineTo(u,h);break;case"V":h=g[1],t.lineTo(u,h);break;case"v":h+=g[1],t.lineTo(u,h);break;case"L":u=g[1],h=g[2],t.lineTo(u,h);break;case"l":u+=g[1],h+=g[2],t.lineTo(u,h);break;case"C":u=g[5],h=g[6],t.bezierCurveTo(g[1],g[2],g[3],g[4],u,h);break;case"c":t.bezierCurveTo(u+g[1],h+g[2],u+g[3],h+g[4],u+g[5],h+g[6]),u+=g[5],h+=g[6];break;case"S":u=g[3],h=g[4],t.bezierCurveToShort(g[1],g[2],u,h);break;case"s":t.bezierCurveToShort(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"Q":u=g[3],h=g[4],t.quadraticCurveTo(g[1],g[2],u,h);break;case"q":t.quadraticCurveTo(u+g[1],h+g[2],u+g[3],h+g[4]),u+=g[3],h+=g[4];break;case"T":u=g[1],h=g[2],t.quadraticCurveToShort(u,h);break;case"t":u+=g[1],h+=g[2],t.quadraticCurveToShort(u,h);break;case"A":u=g[6],h=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"a":u+=g[6],h+=g[7],t.arcToSvg(g[1],g[2],g[3],g[4],g[5],u,h);break;case"Z":case"z":t.closePath(),r.length>0&&(l=r.pop(),l?(u=l.startX,h=l.startY):(u=0,h=0)),l=null;break;default:Le(`Unknown SVG path command: ${m}`)}m!=="Z"&&m!=="z"&&l===null&&(l={startX:u,startY:h},r.push(l))}return t}class Kc{constructor(t=0,i=0,r=0){this.type="circle",this.x=t,this.y=i,this.radius=r}clone(){return new Kc(this.x,this.y,this.radius)}contains(t,i){if(this.radius<=0)return!1;const r=this.radius*this.radius;let l=this.x-t,u=this.y-i;return l*=l,u*=u,l+u<=r}strokeContains(t,i,r,l=.5){if(this.radius===0)return!1;const u=this.x-t,h=this.y-i,f=this.radius,p=(1-l)*r,m=Math.sqrt(u*u+h*h);return m<=f+p&&m>f-(r-p)}getBounds(t){return t||(t=new It),t.x=this.x-this.radius,t.y=this.y-this.radius,t.width=this.radius*2,t.height=this.radius*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.radius=t.radius,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Jc{constructor(t=0,i=0,r=0,l=0){this.type="ellipse",this.x=t,this.y=i,this.halfWidth=r,this.halfHeight=l}clone(){return new Jc(this.x,this.y,this.halfWidth,this.halfHeight)}contains(t,i){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(t-this.x)/this.halfWidth,l=(i-this.y)/this.halfHeight;return r*=r,l*=l,r+l<=1}strokeContains(t,i,r,l=.5){const{halfWidth:u,halfHeight:h}=this;if(u<=0||h<=0)return!1;const f=r*(1-l),p=r-f,m=u-p,g=h-p,v=u+f,_=h+f,x=t-this.x,C=i-this.y,O=x*x/(m*m)+C*C/(g*g),A=x*x/(v*v)+C*C/(_*_);return O>1&&A<=1}getBounds(t){return t||(t=new It),t.x=this.x-this.halfWidth,t.y=this.y-this.halfHeight,t.width=this.halfWidth*2,t.height=this.halfHeight*2,t}copyFrom(t){return this.x=t.x,this.y=t.y,this.halfWidth=t.halfWidth,this.halfHeight=t.halfHeight,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function hS(s,t,i,r,l,u){const h=s-i,f=t-r,p=l-i,m=u-r,g=h*p+f*m,v=p*p+m*m;let _=-1;v!==0&&(_=g/v);let x,C;_<0?(x=i,C=r):_>1?(x=l,C=u):(x=i+_*p,C=r+_*m);const O=s-x,A=t-C;return O*O+A*A}let cS,fS;class $r{constructor(...t){this.type="polygon";let i=Array.isArray(t[0])?t[0]:t;if(typeof i[0]!="number"){const r=[];for(let l=0,u=i.length;l<u;l++)r.push(i[l].x,i[l].y);i=r}this.points=i,this.closePath=!0}isClockwise(){let t=0;const i=this.points,r=i.length;for(let l=0;l<r;l+=2){const u=i[l],h=i[l+1],f=i[(l+2)%r],p=i[(l+3)%r];t+=(f-u)*(p+h)}return t<0}containsPolygon(t){const i=this.getBounds(cS),r=t.getBounds(fS);if(!i.containsRect(r))return!1;const l=t.points;for(let u=0;u<l.length;u+=2){const h=l[u],f=l[u+1];if(!this.contains(h,f))return!1}return!0}clone(){const t=this.points.slice(),i=new $r(t);return i.closePath=this.closePath,i}contains(t,i){let r=!1;const l=this.points.length/2;for(let u=0,h=l-1;u<l;h=u++){const f=this.points[u*2],p=this.points[u*2+1],m=this.points[h*2],g=this.points[h*2+1];p>i!=g>i&&t<(m-f)*((i-p)/(g-p))+f&&(r=!r)}return r}strokeContains(t,i,r,l=.5){const u=r*r,h=u*(1-l),f=u-h,{points:p}=this,m=p.length-(this.closePath?0:2);for(let g=0;g<m;g+=2){const v=p[g],_=p[g+1],x=p[(g+2)%p.length],C=p[(g+3)%p.length],O=hS(t,i,v,_,x,C),A=Math.sign((x-v)*(i-_)-(C-_)*(t-v));if(O<=(A<0?f:h))return!0}return!1}getBounds(t){t||(t=new It);const i=this.points;let r=1/0,l=-1/0,u=1/0,h=-1/0;for(let f=0,p=i.length;f<p;f+=2){const m=i[f],g=i[f+1];r=m<r?m:r,l=m>l?m:l,u=g<u?g:u,h=g>h?g:h}return t.x=r,t.width=l-r,t.y=u,t.height=h-u,t}copyFrom(t){return this.points=t.points.slice(),this.closePath=t.closePath,this}copyTo(t){return t.copyFrom(this),t}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((t,i)=>`${t}, ${i}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return this.points[this.points.length-2]}get y(){return this.points[this.points.length-1]}}const kl=(s,t,i,r,l,u,h)=>{const f=s-i,p=t-r,m=Math.sqrt(f*f+p*p);return m>=l-u&&m<=l+h};class tf{constructor(t=0,i=0,r=0,l=0,u=20){this.type="roundedRectangle",this.x=t,this.y=i,this.width=r,this.height=l,this.radius=u}getBounds(t){return t||(t=new It),t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}clone(){return new tf(this.x,this.y,this.width,this.height,this.radius)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.copyFrom(this),t}contains(t,i){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&i>=this.y&&i<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(i>=this.y+r&&i<=this.y+this.height-r||t>=this.x+r&&t<=this.x+this.width-r)return!0;let l=t-(this.x+r),u=i-(this.y+r);const h=r*r;if(l*l+u*u<=h||(l=t-(this.x+this.width-r),l*l+u*u<=h)||(u=i-(this.y+this.height-r),l*l+u*u<=h)||(l=t-(this.x+r),l*l+u*u<=h))return!0}return!1}strokeContains(t,i,r,l=.5){const{x:u,y:h,width:f,height:p,radius:m}=this,g=r*(1-l),v=r-g,_=u+m,x=h+m,C=f-m*2,O=p-m*2,A=u+f,M=h+p;return(t>=u-g&&t<=u+v||t>=A-v&&t<=A+g)&&i>=x&&i<=x+O||(i>=h-g&&i<=h+v||i>=M-v&&i<=M+g)&&t>=_&&t<=_+C?!0:t<_&&i<x&&kl(t,i,_,x,m,v,g)||t>A-m&&i<x&&kl(t,i,A-m,x,m,v,g)||t>A-m&&i>M-m&&kl(t,i,A-m,M-m,m,v,g)||t<_&&i>M-m&&kl(t,i,_,M-m,m,v,g)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const dS=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function pS(s){let t="";for(let i=0;i<s;++i)i>0&&(t+=`
else `),i<s-1&&(t+=`if(test == ${i}.0){}`);return t}function mS(s,t){if(s===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const i=t.createShader(t.FRAGMENT_SHADER);try{for(;;){const r=dS.replace(/%forloop%/gi,pS(s));if(t.shaderSource(i,r),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))s=s/2|0;else break}}finally{t.deleteShader(i)}return s}let Os=null;function H0(){var t;if(Os)return Os;const s=S0();return Os=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),Os=mS(Os,s),(t=s.getExtension("WEBGL_lose_context"))==null||t.loseContext(),Os}const k0={};function gS(s,t){let i=2166136261;for(let r=0;r<t;r++)i^=s[r].uid,i=Math.imul(i,16777619),i>>>=0;return k0[i]||yS(s,t,i)}let ic=0;function yS(s,t,i){const r={};let l=0;ic||(ic=H0());for(let h=0;h<ic;h++){const f=h<t?s[h]:Ht.EMPTY.source;r[l++]=f.source,r[l++]=f.style}const u=new jl(r);return k0[i]=u,u}class qg{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}function Vg(s,t){const i=s.byteLength/8|0,r=new Float64Array(s,0,i);new Float64Array(t,0,i).set(r);const u=s.byteLength-i*8;if(u>0){const h=new Uint8Array(s,i*8,u);new Uint8Array(t,i*8,u).set(h)}}const vS={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var xS=(s=>(s[s.DISABLED=0]="DISABLED",s[s.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",s[s.MASK_ACTIVE=2]="MASK_ACTIVE",s[s.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",s[s.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",s[s.NONE=5]="NONE",s))(xS||{});function Ig(s,t){return t.alphaMode==="no-premultiply-alpha"&&vS[s]||s}class bS{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let t=0;t<this.count;t++){const i=this.textures[t];this.textures[t]=null,this.ids[i.uid]=null}this.count=0}}class _S{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new bS,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const G0=[];let Rc=0;function Wg(){return Rc>0?G0[--Rc]:new _S}function Zg(s){G0[Rc++]=s}let Pr=0;const P0=class Fl{constructor(t={}){this.uid=Jt("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],Fl.defaultOptions.maxTextures=Fl.defaultOptions.maxTextures??H0(),t={...Fl.defaultOptions,...t};const{maxTextures:i,attributesInitialSize:r,indicesInitialSize:l}=t;this.attributeBuffer=new qg(r*4),this.indexBuffer=new Uint16Array(l),this.maxTextures=i}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let t=0;t<this.batchIndex;t++)Zg(this.batches[t]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(t){this._elements[this.elementSize++]=t,t._indexStart=this.indexSize,t._attributeStart=this.attributeSize,t._batcher=this,this.indexSize+=t.indexSize,this.attributeSize+=t.attributeSize*this.vertexSize}checkAndUpdateTexture(t,i){const r=t._batch.textures.ids[i._source.uid];return!r&&r!==0?!1:(t._textureId=r,t.texture=i,!0)}updateElement(t){this.dirty=!0;const i=this.attributeBuffer;t.packAsQuad?this.packQuadAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId):this.packAttributes(t,i.float32View,i.uint32View,t._attributeStart,t._textureId)}break(t){const i=this._elements;if(!i[this.elementStart])return;let r=Wg(),l=r.textures;l.clear();const u=i[this.elementStart];let h=Ig(u.blendMode,u.texture._source),f=u.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const p=this.attributeBuffer.float32View,m=this.attributeBuffer.uint32View,g=this.indexBuffer;let v=this._batchIndexSize,_=this._batchIndexStart,x="startBatch";const C=this.maxTextures;for(let O=this.elementStart;O<this.elementSize;++O){const A=i[O];i[O]=null;const D=A.texture._source,B=Ig(A.blendMode,D),q=h!==B||f!==A.topology;if(D._batchTick===Pr&&!q){A._textureId=D._textureBindLocation,v+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize)),A._batch=r;continue}D._batchTick=Pr,(l.count>=C||q)&&(this._finishBatch(r,_,v-_,l,h,f,t,x),x="renderBatch",_=v,h=B,f=A.topology,r=Wg(),l=r.textures,l.clear(),++Pr),A._textureId=D._textureBindLocation=l.count,l.ids[D.uid]=l.count,l.textures[l.count++]=D,A._batch=r,v+=A.indexSize,A.packAsQuad?(this.packQuadAttributes(A,p,m,A._attributeStart,A._textureId),this.packQuadIndex(g,A._indexStart,A._attributeStart/this.vertexSize)):(this.packAttributes(A,p,m,A._attributeStart,A._textureId),this.packIndex(A,g,A._indexStart,A._attributeStart/this.vertexSize))}l.count>0&&(this._finishBatch(r,_,v-_,l,h,f,t,x),_=v,++Pr),this.elementStart=this.elementSize,this._batchIndexStart=_,this._batchIndexSize=v}_finishBatch(t,i,r,l,u,h,f,p){t.gpuBindGroup=null,t.bindGroup=null,t.action=p,t.batcher=this,t.textures=l,t.blendMode=u,t.topology=h,t.start=i,t.size=r,++Pr,this.batches[this.batchIndex++]=t,f.add(t)}finish(t){this.break(t)}ensureAttributeBuffer(t){t*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(t*4)}ensureIndexBuffer(t){t<=this.indexBuffer.length||this._resizeIndexBuffer(t)}_resizeAttributeBuffer(t){const i=Math.max(t,this.attributeBuffer.size*2),r=new qg(i);Vg(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(t){const i=this.indexBuffer;let r=Math.max(t,i.length*1.5);r+=r%2;const l=r>65535?new Uint32Array(r):new Uint16Array(r);if(l.BYTES_PER_ELEMENT!==i.BYTES_PER_ELEMENT)for(let u=0;u<i.length;u++)l[u]=i[u];else Vg(i.buffer,l.buffer);this.indexBuffer=l}packQuadIndex(t,i,r){t[i]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3}packIndex(t,i,r,l){const u=t.indices,h=t.indexSize,f=t.indexOffset,p=t.attributeOffset;for(let m=0;m<h;m++)i[r++]=l+u[m+f]-p}destroy(){for(let t=0;t<this.batches.length;t++)Zg(this.batches[t]);this.batches=null;for(let t=0;t<this._elements.length;t++)this._elements[t]._batch=null;this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}};P0.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let SS=P0;var Te=(s=>(s[s.MAP_READ=1]="MAP_READ",s[s.MAP_WRITE=2]="MAP_WRITE",s[s.COPY_SRC=4]="COPY_SRC",s[s.COPY_DST=8]="COPY_DST",s[s.INDEX=16]="INDEX",s[s.VERTEX=32]="VERTEX",s[s.UNIFORM=64]="UNIFORM",s[s.STORAGE=128]="STORAGE",s[s.INDIRECT=256]="INDIRECT",s[s.QUERY_RESOLVE=512]="QUERY_RESOLVE",s[s.STATIC=1024]="STATIC",s))(Te||{});class ra extends kn{constructor(t){let{data:i,size:r}=t;const{usage:l,label:u,shrinkToFit:h}=t;super(),this.uid=Jt("buffer"),this._resourceType="buffer",this._resourceId=Jt("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,i instanceof Array&&(i=new Float32Array(i)),this._data=i,r??(r=i==null?void 0:i.byteLength);const f=!!i;this.descriptor={size:r,usage:l,mappedAtCreation:f,label:u},this.shrinkToFit=h??!0}get data(){return this._data}set data(t){this.setDataWithSize(t,t.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Te.STATIC)}set static(t){t?this.descriptor.usage|=Te.STATIC:this.descriptor.usage&=~Te.STATIC}setDataWithSize(t,i,r){if(this._updateID++,this._updateSize=i*t.BYTES_PER_ELEMENT,this._data===t){r&&this.emit("update",this);return}const l=this._data;if(this._data=t,this._dataInt32=null,!l||l.length!==t.length){!this.shrinkToFit&&l&&t.byteLength<l.byteLength?r&&this.emit("update",this):(this.descriptor.size=t.byteLength,this._resourceId=Jt("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(t){this._updateSize=t??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function L0(s,t){if(!(s instanceof ra)){let i=t?Te.INDEX:Te.VERTEX;s instanceof Array&&(t?(s=new Uint32Array(s),i=Te.INDEX|Te.COPY_DST):(s=new Float32Array(s),i=Te.VERTEX|Te.COPY_DST)),s=new ra({data:s,label:t?"index-mesh-buffer":"vertex-mesh-buffer",usage:i})}return s}function wS(s,t,i){const r=s.getAttribute(t);if(!r)return i.minX=0,i.minY=0,i.maxX=0,i.maxY=0,i;const l=r.buffer.data;let u=1/0,h=1/0,f=-1/0,p=-1/0;const m=l.BYTES_PER_ELEMENT,g=(r.offset||0)/m,v=(r.stride||2*4)/m;for(let _=g;_<l.length;_+=v){const x=l[_],C=l[_+1];x>f&&(f=x),C>p&&(p=C),x<u&&(u=x),C<h&&(h=C)}return i.minX=u,i.minY=h,i.maxX=f,i.maxY=p,i}function AS(s){return(s instanceof ra||Array.isArray(s)||s.BYTES_PER_ELEMENT)&&(s={buffer:s}),s.buffer=L0(s.buffer,!1),s}class CS extends kn{constructor(t={}){super(),this.uid=Jt("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new rn,this._boundsDirty=!0;const{attributes:i,indexBuffer:r,topology:l}=t;if(this.buffers=[],this.attributes={},i)for(const u in i)this.addAttribute(u,i[u]);this.instanceCount=t.instanceCount??1,r&&this.addIndex(r),this.topology=l||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(t){return this.attributes[t]}getIndex(){return this.indexBuffer}getBuffer(t){return this.getAttribute(t).buffer}getSize(){for(const t in this.attributes){const i=this.attributes[t];return i.buffer.data.length/(i.stride/4||i.size)}return 0}addAttribute(t,i){const r=AS(i);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[t]=r}addIndex(t){this.indexBuffer=L0(t,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,wS(this,"aPosition",this._bounds)):this._bounds}destroy(t=!1){this.emit("destroy",this),this.removeAllListeners(),t&&this.buffers.forEach(i=>i.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const TS=new Float32Array(1),MS=new Uint32Array(1);class ES extends CS{constructor(){const i=new ra({data:TS,label:"attribute-batch-buffer",usage:Te.VERTEX|Te.COPY_DST,shrinkToFit:!1}),r=new ra({data:MS,label:"index-batch-buffer",usage:Te.INDEX|Te.COPY_DST,shrinkToFit:!1}),l=6*4;super({attributes:{aPosition:{buffer:i,format:"float32x2",stride:l,offset:0},aUV:{buffer:i,format:"float32x2",stride:l,offset:2*4},aColor:{buffer:i,format:"unorm8x4",stride:l,offset:4*4},aTextureIdAndRound:{buffer:i,format:"uint16x2",stride:l,offset:5*4}},indexBuffer:r})}}function $g(s,t,i){if(s)for(const r in s){const l=r.toLocaleLowerCase(),u=t[l];if(u){let h=s[r];r==="header"&&(h=h.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),i&&u.push(`//----${i}----//`),u.push(h)}else Le(`${r} placement hook does not exist in shader`)}}const RS=/\{\{(.*?)\}\}/g;function Qg(s){var r;const t={};return(((r=s.match(RS))==null?void 0:r.map(l=>l.replace(/[{()}]/g,"")))??[]).forEach(l=>{t[l]=[]}),t}function Kg(s,t){let i;const r=/@in\s+([^;]+);/g;for(;(i=r.exec(s))!==null;)t.push(i[1])}function Jg(s,t,i=!1){const r=[];Kg(t,r),s.forEach(f=>{f.header&&Kg(f.header,r)});const l=r;i&&l.sort();const u=l.map((f,p)=>`       @location(${p}) ${f},`).join(`
`);let h=t.replace(/@in\s+[^;]+;\s*/g,"");return h=h.replace("{{in}}",`
${u}
`),h}function ty(s,t){let i;const r=/@out\s+([^;]+);/g;for(;(i=r.exec(s))!==null;)t.push(i[1])}function OS(s){const i=/\b(\w+)\s*:/g.exec(s);return i?i[1]:""}function zS(s){const t=/@.*?\s+/g;return s.replace(t,"")}function DS(s,t){const i=[];ty(t,i),s.forEach(p=>{p.header&&ty(p.header,i)});let r=0;const l=i.sort().map(p=>p.indexOf("builtin")>-1?p:`@location(${r++}) ${p}`).join(`,
`),u=i.sort().map(p=>`       var ${zS(p)};`).join(`
`),h=`return VSOutput(
            ${i.sort().map(p=>` ${OS(p)}`).join(`,
`)});`;let f=t.replace(/@out\s+[^;]+;\s*/g,"");return f=f.replace("{{struct}}",`
${l}
`),f=f.replace("{{start}}",`
${u}
`),f=f.replace("{{return}}",`
${h}
`),f}function ey(s,t){let i=s;for(const r in t){const l=t[r];l.join(`
`).length?i=i.replace(`{{${r}}}`,`//-----${r} START-----//
${l.join(`
`)}
//----${r} FINISH----//`):i=i.replace(`{{${r}}}`,"")}return i}const fi=Object.create(null),sc=new Map;let US=0;function BS({template:s,bits:t}){const i=Y0(s,t);if(fi[i])return fi[i];const{vertex:r,fragment:l}=HS(s,t);return fi[i]=X0(r,l,t),fi[i]}function NS({template:s,bits:t}){const i=Y0(s,t);return fi[i]||(fi[i]=X0(s.vertex,s.fragment,t)),fi[i]}function HS(s,t){const i=t.map(h=>h.vertex).filter(h=>!!h),r=t.map(h=>h.fragment).filter(h=>!!h);let l=Jg(i,s.vertex,!0);l=DS(i,l);const u=Jg(r,s.fragment,!0);return{vertex:l,fragment:u}}function Y0(s,t){return t.map(i=>(sc.has(i)||sc.set(i,US++),sc.get(i))).sort((i,r)=>i-r).join("-")+s.vertex+s.fragment}function X0(s,t,i){const r=Qg(s),l=Qg(t);return i.forEach(u=>{$g(u.vertex,r,u.name),$g(u.fragment,l,u.name)}),{vertex:ey(s,r),fragment:ey(t,l)}}const kS=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}
        
        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);
       
        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,GS=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;
   
    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {
        
        {{start}}

        var outColor:vec4<f32>;
      
        {{main}}
        
        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,PS=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;
        
        {{start}}
        
        vColor = vec4(1.);
        
        {{main}}
        
        vUV = uv;
        
        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,LS=`
   
    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {
        
        {{start}}

        vec4 outColor;
      
        {{main}}
        
        finalColor = outColor * vColor;
        
        {{end}}
    }
`,YS={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},XS={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function jS({bits:s,name:t}){const i=BS({template:{fragment:GS,vertex:kS},bits:[YS,...s]});return an.from({name:t,vertex:{source:i.vertex,entryPoint:"main"},fragment:{source:i.fragment,entryPoint:"main"}})}function FS({bits:s,name:t}){return new Pn({name:t,...NS({template:{vertex:PS,fragment:LS},bits:[XS,...s]})})}const qS={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},VS={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},rc={};function IS(s){const t=[];if(s===1)t.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),t.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let i=0;for(let r=0;r<s;r++)t.push(`@group(1) @binding(${i++}) var textureSource${r+1}: texture_2d<f32>;`),t.push(`@group(1) @binding(${i++}) var textureSampler${r+1}: sampler;`)}return t.join(`
`)}function WS(s){const t=[];if(s===1)t.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{t.push("switch vTextureId {");for(let i=0;i<s;i++)i===s-1?t.push("  default:{"):t.push(`  case ${i}:{`),t.push(`      outColor = textureSampleGrad(textureSource${i+1}, textureSampler${i+1}, vUV, uvDx, uvDy);`),t.push("      break;}");t.push("}")}return t.join(`
`)}function ZS(s){return rc[s]||(rc[s]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${IS(s)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${WS(s)}
            `}}),rc[s]}const ac={};function $S(s){const t=[];for(let i=0;i<s;i++)i>0&&t.push("else"),i<s-1&&t.push(`if(vTextureId < ${i}.5)`),t.push("{"),t.push(`	outColor = texture(uTextures[${i}], vUV);`),t.push("}");return t.join(`
`)}function QS(s){return ac[s]||(ac[s]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${s}];

            `,main:`

                ${$S(s)}
            `}}),ac[s]}const KS={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32> 
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},JS={name:"round-pixels-bit",vertex:{header:`   
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {       
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},ny={};function tw(s){let t=ny[s];if(t)return t;const i=new Int32Array(s);for(let r=0;r<s;r++)i[r]=r;return t=ny[s]=new $c({uTextures:{value:i,type:"i32",size:s}},{isStatic:!0}),t}class ew extends eo{constructor(t){const i=FS({name:"batch",bits:[VS,QS(t),JS]}),r=jS({name:"batch",bits:[qS,ZS(t),KS]});super({glProgram:i,gpuProgram:r,resources:{batchSamplers:tw(t)}})}}let iy=null;const j0=class F0 extends SS{constructor(){super(...arguments),this.geometry=new ES,this.shader=iy||(iy=new ew(this.maxTextures)),this.name=F0.extension.name,this.vertexSize=6}packAttributes(t,i,r,l,u){const h=u<<16|t.roundPixels&65535,f=t.transform,p=f.a,m=f.b,g=f.c,v=f.d,_=f.tx,x=f.ty,{positions:C,uvs:O}=t,A=t.color,M=t.attributeOffset,D=M+t.attributeSize;for(let B=M;B<D;B++){const q=B*2,I=C[q],Z=C[q+1];i[l++]=p*I+g*Z+_,i[l++]=v*Z+m*I+x,i[l++]=O[q],i[l++]=O[q+1],r[l++]=A,r[l++]=h}}packQuadAttributes(t,i,r,l,u){const h=t.texture,f=t.transform,p=f.a,m=f.b,g=f.c,v=f.d,_=f.tx,x=f.ty,C=t.bounds,O=C.maxX,A=C.minX,M=C.maxY,D=C.minY,B=h.uvs,q=t.color,I=u<<16|t.roundPixels&65535;i[l+0]=p*A+g*D+_,i[l+1]=v*D+m*A+x,i[l+2]=B.x0,i[l+3]=B.y0,r[l+4]=q,r[l+5]=I,i[l+6]=p*O+g*D+_,i[l+7]=v*D+m*O+x,i[l+8]=B.x1,i[l+9]=B.y1,r[l+10]=q,r[l+11]=I,i[l+12]=p*O+g*M+_,i[l+13]=v*M+m*O+x,i[l+14]=B.x2,i[l+15]=B.y2,r[l+16]=q,r[l+17]=I,i[l+18]=p*A+g*M+_,i[l+19]=v*M+m*A+x,i[l+20]=B.x3,i[l+21]=B.y3,r[l+22]=q,r[l+23]=I}};j0.extension={type:[zt.Batcher],name:"default"};let nw=j0;function iw(s,t,i,r,l,u,h,f=null){let p=0;i*=t,l*=u;const m=f.a,g=f.b,v=f.c,_=f.d,x=f.tx,C=f.ty;for(;p<h;){const O=s[i],A=s[i+1];r[l]=m*O+v*A+x,r[l+1]=g*O+_*A+C,l+=u,i+=t,p++}}function sw(s,t,i,r){let l=0;for(t*=i;l<r;)s[t]=0,s[t+1]=0,t+=i,l++}function q0(s,t,i,r,l){const u=t.a,h=t.b,f=t.c,p=t.d,m=t.tx,g=t.ty;i||(i=0),r||(r=2),l||(l=s.length/r-i);let v=i*r;for(let _=0;_<l;_++){const x=s[v],C=s[v+1];s[v]=u*x+f*C+m,s[v+1]=h*x+p*C+g,v+=r}}const rw=new Ct;class V0{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const t=this.baseColor,i=t>>16|t&65280|(t&255)<<16,r=this.renderable;return r?e0(i,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):i+(this.alpha*255<<24)}get transform(){var t;return((t=this.renderable)==null?void 0:t.groupTransform)||rw}copyTo(t){t.indexOffset=this.indexOffset,t.indexSize=this.indexSize,t.attributeOffset=this.attributeOffset,t.attributeSize=this.attributeSize,t.baseColor=this.baseColor,t.alpha=this.alpha,t.texture=this.texture,t.geometryData=this.geometryData,t.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}}const aa={extension:{type:zt.ShapeBuilder,name:"circle"},build(s,t){let i,r,l,u,h,f;if(s.type==="circle"){const q=s;i=q.x,r=q.y,h=f=q.radius,l=u=0}else if(s.type==="ellipse"){const q=s;i=q.x,r=q.y,h=q.halfWidth,f=q.halfHeight,l=u=0}else{const q=s,I=q.width/2,Z=q.height/2;i=q.x+I,r=q.y+Z,h=f=Math.max(0,Math.min(q.radius,Math.min(I,Z))),l=I-h,u=Z-f}if(!(h>=0&&f>=0&&l>=0&&u>=0))return t;const p=Math.ceil(2.3*Math.sqrt(h+f)),m=p*8+(l?4:0)+(u?4:0);if(m===0)return t;if(p===0)return t[0]=t[6]=i+l,t[1]=t[3]=r+u,t[2]=t[4]=i-l,t[5]=t[7]=r-u,t;let g=0,v=p*4+(l?2:0)+2,_=v,x=m,C=l+h,O=u,A=i+C,M=i-C,D=r+O;if(t[g++]=A,t[g++]=D,t[--v]=D,t[--v]=M,u){const q=r-O;t[_++]=M,t[_++]=q,t[--x]=q,t[--x]=A}for(let q=1;q<p;q++){const I=Math.PI/2*(q/p),Z=l+Math.cos(I)*h,$=u+Math.sin(I)*f,rt=i+Z,it=i-Z,tt=r+$,nt=r-$;t[g++]=rt,t[g++]=tt,t[--v]=tt,t[--v]=it,t[_++]=it,t[_++]=nt,t[--x]=nt,t[--x]=rt}C=l,O=u+f,A=i+C,M=i-C,D=r+O;const B=r-O;return t[g++]=A,t[g++]=D,t[--x]=B,t[--x]=A,l&&(t[g++]=M,t[g++]=D,t[--x]=B,t[--x]=M),t},triangulate(s,t,i,r,l,u){if(s.length===0)return;let h=0,f=0;for(let g=0;g<s.length;g+=2)h+=s[g],f+=s[g+1];h/=s.length/2,f/=s.length/2;let p=r;t[p*i]=h,t[p*i+1]=f;const m=p++;for(let g=0;g<s.length;g+=2)t[p*i]=s[g],t[p*i+1]=s[g+1],g>0&&(l[u++]=p,l[u++]=m,l[u++]=p-1),p++;l[u++]=m+1,l[u++]=m,l[u++]=p-1}},aw={...aa,extension:{...aa.extension,name:"ellipse"}},lw={...aa,extension:{...aa.extension,name:"roundedRectangle"}},I0=1e-4,sy=1e-4;function ow(s){const t=s.length;if(t<6)return 1;let i=0;for(let r=0,l=s[t-2],u=s[t-1];r<t;r+=2){const h=s[r],f=s[r+1];i+=(h-l)*(f+u),l=h,u=f}return i<0?-1:1}function ry(s,t,i,r,l,u,h,f){const p=s-i*l,m=t-r*l,g=s+i*u,v=t+r*u;let _,x;h?(_=r,x=-i):(_=-r,x=i);const C=p+_,O=m+x,A=g+_,M=v+x;return f.push(C,O),f.push(A,M),2}function Ui(s,t,i,r,l,u,h,f){const p=i-s,m=r-t;let g=Math.atan2(p,m),v=Math.atan2(l-s,u-t);f&&g<v?g+=Math.PI*2:!f&&g>v&&(v+=Math.PI*2);let _=g;const x=v-g,C=Math.abs(x),O=Math.sqrt(p*p+m*m),A=(15*C*Math.sqrt(O)/Math.PI>>0)+1,M=x/A;if(_+=M,f){h.push(s,t),h.push(i,r);for(let D=1,B=_;D<A;D++,B+=M)h.push(s,t),h.push(s+Math.sin(B)*O,t+Math.cos(B)*O);h.push(s,t),h.push(l,u)}else{h.push(i,r),h.push(s,t);for(let D=1,B=_;D<A;D++,B+=M)h.push(s+Math.sin(B)*O,t+Math.cos(B)*O),h.push(s,t);h.push(l,u),h.push(s,t)}return A*2}function uw(s,t,i,r,l,u){const h=I0;if(s.length===0)return;const f=t;let p=f.alignment;if(t.alignment!==.5){let G=ow(s);p=(p-.5)*G+.5}const m=new At(s[0],s[1]),g=new At(s[s.length-2],s[s.length-1]),v=r,_=Math.abs(m.x-g.x)<h&&Math.abs(m.y-g.y)<h;if(v){s=s.slice(),_&&(s.pop(),s.pop(),g.set(s[s.length-2],s[s.length-1]));const G=(m.x+g.x)*.5,w=(g.y+m.y)*.5;s.unshift(G,w),s.push(G,w)}const x=l,C=s.length/2;let O=s.length;const A=x.length/2,M=f.width/2,D=M*M,B=f.miterLimit*f.miterLimit;let q=s[0],I=s[1],Z=s[2],$=s[3],rt=0,it=0,tt=-(I-$),nt=q-Z,ft=0,bt=0,kt=Math.sqrt(tt*tt+nt*nt);tt/=kt,nt/=kt,tt*=M,nt*=M;const Gt=p,b=(1-Gt)*2,T=Gt*2;v||(f.cap==="round"?O+=Ui(q-tt*(b-T)*.5,I-nt*(b-T)*.5,q-tt*b,I-nt*b,q+tt*T,I+nt*T,x,!0)+2:f.cap==="square"&&(O+=ry(q,I,tt,nt,b,T,!0,x))),x.push(q-tt*b,I-nt*b),x.push(q+tt*T,I+nt*T);for(let G=1;G<C-1;++G){q=s[(G-1)*2],I=s[(G-1)*2+1],Z=s[G*2],$=s[G*2+1],rt=s[(G+1)*2],it=s[(G+1)*2+1],tt=-(I-$),nt=q-Z,kt=Math.sqrt(tt*tt+nt*nt),tt/=kt,nt/=kt,tt*=M,nt*=M,ft=-($-it),bt=Z-rt,kt=Math.sqrt(ft*ft+bt*bt),ft/=kt,bt/=kt,ft*=M,bt*=M;const w=Z-q,z=I-$,H=Z-rt,X=it-$,K=w*H+z*X,J=z*H-X*w,et=J<0;if(Math.abs(J)<.001*Math.abs(K)){x.push(Z-tt*b,$-nt*b),x.push(Z+tt*T,$+nt*T),K>=0&&(f.join==="round"?O+=Ui(Z,$,Z-tt*b,$-nt*b,Z-ft*b,$-bt*b,x,!1)+4:O+=2,x.push(Z-ft*T,$-bt*T),x.push(Z+ft*b,$+bt*b));continue}const ct=(-tt+q)*(-nt+$)-(-tt+Z)*(-nt+I),at=(-ft+rt)*(-bt+$)-(-ft+Z)*(-bt+it),Et=(w*at-H*ct)/J,_t=(X*ct-z*at)/J,ve=(Et-Z)*(Et-Z)+(_t-$)*(_t-$),le=Z+(Et-Z)*b,xe=$+(_t-$)*b,be=Z-(Et-Z)*T,pt=$-(_t-$)*T,St=Math.min(w*w+z*z,H*H+X*X),Ee=et?b:T,ho=St+Ee*Ee*D;ve<=ho?f.join==="bevel"||ve/D>B?(et?(x.push(le,xe),x.push(Z+tt*T,$+nt*T),x.push(le,xe),x.push(Z+ft*T,$+bt*T)):(x.push(Z-tt*b,$-nt*b),x.push(be,pt),x.push(Z-ft*b,$-bt*b),x.push(be,pt)),O+=2):f.join==="round"?et?(x.push(le,xe),x.push(Z+tt*T,$+nt*T),O+=Ui(Z,$,Z+tt*T,$+nt*T,Z+ft*T,$+bt*T,x,!0)+4,x.push(le,xe),x.push(Z+ft*T,$+bt*T)):(x.push(Z-tt*b,$-nt*b),x.push(be,pt),O+=Ui(Z,$,Z-tt*b,$-nt*b,Z-ft*b,$-bt*b,x,!1)+4,x.push(Z-ft*b,$-bt*b),x.push(be,pt)):(x.push(le,xe),x.push(be,pt)):(x.push(Z-tt*b,$-nt*b),x.push(Z+tt*T,$+nt*T),f.join==="round"?et?O+=Ui(Z,$,Z+tt*T,$+nt*T,Z+ft*T,$+bt*T,x,!0)+2:O+=Ui(Z,$,Z-tt*b,$-nt*b,Z-ft*b,$-bt*b,x,!1)+2:f.join==="miter"&&ve/D<=B&&(et?(x.push(be,pt),x.push(be,pt)):(x.push(le,xe),x.push(le,xe)),O+=2),x.push(Z-ft*b,$-bt*b),x.push(Z+ft*T,$+bt*T),O+=2)}q=s[(C-2)*2],I=s[(C-2)*2+1],Z=s[(C-1)*2],$=s[(C-1)*2+1],tt=-(I-$),nt=q-Z,kt=Math.sqrt(tt*tt+nt*nt),tt/=kt,nt/=kt,tt*=M,nt*=M,x.push(Z-tt*b,$-nt*b),x.push(Z+tt*T,$+nt*T),v||(f.cap==="round"?O+=Ui(Z-tt*(b-T)*.5,$-nt*(b-T)*.5,Z-tt*b,$-nt*b,Z+tt*T,$+nt*T,x,!1)+2:f.cap==="square"&&(O+=ry(Z,$,tt,nt,b,T,!1,x)));const R=sy*sy;for(let G=A;G<O+A-2;++G)q=x[G*2],I=x[G*2+1],Z=x[(G+1)*2],$=x[(G+1)*2+1],rt=x[(G+2)*2],it=x[(G+2)*2+1],!(Math.abs(q*($-it)+Z*(it-I)+rt*(I-$))<R)&&u.push(G,G+1,G+2)}function hw(s,t,i,r){const l=I0;if(s.length===0)return;const u=s[0],h=s[1],f=s[s.length-2],p=s[s.length-1],m=t||Math.abs(u-f)<l&&Math.abs(h-p)<l,g=i,v=s.length/2,_=g.length/2;for(let x=0;x<v;x++)g.push(s[x*2]),g.push(s[x*2+1]);for(let x=0;x<v-1;x++)r.push(_+x,_+x+1);m&&r.push(_+v-1,_)}function W0(s,t,i,r,l,u,h){const f=Q2(s,t,2);if(!f)return;for(let m=0;m<f.length;m+=3)u[h++]=f[m]+l,u[h++]=f[m+1]+l,u[h++]=f[m+2]+l;let p=l*r;for(let m=0;m<s.length;m+=2)i[p]=s[m],i[p+1]=s[m+1],p+=r}const cw=[],fw={extension:{type:zt.ShapeBuilder,name:"polygon"},build(s,t){for(let i=0;i<s.points.length;i++)t[i]=s.points[i];return t},triangulate(s,t,i,r,l,u){W0(s,cw,t,i,r,l,u)}},dw={extension:{type:zt.ShapeBuilder,name:"rectangle"},build(s,t){const i=s,r=i.x,l=i.y,u=i.width,h=i.height;return u>=0&&h>=0&&(t[0]=r,t[1]=l,t[2]=r+u,t[3]=l,t[4]=r+u,t[5]=l+h,t[6]=r,t[7]=l+h),t},triangulate(s,t,i,r,l,u){let h=0;r*=i,t[r+h]=s[0],t[r+h+1]=s[1],h+=i,t[r+h]=s[2],t[r+h+1]=s[3],h+=i,t[r+h]=s[6],t[r+h+1]=s[7],h+=i,t[r+h]=s[4],t[r+h+1]=s[5],h+=i;const f=r/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2,l[u++]=f+1,l[u++]=f+3,l[u++]=f+2}},pw={extension:{type:zt.ShapeBuilder,name:"triangle"},build(s,t){return t[0]=s.x,t[1]=s.y,t[2]=s.x2,t[3]=s.y2,t[4]=s.x3,t[5]=s.y3,t},triangulate(s,t,i,r,l,u){let h=0;r*=i,t[r+h]=s[0],t[r+h+1]=s[1],h+=i,t[r+h]=s[2],t[r+h+1]=s[3],h+=i,t[r+h]=s[4],t[r+h+1]=s[5];const f=r/i;l[u++]=f,l[u++]=f+1,l[u++]=f+2}},mw=new Ct,gw=new It;function yw(s,t,i,r){const l=t.matrix?s.copyFrom(t.matrix).invert():s.identity();if(t.textureSpace==="local"){const u=i.getBounds(gw);l.translate(-u.x,-u.y),l.scale(1/u.width,1/u.height)}else{l.translate(t.texture.frame.x,t.texture.frame.y),l.scale(1/t.texture.source.width,1/t.texture.source.height);const u=t.texture.source.style;u.addressMode==="clamp-to-edge"&&(u.addressMode="repeat",u.update())}return r&&l.append(mw.copyFrom(r).invert()),l}const io={};Qe.handleByMap(zt.ShapeBuilder,io);Qe.add(dw,fw,pw,aa,aw,lw);const vw=new It,xw=new Ct;function bw(s,t){const{geometryData:i,batches:r}=t;r.length=0,i.indices.length=0,i.vertices.length=0,i.uvs.length=0;for(let l=0;l<s.instructions.length;l++){const u=s.instructions[l];if(u.action==="texture")_w(u.data,r,i);else if(u.action==="fill"||u.action==="stroke"){const h=u.action==="stroke",f=u.data.path.shapePath,p=u.data.style,m=u.data.hole;h&&m&&ay(m.shapePath,p,!0,r,i),m&&(f.shapePrimitives[f.shapePrimitives.length-1].holes=m.shapePath.shapePrimitives),ay(f,p,h,r,i)}}}function _w(s,t,i){const{vertices:r,uvs:l,indices:u}=i,h=u.length,f=r.length/2,p=[],m=io.rectangle,g=vw,v=s.image;g.x=s.dx,g.y=s.dy,g.width=s.dw,g.height=s.dh;const _=s.transform;m.build(g,p),_&&q0(p,_),m.triangulate(p,r,2,f,u,h);const x=v.uvs;l.push(x.x0,x.y0,x.x1,x.y1,x.x3,x.y3,x.x2,x.y2);const C=Bn.get(V0);C.indexOffset=h,C.indexSize=u.length-h,C.attributeOffset=f,C.attributeSize=r.length/2-f,C.baseColor=s.style,C.alpha=s.alpha,C.texture=v,C.geometryData=i,t.push(C)}function ay(s,t,i,r,l){const{vertices:u,uvs:h,indices:f}=l;s.shapePrimitives.forEach(({shape:p,transform:m,holes:g})=>{const v=f.length,_=u.length/2,x=[],C=io[p.type];let O="triangle-list";if(C.build(p,x),m&&q0(x,m),i){const B=p.closePath??!0,q=t;q.pixelLine?(hw(x,B,u,f),O="line-list"):uw(x,q,!1,B,u,f)}else if(g){const B=[],q=x.slice();Sw(g).forEach(Z=>{B.push(q.length/2),q.push(...Z)}),W0(q,B,u,2,_,f,v)}else C.triangulate(x,u,2,_,f,v);const A=h.length/2,M=t.texture;if(M!==Ht.WHITE){const B=yw(xw,t,p,m);iw(u,2,_,h,A,2,u.length/2-_,B)}else sw(h,A,2,u.length/2-_);const D=Bn.get(V0);D.indexOffset=v,D.indexSize=f.length-v,D.attributeOffset=_,D.attributeSize=u.length/2-_,D.baseColor=t.color,D.alpha=t.alpha,D.texture=M,D.geometryData=l,D.topology=O,r.push(D)})}function Sw(s){const t=[];for(let i=0;i<s.length;i++){const r=s[i].shape,l=[];io[r.type].build(r,l),t.push(l)}return t}class ww{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class Aw{constructor(){this.batcher=new nw,this.instructions=new r0}init(){this.instructions.reset()}get geometry(){return mt(D_,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}}const ef=class Oc{constructor(t){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),t.renderableGC.addManagedHash(this,"_gpuContextHash"),t.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(t){Oc.defaultOptions.bezierSmoothness=(t==null?void 0:t.bezierSmoothness)??Oc.defaultOptions.bezierSmoothness}getContextRenderData(t){return this._graphicsDataContextHash[t.uid]||this._initContextRenderData(t)}updateGpuContext(t){let i=this._gpuContextHash[t.uid]||this._initContext(t);if(t.dirty){i?this._cleanGraphicsContextData(t):i=this._initContext(t),bw(t,i);const r=t.batchMode;t.customShader||r==="no-batch"?i.isBatchable=!1:r==="auto"&&(i.isBatchable=i.geometryData.vertices.length<400),t.dirty=!1}return i}getGpuContext(t){return this._gpuContextHash[t.uid]||this._initContext(t)}_initContextRenderData(t){const i=Bn.get(Aw),{batches:r,geometryData:l}=this._gpuContextHash[t.uid],u=l.vertices.length,h=l.indices.length;for(let g=0;g<r.length;g++)r[g].applyTransform=!1;const f=i.batcher;f.ensureAttributeBuffer(u),f.ensureIndexBuffer(h),f.begin();for(let g=0;g<r.length;g++){const v=r[g];f.add(v)}f.finish(i.instructions);const p=f.geometry;p.indexBuffer.setDataWithSize(f.indexBuffer,f.indexSize,!0),p.buffers[0].setDataWithSize(f.attributeBuffer.float32View,f.attributeSize,!0);const m=f.batches;for(let g=0;g<m.length;g++){const v=m[g];v.bindGroup=gS(v.textures.textures,v.textures.count)}return this._graphicsDataContextHash[t.uid]=i,i}_initContext(t){const i=new ww;return i.context=t,this._gpuContextHash[t.uid]=i,t.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]}onGraphicsContextDestroy(t){this._cleanGraphicsContextData(t),t.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[t.uid]=null}_cleanGraphicsContextData(t){const i=this._gpuContextHash[t.uid];i.isBatchable||this._graphicsDataContextHash[t.uid]&&(Bn.return(this.getContextRenderData(t)),this._graphicsDataContextHash[t.uid]=null),i.batches&&i.batches.forEach(r=>{Bn.return(r)})}destroy(){for(const t in this._gpuContextHash)this._gpuContextHash[t]&&this.onGraphicsContextDestroy(this._gpuContextHash[t].context)}};ef.extension={type:[zt.WebGLSystem,zt.WebGPUSystem,zt.CanvasSystem],name:"graphicsContext"};ef.defaultOptions={bezierSmoothness:.5};let Z0=ef;const Cw=8,Gl=11920929e-14,Tw=1;function $0(s,t,i,r,l,u,h,f,p,m){const v=Math.min(.99,Math.max(0,m??Z0.defaultOptions.bezierSmoothness));let _=(Tw-v)/1;return _*=_,Mw(t,i,r,l,u,h,f,p,s,_),s}function Mw(s,t,i,r,l,u,h,f,p,m){zc(s,t,i,r,l,u,h,f,p,m,0),p.push(h,f)}function zc(s,t,i,r,l,u,h,f,p,m,g){if(g>Cw)return;const v=(s+i)/2,_=(t+r)/2,x=(i+l)/2,C=(r+u)/2,O=(l+h)/2,A=(u+f)/2,M=(v+x)/2,D=(_+C)/2,B=(x+O)/2,q=(C+A)/2,I=(M+B)/2,Z=(D+q)/2;if(g>0){let $=h-s,rt=f-t;const it=Math.abs((i-h)*rt-(r-f)*$),tt=Math.abs((l-h)*rt-(u-f)*$);if(it>Gl&&tt>Gl){if((it+tt)*(it+tt)<=m*($*$+rt*rt)){p.push(I,Z);return}}else if(it>Gl){if(it*it<=m*($*$+rt*rt)){p.push(I,Z);return}}else if(tt>Gl){if(tt*tt<=m*($*$+rt*rt)){p.push(I,Z);return}}else if($=I-(s+h)/2,rt=Z-(t+f)/2,$*$+rt*rt<=m){p.push(I,Z);return}}zc(s,t,v,_,M,D,I,Z,p,m,g+1),zc(I,Z,B,q,O,A,h,f,p,m,g+1)}const Ew=8,Rw=11920929e-14,Ow=1;function zw(s,t,i,r,l,u,h,f){const m=Math.min(.99,Math.max(0,f??Z0.defaultOptions.bezierSmoothness));let g=(Ow-m)/1;return g*=g,Dw(t,i,r,l,u,h,s,g),s}function Dw(s,t,i,r,l,u,h,f){Dc(h,s,t,i,r,l,u,f,0),h.push(l,u)}function Dc(s,t,i,r,l,u,h,f,p){if(p>Ew)return;const m=(t+r)/2,g=(i+l)/2,v=(r+u)/2,_=(l+h)/2,x=(m+v)/2,C=(g+_)/2;let O=u-t,A=h-i;const M=Math.abs((r-u)*A-(l-h)*O);if(M>Rw){if(M*M<=f*(O*O+A*A)){s.push(x,C);return}}else if(O=x-(t+u)/2,A=C-(i+h)/2,O*O+A*A<=f){s.push(x,C);return}Dc(s,t,i,m,g,x,C,f,p+1),Dc(s,x,C,v,_,u,h,f,p+1)}function Q0(s,t,i,r,l,u,h,f){let p=Math.abs(l-u);(!h&&l>u||h&&u>l)&&(p=2*Math.PI-p),f||(f=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(p/Math.PI)))),f=Math.max(f,3);let m=p/f,g=l;m*=h?-1:1;for(let v=0;v<f+1;v++){const _=Math.cos(g),x=Math.sin(g),C=t+_*r,O=i+x*r;s.push(C,O),g+=m}}function Uw(s,t,i,r,l,u){const h=s[s.length-2],p=s[s.length-1]-i,m=h-t,g=l-i,v=r-t,_=Math.abs(p*v-m*g);if(_<1e-8||u===0){(s[s.length-2]!==t||s[s.length-1]!==i)&&s.push(t,i);return}const x=p*p+m*m,C=g*g+v*v,O=p*g+m*v,A=u*Math.sqrt(x)/_,M=u*Math.sqrt(C)/_,D=A*O/x,B=M*O/C,q=A*v+M*m,I=A*g+M*p,Z=m*(M+D),$=p*(M+D),rt=v*(A+B),it=g*(A+B),tt=Math.atan2($-I,Z-q),nt=Math.atan2(it-I,rt-q);Q0(s,q+t,I+i,u,tt,nt,m*g>v*p)}const Qr=Math.PI*2,lc={centerX:0,centerY:0,ang1:0,ang2:0},oc=({x:s,y:t},i,r,l,u,h,f,p)=>{s*=i,t*=r;const m=l*s-u*t,g=u*s+l*t;return p.x=m+h,p.y=g+f,p};function Bw(s,t){const i=t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),r=t===1.5707963267948966?.551915024494:i,l=Math.cos(s),u=Math.sin(s),h=Math.cos(s+t),f=Math.sin(s+t);return[{x:l-u*r,y:u+l*r},{x:h+f*r,y:f-h*r},{x:h,y:f}]}const ly=(s,t,i,r)=>{const l=s*r-t*i<0?-1:1;let u=s*i+t*r;return u>1&&(u=1),u<-1&&(u=-1),l*Math.acos(u)},Nw=(s,t,i,r,l,u,h,f,p,m,g,v,_)=>{const x=Math.pow(l,2),C=Math.pow(u,2),O=Math.pow(g,2),A=Math.pow(v,2);let M=x*C-x*A-C*O;M<0&&(M=0),M/=x*A+C*O,M=Math.sqrt(M)*(h===f?-1:1);const D=M*l/u*v,B=M*-u/l*g,q=m*D-p*B+(s+i)/2,I=p*D+m*B+(t+r)/2,Z=(g-D)/l,$=(v-B)/u,rt=(-g-D)/l,it=(-v-B)/u,tt=ly(1,0,Z,$);let nt=ly(Z,$,rt,it);f===0&&nt>0&&(nt-=Qr),f===1&&nt<0&&(nt+=Qr),_.centerX=q,_.centerY=I,_.ang1=tt,_.ang2=nt};function Hw(s,t,i,r,l,u,h,f=0,p=0,m=0){if(u===0||h===0)return;const g=Math.sin(f*Qr/360),v=Math.cos(f*Qr/360),_=v*(t-r)/2+g*(i-l)/2,x=-g*(t-r)/2+v*(i-l)/2;if(_===0&&x===0)return;u=Math.abs(u),h=Math.abs(h);const C=Math.pow(_,2)/Math.pow(u,2)+Math.pow(x,2)/Math.pow(h,2);C>1&&(u*=Math.sqrt(C),h*=Math.sqrt(C)),Nw(t,i,r,l,u,h,p,m,g,v,_,x,lc);let{ang1:O,ang2:A}=lc;const{centerX:M,centerY:D}=lc;let B=Math.abs(A)/(Qr/4);Math.abs(1-B)<1e-7&&(B=1);const q=Math.max(Math.ceil(B),1);A/=q;let I=s[s.length-2],Z=s[s.length-1];const $={x:0,y:0};for(let rt=0;rt<q;rt++){const it=Bw(O,A),{x:tt,y:nt}=oc(it[0],u,h,v,g,M,D,$),{x:ft,y:bt}=oc(it[1],u,h,v,g,M,D,$),{x:kt,y:Gt}=oc(it[2],u,h,v,g,M,D,$);$0(s,I,Z,tt,nt,ft,bt,kt,Gt),I=kt,Z=Gt,O+=A}}function kw(s,t,i){const r=(h,f)=>{const p=f.x-h.x,m=f.y-h.y,g=Math.sqrt(p*p+m*m),v=p/g,_=m/g;return{len:g,nx:v,ny:_}},l=(h,f)=>{h===0?s.moveTo(f.x,f.y):s.lineTo(f.x,f.y)};let u=t[t.length-1];for(let h=0;h<t.length;h++){const f=t[h%t.length],p=f.radius??i;if(p<=0){l(h,f),u=f;continue}const m=t[(h+1)%t.length],g=r(f,u),v=r(f,m);if(g.len<1e-4||v.len<1e-4){l(h,f),u=f;continue}let _=Math.asin(g.nx*v.ny-g.ny*v.nx),x=1,C=!1;g.nx*v.nx-g.ny*-v.ny<0?_<0?_=Math.PI+_:(_=Math.PI-_,x=-1,C=!0):_>0&&(x=-1,C=!0);const O=_/2;let A,M=Math.abs(Math.cos(O)*p/Math.sin(O));M>Math.min(g.len/2,v.len/2)?(M=Math.min(g.len/2,v.len/2),A=Math.abs(M*Math.sin(O)/Math.cos(O))):A=p;const D=f.x+v.nx*M+-v.ny*A*x,B=f.y+v.ny*M+v.nx*A*x,q=Math.atan2(g.ny,g.nx)+Math.PI/2*x,I=Math.atan2(v.ny,v.nx)-Math.PI/2*x;h===0&&s.moveTo(D+Math.cos(q)*A,B+Math.sin(q)*A),s.arc(D,B,A,q,I,C),u=f}}function Gw(s,t,i,r){const l=(f,p)=>Math.sqrt((f.x-p.x)**2+(f.y-p.y)**2),u=(f,p,m)=>({x:f.x+(p.x-f.x)*m,y:f.y+(p.y-f.y)*m}),h=t.length;for(let f=0;f<h;f++){const p=t[(f+1)%h],m=p.radius??i;if(m<=0){f===0?s.moveTo(p.x,p.y):s.lineTo(p.x,p.y);continue}const g=t[f],v=t[(f+2)%h],_=l(g,p);let x;if(_<1e-4)x=p;else{const A=Math.min(_/2,m);x=u(p,g,A/_)}const C=l(v,p);let O;if(C<1e-4)O=p;else{const A=Math.min(C/2,m);O=u(p,v,A/C)}f===0?s.moveTo(x.x,x.y):s.lineTo(x.x,x.y),s.quadraticCurveTo(p.x,p.y,O.x,O.y,r)}}const Pw=new It;class Lw{constructor(t){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new rn,this._graphicsPath2D=t,this.signed=t.checkForHoles}moveTo(t,i){return this.startPoly(t,i),this}lineTo(t,i){this._ensurePoly();const r=this._currentPoly.points,l=r[r.length-2],u=r[r.length-1];return(l!==t||u!==i)&&r.push(t,i),this}arc(t,i,r,l,u,h){this._ensurePoly(!1);const f=this._currentPoly.points;return Q0(f,t,i,r,l,u,h),this}arcTo(t,i,r,l,u){this._ensurePoly();const h=this._currentPoly.points;return Uw(h,t,i,r,l,u),this}arcToSvg(t,i,r,l,u,h,f){const p=this._currentPoly.points;return Hw(p,this._currentPoly.lastX,this._currentPoly.lastY,h,f,t,i,r,l,u),this}bezierCurveTo(t,i,r,l,u,h,f){this._ensurePoly();const p=this._currentPoly;return $0(this._currentPoly.points,p.lastX,p.lastY,t,i,r,l,u,h,f),this}quadraticCurveTo(t,i,r,l,u){this._ensurePoly();const h=this._currentPoly;return zw(this._currentPoly.points,h.lastX,h.lastY,t,i,r,l,u),this}closePath(){return this.endPoly(!0),this}addPath(t,i){this.endPoly(),i&&!i.isIdentity()&&(t=t.clone(!0),t.transform(i));const r=this.shapePrimitives,l=r.length;for(let u=0;u<t.instructions.length;u++){const h=t.instructions[u];this[h.action](...h.data)}if(t.checkForHoles&&r.length-l>1){let u=null;for(let h=l;h<r.length;h++){const f=r[h];if(f.shape.type==="polygon"){const p=f.shape,m=u==null?void 0:u.shape;m&&m.containsPolygon(p)?(u.holes||(u.holes=[]),u.holes.push(f),r.copyWithin(h,h+1),r.length--,h--):u=f}}}return this}finish(t=!1){this.endPoly(t)}rect(t,i,r,l,u){return this.drawShape(new It(t,i,r,l),u),this}circle(t,i,r,l){return this.drawShape(new Kc(t,i,r),l),this}poly(t,i,r){const l=new $r(t);return l.closePath=i,this.drawShape(l,r),this}regularPoly(t,i,r,l,u=0,h){l=Math.max(l|0,3);const f=-1*Math.PI/2+u,p=Math.PI*2/l,m=[];for(let g=0;g<l;g++){const v=f-g*p;m.push(t+r*Math.cos(v),i+r*Math.sin(v))}return this.poly(m,!0,h),this}roundPoly(t,i,r,l,u,h=0,f){if(l=Math.max(l|0,3),u<=0)return this.regularPoly(t,i,r,l,h);const p=r*Math.sin(Math.PI/l)-.001;u=Math.min(u,p);const m=-1*Math.PI/2+h,g=Math.PI*2/l,v=(l-2)*Math.PI/l/2;for(let _=0;_<l;_++){const x=_*g+m,C=t+r*Math.cos(x),O=i+r*Math.sin(x),A=x+Math.PI+v,M=x-Math.PI-v,D=C+u*Math.cos(A),B=O+u*Math.sin(A),q=C+u*Math.cos(M),I=O+u*Math.sin(M);_===0?this.moveTo(D,B):this.lineTo(D,B),this.quadraticCurveTo(C,O,q,I,f)}return this.closePath()}roundShape(t,i,r=!1,l){return t.length<3?this:(r?Gw(this,t,i,l):kw(this,t,i),this.closePath())}filletRect(t,i,r,l,u){if(u===0)return this.rect(t,i,r,l);const h=Math.min(r,l)/2,f=Math.min(h,Math.max(-h,u)),p=t+r,m=i+l,g=f<0?-f:0,v=Math.abs(f);return this.moveTo(t,i+v).arcTo(t+g,i+g,t+v,i,v).lineTo(p-v,i).arcTo(p-g,i+g,p,i+v,v).lineTo(p,m-v).arcTo(p-g,m-g,t+r-v,m,v).lineTo(t+v,m).arcTo(t+g,m-g,t,m-v,v).closePath()}chamferRect(t,i,r,l,u,h){if(u<=0)return this.rect(t,i,r,l);const f=Math.min(u,Math.min(r,l)/2),p=t+r,m=i+l,g=[t+f,i,p-f,i,p,i+f,p,m-f,p-f,m,t+f,m,t,m-f,t,i+f];for(let v=g.length-1;v>=2;v-=2)g[v]===g[v-2]&&g[v-1]===g[v-3]&&g.splice(v-1,2);return this.poly(g,!0,h)}ellipse(t,i,r,l,u){return this.drawShape(new Jc(t,i,r,l),u),this}roundRect(t,i,r,l,u,h){return this.drawShape(new tf(t,i,r,l,u),h),this}drawShape(t,i){return this.endPoly(),this.shapePrimitives.push({shape:t,transform:i}),this}startPoly(t,i){let r=this._currentPoly;return r&&this.endPoly(),r=new $r,r.points.push(t,i),this._currentPoly=r,this}endPoly(t=!1){const i=this._currentPoly;return i&&i.points.length>2&&(i.closePath=t,this.shapePrimitives.push({shape:i})),this._currentPoly=null,this}_ensurePoly(t=!0){if(!this._currentPoly&&(this._currentPoly=new $r,t)){const i=this.shapePrimitives[this.shapePrimitives.length-1];if(i){let r=i.shape.x,l=i.shape.y;if(i.transform&&!i.transform.isIdentity()){const u=i.transform,h=r;r=u.a*r+u.c*l+u.tx,l=u.b*h+u.d*l+u.ty}this._currentPoly.points.push(r,l)}else this._currentPoly.points.push(0,0)}}buildPath(){const t=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let i=0;i<t.instructions.length;i++){const r=t.instructions[i];this[r.action](...r.data)}this.finish()}get bounds(){const t=this._bounds;t.clear();const i=this.shapePrimitives;for(let r=0;r<i.length;r++){const l=i[r],u=l.shape.getBounds(Pw);l.transform?t.addRect(u,l.transform):t.addRect(u)}return t}}class Bs{constructor(t,i=!1){this.instructions=[],this.uid=Jt("graphicsPath"),this._dirty=!0,this.checkForHoles=i,typeof t=="string"?uS(t,this):this.instructions=(t==null?void 0:t.slice())??[]}get shapePath(){return this._shapePath||(this._shapePath=new Lw(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(t,i){return t=t.clone(),this.instructions.push({action:"addPath",data:[t,i]}),this._dirty=!0,this}arc(...t){return this.instructions.push({action:"arc",data:t}),this._dirty=!0,this}arcTo(...t){return this.instructions.push({action:"arcTo",data:t}),this._dirty=!0,this}arcToSvg(...t){return this.instructions.push({action:"arcToSvg",data:t}),this._dirty=!0,this}bezierCurveTo(...t){return this.instructions.push({action:"bezierCurveTo",data:t}),this._dirty=!0,this}bezierCurveToShort(t,i,r,l,u){const h=this.instructions[this.instructions.length-1],f=this.getLastPoint(At.shared);let p=0,m=0;if(!h||h.action!=="bezierCurveTo")p=f.x,m=f.y;else{p=h.data[2],m=h.data[3];const g=f.x,v=f.y;p=g+(g-p),m=v+(v-m)}return this.instructions.push({action:"bezierCurveTo",data:[p,m,t,i,r,l,u]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...t){return this.instructions.push({action:"ellipse",data:t}),this._dirty=!0,this}lineTo(...t){return this.instructions.push({action:"lineTo",data:t}),this._dirty=!0,this}moveTo(...t){return this.instructions.push({action:"moveTo",data:t}),this}quadraticCurveTo(...t){return this.instructions.push({action:"quadraticCurveTo",data:t}),this._dirty=!0,this}quadraticCurveToShort(t,i,r){const l=this.instructions[this.instructions.length-1],u=this.getLastPoint(At.shared);let h=0,f=0;if(!l||l.action!=="quadraticCurveTo")h=u.x,f=u.y;else{h=l.data[0],f=l.data[1];const p=u.x,m=u.y;h=p+(p-h),f=m+(m-f)}return this.instructions.push({action:"quadraticCurveTo",data:[h,f,t,i,r]}),this._dirty=!0,this}rect(t,i,r,l,u){return this.instructions.push({action:"rect",data:[t,i,r,l,u]}),this._dirty=!0,this}circle(t,i,r,l){return this.instructions.push({action:"circle",data:[t,i,r,l]}),this._dirty=!0,this}roundRect(...t){return this.instructions.push({action:"roundRect",data:t}),this._dirty=!0,this}poly(...t){return this.instructions.push({action:"poly",data:t}),this._dirty=!0,this}regularPoly(...t){return this.instructions.push({action:"regularPoly",data:t}),this._dirty=!0,this}roundPoly(...t){return this.instructions.push({action:"roundPoly",data:t}),this._dirty=!0,this}roundShape(...t){return this.instructions.push({action:"roundShape",data:t}),this._dirty=!0,this}filletRect(...t){return this.instructions.push({action:"filletRect",data:t}),this._dirty=!0,this}chamferRect(...t){return this.instructions.push({action:"chamferRect",data:t}),this._dirty=!0,this}star(t,i,r,l,u,h,f){u||(u=l/2);const p=-1*Math.PI/2+h,m=r*2,g=Math.PI*2/m,v=[];for(let _=0;_<m;_++){const x=_%2?u:l,C=_*g+p;v.push(t+x*Math.cos(C),i+x*Math.sin(C))}return this.poly(v,!0,f),this}clone(t=!1){const i=new Bs;if(i.checkForHoles=this.checkForHoles,!t)i.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const l=this.instructions[r];i.instructions.push({action:l.action,data:l.data.slice()})}return i}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(t){if(t.isIdentity())return this;const i=t.a,r=t.b,l=t.c,u=t.d,h=t.tx,f=t.ty;let p=0,m=0,g=0,v=0,_=0,x=0,C=0,O=0;for(let A=0;A<this.instructions.length;A++){const M=this.instructions[A],D=M.data;switch(M.action){case"moveTo":case"lineTo":p=D[0],m=D[1],D[0]=i*p+l*m+h,D[1]=r*p+u*m+f;break;case"bezierCurveTo":g=D[0],v=D[1],_=D[2],x=D[3],p=D[4],m=D[5],D[0]=i*g+l*v+h,D[1]=r*g+u*v+f,D[2]=i*_+l*x+h,D[3]=r*_+u*x+f,D[4]=i*p+l*m+h,D[5]=r*p+u*m+f;break;case"quadraticCurveTo":g=D[0],v=D[1],p=D[2],m=D[3],D[0]=i*g+l*v+h,D[1]=r*g+u*v+f,D[2]=i*p+l*m+h,D[3]=r*p+u*m+f;break;case"arcToSvg":p=D[5],m=D[6],C=D[0],O=D[1],D[0]=i*C+l*O,D[1]=r*C+u*O,D[5]=i*p+l*m+h,D[6]=r*p+u*m+f;break;case"circle":D[4]=Lr(D[3],t);break;case"rect":D[4]=Lr(D[4],t);break;case"ellipse":D[8]=Lr(D[8],t);break;case"roundRect":D[5]=Lr(D[5],t);break;case"addPath":D[0].transform(t);break;case"poly":D[2]=Lr(D[2],t);break;default:Le("unknown transform action",M.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(t){let i=this.instructions.length-1,r=this.instructions[i];if(!r)return t.x=0,t.y=0,t;for(;r.action==="closePath";){if(i--,i<0)return t.x=0,t.y=0,t;r=this.instructions[i]}switch(r.action){case"moveTo":case"lineTo":t.x=r.data[0],t.y=r.data[1];break;case"quadraticCurveTo":t.x=r.data[2],t.y=r.data[3];break;case"bezierCurveTo":t.x=r.data[4],t.y=r.data[5];break;case"arc":case"arcToSvg":t.x=r.data[5],t.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(t);break}return t}}function Lr(s,t){return s?s.prepend(t):t.clone()}function Vt(s,t,i){const r=s.getAttribute(t);return r?Number(r):i}function Yw(s,t){const i=s.querySelectorAll("defs");for(let r=0;r<i.length;r++){const l=i[r];for(let u=0;u<l.children.length;u++){const h=l.children[u];switch(h.nodeName.toLowerCase()){case"lineargradient":t.defs[h.id]=Xw(h);break;case"radialgradient":t.defs[h.id]=jw();break}}}}function Xw(s){const t=Vt(s,"x1",0),i=Vt(s,"y1",0),r=Vt(s,"x2",1),l=Vt(s,"y2",0),u=s.getAttribute("gradientUnits")||"objectBoundingBox",h=new no(t,i,r,l,u==="objectBoundingBox"?"local":"global");for(let f=0;f<s.children.length;f++){const p=s.children[f],m=Vt(p,"offset",0),g=Me.shared.setValue(p.getAttribute("stop-color")).toNumber();h.addColorStop(m,g)}return h}function jw(s){return Le("[SVG Parser] Radial gradients are not yet supported"),new no(0,0,1,0)}function oy(s){const t=s.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return t?t[1]:""}const uy={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function K0(s,t){const i=s.getAttribute("style"),r={},l={},u={strokeStyle:r,fillStyle:l,useFill:!1,useStroke:!1};for(const h in uy){const f=s.getAttribute(h);f&&hy(t,u,h,f.trim())}if(i){const h=i.split(";");for(let f=0;f<h.length;f++){const p=h[f].trim(),[m,g]=p.split(":");uy[m]&&hy(t,u,m,g.trim())}}return{strokeStyle:u.useStroke?r:null,fillStyle:u.useFill?l:null,useFill:u.useFill,useStroke:u.useStroke}}function hy(s,t,i,r){switch(i){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const l=oy(r);t.strokeStyle.fill=s.defs[l]}else t.strokeStyle.color=Me.shared.setValue(r).toNumber();t.useStroke=!0}break;case"stroke-width":t.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const l=oy(r);t.fillStyle.fill=s.defs[l]}else t.fillStyle.color=Me.shared.setValue(r).toNumber();t.useFill=!0}break;case"fill-opacity":t.fillStyle.alpha=Number(r);break;case"stroke-opacity":t.strokeStyle.alpha=Number(r);break;case"opacity":t.fillStyle.alpha=Number(r),t.strokeStyle.alpha=Number(r);break}}function Fw(s,t){if(typeof s=="string"){const h=document.createElement("div");h.innerHTML=s.trim(),s=h.querySelector("svg")}const i={context:t,defs:{},path:new Bs};Yw(s,i);const r=s.children,{fillStyle:l,strokeStyle:u}=K0(s,i);for(let h=0;h<r.length;h++){const f=r[h];f.nodeName.toLowerCase()!=="defs"&&J0(f,i,l,u)}return t}function J0(s,t,i,r){const l=s.children,{fillStyle:u,strokeStyle:h}=K0(s,t);u&&i?i={...i,...u}:u&&(i=u),h&&r?r={...r,...h}:h&&(r=h);const f=!i&&!r;f&&(i={color:0});let p,m,g,v,_,x,C,O,A,M,D,B,q,I,Z,$,rt;switch(s.nodeName.toLowerCase()){case"path":I=s.getAttribute("d"),s.getAttribute("fill-rule")==="evenodd"&&Le("SVG Evenodd fill rule not supported, your svg may render incorrectly"),Z=new Bs(I,!0),t.context.path(Z),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"circle":C=Vt(s,"cx",0),O=Vt(s,"cy",0),A=Vt(s,"r",0),t.context.ellipse(C,O,A,A),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"rect":p=Vt(s,"x",0),m=Vt(s,"y",0),$=Vt(s,"width",0),rt=Vt(s,"height",0),M=Vt(s,"rx",0),D=Vt(s,"ry",0),M||D?t.context.roundRect(p,m,$,rt,M||D):t.context.rect(p,m,$,rt),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"ellipse":C=Vt(s,"cx",0),O=Vt(s,"cy",0),M=Vt(s,"rx",0),D=Vt(s,"ry",0),t.context.beginPath(),t.context.ellipse(C,O,M,D),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"line":g=Vt(s,"x1",0),v=Vt(s,"y1",0),_=Vt(s,"x2",0),x=Vt(s,"y2",0),t.context.beginPath(),t.context.moveTo(g,v),t.context.lineTo(_,x),r&&t.context.stroke(r);break;case"polygon":q=s.getAttribute("points"),B=q.match(/\d+/g).map(it=>parseInt(it,10)),t.context.poly(B,!0),i&&t.context.fill(i),r&&t.context.stroke(r);break;case"polyline":q=s.getAttribute("points"),B=q.match(/\d+/g).map(it=>parseInt(it,10)),t.context.poly(B,!1),r&&t.context.stroke(r);break;case"g":case"svg":break;default:{Le(`[SVG parser] <${s.nodeName}> elements unsupported`);break}}f&&(i=null);for(let it=0;it<l.length;it++)J0(l[it],t,i,r)}function qw(s){return Me.isColorLike(s)}function cy(s){return s instanceof rS}function fy(s){return s instanceof no}function Vw(s){return s instanceof Ht}function Iw(s,t,i){const r=Me.shared.setValue(t??0);return s.color=r.toNumber(),s.alpha=r.alpha===1?i.alpha:r.alpha,s.texture=Ht.WHITE,{...i,...s}}function Ww(s,t,i){return s.texture=t,{...i,...s}}function dy(s,t,i){return s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,{...i,...s}}function py(s,t,i){return t.buildGradient(),s.fill=t,s.color=16777215,s.texture=t.texture,s.matrix=t.transform,s.textureSpace=t.textureSpace,{...i,...s}}function Zw(s,t){const i={...t,...s},r=Me.shared.setValue(i.color);return i.alpha*=r.alpha,i.color=r.toNumber(),i}function Wr(s,t){if(s==null)return null;const i={},r=s;return qw(s)?Iw(i,s,t):Vw(s)?Ww(i,s,t):cy(s)?dy(i,s,t):fy(s)?py(i,s,t):r.fill&&cy(r.fill)?dy(r,r.fill,t):r.fill&&fy(r.fill)?py(r,r.fill,t):Zw(r,t)}function my(s,t){const{width:i,alignment:r,miterLimit:l,cap:u,join:h,pixelLine:f,...p}=t,m=Wr(s,p);return m?{width:i,alignment:r,miterLimit:l,cap:u,join:h,pixelLine:f,...m}:null}const $w=new At,gy=new Ct,nf=class dn extends kn{constructor(){super(...arguments),this.uid=Jt("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Bs,this._transform=new Ct,this._fillStyle={...dn.defaultFillStyle},this._strokeStyle={...dn.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new rn,this._boundsDirty=!0}clone(){const t=new dn;return t.batchMode=this.batchMode,t.instructions=this.instructions.slice(),t._activePath=this._activePath.clone(),t._transform=this._transform.clone(),t._fillStyle={...this._fillStyle},t._strokeStyle={...this._strokeStyle},t._stateStack=this._stateStack.slice(),t._bounds=this._bounds.clone(),t._boundsDirty=!0,t}get fillStyle(){return this._fillStyle}set fillStyle(t){this._fillStyle=Wr(t,dn.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){this._strokeStyle=my(t,dn.defaultStrokeStyle)}setFillStyle(t){return this._fillStyle=Wr(t,dn.defaultFillStyle),this}setStrokeStyle(t){return this._strokeStyle=Wr(t,dn.defaultStrokeStyle),this}texture(t,i,r,l,u,h){return this.instructions.push({action:"texture",data:{image:t,dx:r||0,dy:l||0,dw:u||t.frame.width,dh:h||t.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:i?Me.shared.setValue(i).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Bs,this}fill(t,i){let r;const l=this.instructions[this.instructions.length-1];return this._tick===0&&l&&l.action==="stroke"?r=l.data.path:r=this._activePath.clone(),r?(t!=null&&(i!==void 0&&typeof t=="number"&&(mt(Kt,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),t={color:t,alpha:i}),this._fillStyle=Wr(t,dn.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:t,y:i}=this._activePath.getLastPoint(At.shared);this._activePath.clear(),this._activePath.moveTo(t,i)}stroke(t){let i;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?i=r.data.path:i=this._activePath.clone(),i?(t!=null&&(this._strokeStyle=my(t,dn.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:i}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let t=0;t<2;t++){const i=this.instructions[this.instructions.length-1-t],r=this._activePath.clone();if(i&&(i.action==="stroke"||i.action==="fill"))if(i.data.hole)i.data.hole.addPath(r);else{i.data.hole=r;break}}return this._initNextPathLocation(),this}arc(t,i,r,l,u,h){this._tick++;const f=this._transform;return this._activePath.arc(f.a*t+f.c*i+f.tx,f.b*t+f.d*i+f.ty,r,l,u,h),this}arcTo(t,i,r,l,u){this._tick++;const h=this._transform;return this._activePath.arcTo(h.a*t+h.c*i+h.tx,h.b*t+h.d*i+h.ty,h.a*r+h.c*l+h.tx,h.b*r+h.d*l+h.ty,u),this}arcToSvg(t,i,r,l,u,h,f){this._tick++;const p=this._transform;return this._activePath.arcToSvg(t,i,r,l,u,p.a*h+p.c*f+p.tx,p.b*h+p.d*f+p.ty),this}bezierCurveTo(t,i,r,l,u,h,f){this._tick++;const p=this._transform;return this._activePath.bezierCurveTo(p.a*t+p.c*i+p.tx,p.b*t+p.d*i+p.ty,p.a*r+p.c*l+p.tx,p.b*r+p.d*l+p.ty,p.a*u+p.c*h+p.tx,p.b*u+p.d*h+p.ty,f),this}closePath(){var t;return this._tick++,(t=this._activePath)==null||t.closePath(),this}ellipse(t,i,r,l){return this._tick++,this._activePath.ellipse(t,i,r,l,this._transform.clone()),this}circle(t,i,r){return this._tick++,this._activePath.circle(t,i,r,this._transform.clone()),this}path(t){return this._tick++,this._activePath.addPath(t,this._transform.clone()),this}lineTo(t,i){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*t+r.c*i+r.tx,r.b*t+r.d*i+r.ty),this}moveTo(t,i){this._tick++;const r=this._transform,l=this._activePath.instructions,u=r.a*t+r.c*i+r.tx,h=r.b*t+r.d*i+r.ty;return l.length===1&&l[0].action==="moveTo"?(l[0].data[0]=u,l[0].data[1]=h,this):(this._activePath.moveTo(u,h),this)}quadraticCurveTo(t,i,r,l,u){this._tick++;const h=this._transform;return this._activePath.quadraticCurveTo(h.a*t+h.c*i+h.tx,h.b*t+h.d*i+h.ty,h.a*r+h.c*l+h.tx,h.b*r+h.d*l+h.ty,u),this}rect(t,i,r,l){return this._tick++,this._activePath.rect(t,i,r,l,this._transform.clone()),this}roundRect(t,i,r,l,u){return this._tick++,this._activePath.roundRect(t,i,r,l,u,this._transform.clone()),this}poly(t,i){return this._tick++,this._activePath.poly(t,i,this._transform.clone()),this}regularPoly(t,i,r,l,u=0,h){return this._tick++,this._activePath.regularPoly(t,i,r,l,u,h),this}roundPoly(t,i,r,l,u,h){return this._tick++,this._activePath.roundPoly(t,i,r,l,u,h),this}roundShape(t,i,r,l){return this._tick++,this._activePath.roundShape(t,i,r,l),this}filletRect(t,i,r,l,u){return this._tick++,this._activePath.filletRect(t,i,r,l,u),this}chamferRect(t,i,r,l,u,h){return this._tick++,this._activePath.chamferRect(t,i,r,l,u,h),this}star(t,i,r,l,u=0,h=0){return this._tick++,this._activePath.star(t,i,r,l,u,h,this._transform.clone()),this}svg(t){return this._tick++,Fw(t,this),this}restore(){const t=this._stateStack.pop();return t&&(this._transform=t.transform,this._fillStyle=t.fillStyle,this._strokeStyle=t.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(t){return this._transform.rotate(t),this}scale(t,i=t){return this._transform.scale(t,i),this}setTransform(t,i,r,l,u,h){return t instanceof Ct?(this._transform.set(t.a,t.b,t.c,t.d,t.tx,t.ty),this):(this._transform.set(t,i,r,l,u,h),this)}transform(t,i,r,l,u,h){return t instanceof Ct?(this._transform.append(t),this):(gy.set(t,i,r,l,u,h),this._transform.append(gy),this)}translate(t,i=t){return this._transform.translate(t,i),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;const t=this._bounds;t.clear();for(let i=0;i<this.instructions.length;i++){const r=this.instructions[i],l=r.action;if(l==="fill"){const u=r.data;t.addBounds(u.path.bounds)}else if(l==="texture"){const u=r.data;t.addFrame(u.dx,u.dy,u.dx+u.dw,u.dy+u.dh,u.transform)}if(l==="stroke"){const u=r.data,h=u.style.alignment,f=u.style.width*(1-h),p=u.path.bounds;t.addFrame(p.minX-f,p.minY-f,p.maxX+f,p.maxY+f)}}return t}containsPoint(t){var l;if(!this.bounds.containsPoint(t.x,t.y))return!1;const i=this.instructions;let r=!1;for(let u=0;u<i.length;u++){const h=i[u],f=h.data,p=f.path;if(!h.action||!p)continue;const m=f.style,g=p.shapePath.shapePrimitives;for(let v=0;v<g.length;v++){const _=g[v].shape;if(!m||!_)continue;const x=g[v].transform,C=x?x.applyInverse(t,$w):t;if(h.action==="fill")r=_.contains(C.x,C.y);else{const A=m;r=_.strokeContains(C.x,C.y,A.width,A.alignment)}const O=f.hole;if(O){const A=(l=O.shapePath)==null?void 0:l.shapePrimitives;if(A)for(let M=0;M<A.length;M++)A[M].shape.contains(C.x,C.y)&&(r=!1)}if(r)return!0}}return r}destroy(t=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof t=="boolean"?t:t==null?void 0:t.texture){const r=typeof t=="boolean"?t:t==null?void 0:t.textureSource;this._fillStyle.texture&&this._fillStyle.texture.destroy(r),this._strokeStyle.texture&&this._strokeStyle.texture.destroy(r)}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};nf.defaultFillStyle={color:16777215,alpha:1,texture:Ht.WHITE,matrix:null,fill:null,textureSpace:"local"};nf.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:Ht.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let Yr=nf;var Qw=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Kw=`
in vec2 vTextureCoord;

out vec4 finalColor;

uniform float uAlpha;
uniform sampler2D uTexture;

void main()
{
    finalColor =  texture(uTexture, vTextureCoord) * uAlpha;
}
`,yy=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct AlphaUniforms {
  uAlpha:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> alphaUniforms : AlphaUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
 
    var sample = textureSample(uTexture, uSampler, uv);
    
    return sample * alphaUniforms.uAlpha;
}`;const tv=class ev extends ji{constructor(t){t={...ev.defaultOptions,...t};const i=an.from({vertex:{source:yy,entryPoint:"mainVertex"},fragment:{source:yy,entryPoint:"mainFragment"}}),r=Pn.from({vertex:Qw,fragment:Kw,name:"alpha-filter"}),{alpha:l,...u}=t,h=new $c({uAlpha:{value:l,type:"f32"}});super({...u,gpuProgram:i,glProgram:r,resources:{alphaUniforms:h}})}get alpha(){return this.resources.alphaUniforms.uniforms.uAlpha}set alpha(t){this.resources.alphaUniforms.uniforms.uAlpha=t}};tv.defaultOptions={alpha:1};let Jw=tv;const nv={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},tA=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function eA(s){const t=nv[s],i=t.length;let r=tA,l="";const u="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;";let h;for(let f=0;f<s;f++){let p=u.replace("%index%",f.toString());h=f,f>=i&&(h=s-f-1),p=p.replace("%value%",t[h].toString()),l+=p,l+=`
`}return r=r.replace("%blur%",l),r=r.replace("%size%",s.toString()),r}const nA=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function iA(s,t){const i=Math.ceil(s/2);let r=nA,l="",u;t?u="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":u="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let h=0;h<s;h++){let f=u.replace("%index%",h.toString());f=f.replace("%sampleIndex%",`${h-(i-1)}.0`),l+=f,l+=`
`}return r=r.replace("%blur%",l),r=r.replace("%size%",s.toString()),r=r.replace("%dimension%",t?"z":"w"),r}function sA(s,t){const i=iA(t,s),r=eA(t);return Pn.from({vertex:i,fragment:r,name:`blur-${s?"horizontal":"vertical"}-pass-filter`})}var rA=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function aA(s,t){const i=nv[t],r=i.length,l=[],u=[],h=[];for(let v=0;v<t;v++){l[v]=`@location(${v}) offset${v}: vec2<f32>,`,s?u[v]=`filteredCord + vec2(${v-r+1} * pixelStrength, 0.0),`:u[v]=`filteredCord + vec2(0.0, ${v-r+1} * pixelStrength),`;const _=v<r?v:t-v-1,x=i[_].toString();h[v]=`finalColor += textureSample(uTexture, uSampler, offset${v}) * ${x};`}const f=l.join(`
`),p=u.join(`
`),m=h.join(`
`),g=rA.replace("%blur-struct%",f).replace("%blur-vertex-out%",p).replace("%blur-fragment-in%",f).replace("%blur-sampling%",m).replace("%dimension%",s?"z":"w");return an.from({vertex:{source:g,entryPoint:"mainVertex"},fragment:{source:g,entryPoint:"mainFragment"}})}const iv=class sv extends ji{constructor(t){t={...sv.defaultOptions,...t};const i=sA(t.horizontal,t.kernelSize),r=aA(t.horizontal,t.kernelSize);super({glProgram:i,gpuProgram:r,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}},...t}),this.horizontal=t.horizontal,this._quality=0,this.quality=t.quality,this.blur=t.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(t,i,r,l){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)t.applyFilter(this,i,r,l);else{const u=Yi.getSameSizeTexture(i);let h=i,f=u;this._state.blend=!1;const p=t.renderer.type===sa.WEBGPU;for(let m=0;m<this.passes-1;m++){t.applyFilter(this,h,f,m===0?!0:p);const g=f;f=h,h=g}this._state.blend=!0,t.applyFilter(this,h,r,l),Yi.returnTexture(u)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}};iv.defaultOptions={strength:8,quality:4,kernelSize:5};let Kr=iv;class ql extends ji{constructor(...t){let i=t[0]??{};typeof i=="number"&&(mt(Kt,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),i={strength:i},t[1]!==void 0&&(i.quality=t[1]),t[2]!==void 0&&(i.resolution=t[2]||"inherit"),t[3]!==void 0&&(i.kernelSize=t[3])),i={...Kr.defaultOptions,...i};const{strength:r,strengthX:l,strengthY:u,quality:h,...f}=i;super({...f,compatibleRenderers:sa.BOTH,resources:{}}),this._repeatEdgePixels=!1,this.blurXFilter=new Kr({horizontal:!0,...i}),this.blurYFilter=new Kr({horizontal:!1,...i}),this.quality=h,this.strengthX=l??r,this.strengthY=u??r,this.repeatEdgePixels=!1}apply(t,i,r,l){const u=Math.abs(this.blurXFilter.strength),h=Math.abs(this.blurYFilter.strength);if(u&&h){const f=Yi.getSameSizeTexture(i);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(t,i,f,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,f,r,l),Yi.returnTexture(f)}else h?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,i,r,l)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(t,i,r,l))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get strengthX(){return this.blurXFilter.blur}set strengthX(t){this.blurXFilter.blur=t,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(t){this.blurYFilter.blur=t,this.updatePadding()}get blur(){return mt("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(t){mt("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=t}get blurX(){return mt("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(t){mt("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=t}get blurY(){return mt("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(t){mt("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}ql.defaultOptions={strength:8,quality:4,kernelSize:5};class la extends a0{constructor(t){t instanceof Yr&&(t={context:t});const{context:i,roundPixels:r,...l}=t||{};super({label:"Graphics",...l}),this.renderPipeId="graphics",i?this._context=i:this._context=this._ownedContext=new Yr,this._context.on("update",this.onViewUpdate,this),this.allowChildren=!1,this.roundPixels=r??!1}set context(t){t!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=t,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(t){return this._context.containsPoint(t)}destroy(t){this._ownedContext&&!t?this._ownedContext.destroy(t):(t===!0||(t==null?void 0:t.context)===!0)&&this._context.destroy(t),this._ownedContext=null,this._context=null,super.destroy(t)}_callContextMethod(t,i){return this.context[t](...i),this}setFillStyle(...t){return this._callContextMethod("setFillStyle",t)}setStrokeStyle(...t){return this._callContextMethod("setStrokeStyle",t)}fill(...t){return this._callContextMethod("fill",t)}stroke(...t){return this._callContextMethod("stroke",t)}texture(...t){return this._callContextMethod("texture",t)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...t){return this._callContextMethod("arc",t)}arcTo(...t){return this._callContextMethod("arcTo",t)}arcToSvg(...t){return this._callContextMethod("arcToSvg",t)}bezierCurveTo(...t){return this._callContextMethod("bezierCurveTo",t)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...t){return this._callContextMethod("ellipse",t)}circle(...t){return this._callContextMethod("circle",t)}path(...t){return this._callContextMethod("path",t)}lineTo(...t){return this._callContextMethod("lineTo",t)}moveTo(...t){return this._callContextMethod("moveTo",t)}quadraticCurveTo(...t){return this._callContextMethod("quadraticCurveTo",t)}rect(...t){return this._callContextMethod("rect",t)}roundRect(...t){return this._callContextMethod("roundRect",t)}poly(...t){return this._callContextMethod("poly",t)}regularPoly(...t){return this._callContextMethod("regularPoly",t)}roundPoly(...t){return this._callContextMethod("roundPoly",t)}roundShape(...t){return this._callContextMethod("roundShape",t)}filletRect(...t){return this._callContextMethod("filletRect",t)}chamferRect(...t){return this._callContextMethod("chamferRect",t)}star(...t){return this._callContextMethod("star",t)}svg(...t){return this._callContextMethod("svg",t)}restore(...t){return this._callContextMethod("restore",t)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...t){return this._callContextMethod("rotate",t)}scaleTransform(...t){return this._callContextMethod("scale",t)}setTransform(...t){return this._callContextMethod("setTransform",t)}transform(...t){return this._callContextMethod("transform",t)}translateTransform(...t){return this._callContextMethod("translate",t)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(t){this._context.fillStyle=t}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(t){this._context.strokeStyle=t}clone(t=!1){return t?new la(this._context.clone()):(this._ownedContext=null,new la(this._context))}lineStyle(t,i,r){mt(Kt,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const l={};return t&&(l.width=t),i&&(l.color=i),r&&(l.alpha=r),this.context.strokeStyle=l,this}beginFill(t,i){mt(Kt,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return t!==void 0&&(r.color=t),i!==void 0&&(r.alpha=i),this.context.fillStyle=r,this}endFill(){mt(Kt,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const t=this.context.strokeStyle;return(t.width!==Yr.defaultStrokeStyle.width||t.color!==Yr.defaultStrokeStyle.color||t.alpha!==Yr.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...t){return mt(Kt,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",t)}drawEllipse(...t){return mt(Kt,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",t)}drawPolygon(...t){return mt(Kt,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",t)}drawRect(...t){return mt(Kt,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",t)}drawRoundedRect(...t){return mt(Kt,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",t)}drawStar(...t){return mt(Kt,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",t)}}Qe.add(S_,w_);var so=`in vec2 aPosition;
out vec2 vTextureCoord;

uniform vec4 uInputSize;
uniform vec4 uOutputFrame;
uniform vec4 uOutputTexture;

vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aPosition * (uOutputFrame.zw * uInputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,ro=`struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

struct VSOutput {
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}
  
@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {
  return VSOutput(
   filterVertexPosition(aPosition),
   filterTextureCoord(aPosition)
  );
}`,lA=Object.defineProperty,oA=(s,t,i)=>t in s?lA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Vl=(s,t,i)=>(oA(s,typeof t!="symbol"?t+"":t,i),i);const rv=class av extends Jw{constructor(...t){let i=t[0]??{};if(typeof i=="number"||Array.isArray(i)||"x"in i&&"y"in i){mt("6.0.0","BloomFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }");let r=i;Array.isArray(r)&&(r={x:r[0],y:r[1]}),i={strength:r},t[1]!==void 0&&(i.quality=t[1]),t[2]!==void 0&&(i.resolution=t[2]),t[3]!==void 0&&(i.kernelSize=t[3])}i={...av.DEFAULT_OPTIONS,...i},super(),Vl(this,"_blurXFilter"),Vl(this,"_blurYFilter"),Vl(this,"_strength"),this._strength={x:2,y:2},i.strength&&(typeof i.strength=="number"?(this._strength.x=i.strength,this._strength.y=i.strength):(this._strength.x=i.strength.x,this._strength.y=i.strength.y)),this._blurXFilter=new Kr({...i,horizontal:!0,strength:this.strengthX}),this._blurYFilter=new Kr({...i,horizontal:!1,strength:this.strengthY}),this._blurYFilter.blendMode="screen",Object.assign(this,i)}apply(t,i,r,l){const u=Yi.getSameSizeTexture(i);t.applyFilter(this,i,r,l),this._blurXFilter.apply(t,i,u,!0),this._blurYFilter.apply(t,u,r,!1),Yi.returnTexture(u)}get strength(){return this._strength}set strength(t){this._strength=typeof t=="number"?{x:t,y:t}:t,this._updateStrength()}get strengthX(){return this.strength.x}set strengthX(t){this.strength.x=t,this._updateStrength()}get strengthY(){return this.strength.y}set strengthY(t){this.strength.y=t,this._updateStrength()}_updateStrength(){this._blurXFilter.blur=this.strengthX,this._blurYFilter.blur=this.strengthY}get blur(){return mt("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strengthX}set blur(t){mt("6.0.0","BloomFilter.blur is deprecated, please use BloomFilter.strength instead"),this.strength=t}get blurX(){return mt("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX}set blurX(t){mt("6.0.0","BloomFilter.blurX is deprecated, please use BloomFilter.strengthX instead"),this.strengthX=t}get blurY(){return mt("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY}set blurY(t){mt("6.0.0","BloomFilter.blurY is deprecated, please use BloomFilter.strengthY instead"),this.strengthY=t}};Vl(rv,"DEFAULT_OPTIONS",{strength:{x:2,y:2},quality:4,resolution:1,kernelSize:5});let uc=rv;var uA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uStrength;
uniform vec3 uColor;
uniform float uKnockout;
uniform float uAlpha;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159265358979323846264;

// Hard-assignment of DIST and ANGLE_STEP_SIZE instead of using uDistance and uQuality to allow them to be use on GLSL loop conditions
const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.);
const float ANGLE_STEP_NUM = ceil(PI * 2. / ANGLE_STEP_SIZE);
const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.) / 2.;

void main(void) {
    vec2 px = vec2(1.) / uInputSize.xy;

    float totalAlpha = 0.;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.; angle < PI * 2.; angle += ANGLE_STEP_SIZE) {
      direction = vec2(cos(angle), sin(angle)) * px;

      for (float curDistance = 0.; curDistance < DIST; curDistance++) {
          displaced = clamp(vTextureCoord + direction * (curDistance + 1.), uInputClamp.xy, uInputClamp.zw);
          curColor = texture(uTexture, displaced);
          totalAlpha += (DIST - curDistance) * curColor.a;
      }
    }
    
    curColor = texture(uTexture, vTextureCoord);

    vec4 glowColor = vec4(uColor, uAlpha);
    bool knockout = uKnockout > .5;
    float innerStrength = uStrength[0];
    float outerStrength = uStrength[1];

    float alphaRatio = totalAlpha / MAX_TOTAL_ALPHA;
    float innerGlowAlpha = (1. - alphaRatio) * innerStrength * curColor.a * uAlpha;
    float innerGlowStrength = min(1., innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);
    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a) * uAlpha;
    float outerGlowStrength = min(1. - innerColor.a, outerGlowAlpha);
    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;

    if (knockout) {
      float resultAlpha = outerGlowAlpha + innerGlowAlpha;
      finalColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      finalColor = innerColor + outerGlowColor;
    }
}
`,hA=`struct GlowUniforms {
  uDistance: f32,
  uStrength: vec2<f32>,
  uColor: vec3<f32>,
  uAlpha: f32,
  uQuality: f32,
  uKnockout: f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> glowUniforms : GlowUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let quality = glowUniforms.uQuality;
  let distance = glowUniforms.uDistance;

  let dist: f32 = glowUniforms.uDistance;
  let angleStepSize: f32 = min(1. / quality / distance, PI * 2.0);
  let angleStepNum: f32 = ceil(PI * 2.0 / angleStepSize);

  let px: vec2<f32> = vec2<f32>(1.0 / gfu.uInputSize.xy);

  var totalAlpha: f32 = 0.0;

  var direction: vec2<f32>;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.0; angle < PI * 2.0; angle += angleStepSize) {
    direction = vec2<f32>(cos(angle), sin(angle)) * px;
    for (var curDistance = 0.0; curDistance < dist; curDistance+=1) {
      displaced = vec2<f32>(clamp(uv + direction * (curDistance + 1.0), gfu.uInputClamp.xy, gfu.uInputClamp.zw));
      curColor = textureSample(uTexture, uSampler, displaced);
      totalAlpha += (dist - curDistance) * curColor.a;
    }
  }
    
  curColor = textureSample(uTexture, uSampler, uv);

  let glowColorRGB = glowUniforms.uColor;
  let glowAlpha = glowUniforms.uAlpha;
  let glowColor = vec4<f32>(glowColorRGB, glowAlpha);
  let knockout: bool = glowUniforms.uKnockout > 0.5;
  let innerStrength = glowUniforms.uStrength[0];
  let outerStrength = glowUniforms.uStrength[1];

  let alphaRatio: f32 = (totalAlpha / (angleStepNum * dist * (dist + 1.0) / 2.0));
  let innerGlowAlpha: f32 = (1.0 - alphaRatio) * innerStrength * curColor.a * glowAlpha;
  let innerGlowStrength: f32 = min(1.0, innerGlowAlpha);
  
  let innerColor: vec4<f32> = mix(curColor, glowColor, innerGlowStrength);
  let outerGlowAlpha: f32 = alphaRatio * outerStrength * (1. - curColor.a) * glowAlpha;
  let outerGlowStrength: f32 = min(1.0 - innerColor.a, outerGlowAlpha);
  let outerGlowColor: vec4<f32> = outerGlowStrength * glowColor.rgba;
  
  if (knockout) {
    let resultAlpha: f32 = outerGlowAlpha + innerGlowAlpha;
    return vec4<f32>(glowColor.rgb * resultAlpha, resultAlpha);
  }
  else {
    return innerColor + outerGlowColor;
  }
}

const PI: f32 = 3.14159265358979323846264;`,cA=Object.defineProperty,fA=(s,t,i)=>t in s?cA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Uc=(s,t,i)=>(fA(s,typeof t!="symbol"?t+"":t,i),i);const lv=class ov extends ji{constructor(t){t={...ov.DEFAULT_OPTIONS,...t};const i=t.distance??10,r=t.quality??.1,l=an.from({vertex:{source:ro,entryPoint:"mainVertex"},fragment:{source:hA,entryPoint:"mainFragment"}}),u=Pn.from({vertex:so,fragment:uA.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/r/i).toFixed(7)}`).replace(/__DIST__/gi,`${i.toFixed(0)}.0`),name:"glow-filter"});super({gpuProgram:l,glProgram:u,resources:{glowUniforms:{uDistance:{value:i,type:"f32"},uStrength:{value:[t.innerStrength,t.outerStrength],type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:t.alpha,type:"f32"},uQuality:{value:r,type:"f32"},uKnockout:{value:(t==null?void 0:t.knockout)??!1?1:0,type:"f32"}}},padding:i}),Uc(this,"uniforms"),Uc(this,"_color"),this.uniforms=this.resources.glowUniforms.uniforms,this._color=new Me,this.color=t.color??16777215}get distance(){return this.uniforms.uDistance}set distance(t){this.uniforms.uDistance=this.padding=t}get innerStrength(){return this.uniforms.uStrength[0]}set innerStrength(t){this.uniforms.uStrength[0]=t}get outerStrength(){return this.uniforms.uStrength[1]}set outerStrength(t){this.uniforms.uStrength[1]=t}get color(){return this._color.value}set color(t){this._color.setValue(t);const[i,r,l]=this._color.toArray();this.uniforms.uColor[0]=i,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=l}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get quality(){return this.uniforms.uQuality}set quality(t){this.uniforms.uQuality=t}get knockout(){return this.uniforms.uKnockout===1}set knockout(t){this.uniforms.uKnockout=t?1:0}};Uc(lv,"DEFAULT_OPTIONS",{distance:10,outerStrength:4,innerStrength:0,color:16777215,alpha:1,quality:.1,knockout:!1});let hc=lv;var dA=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uThickness;
uniform vec3 uColor;
uniform float uAlpha;
uniform float uKnockout;

uniform vec4 uInputClamp;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${ANGLE_STEP};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture(uTexture, clamp(displacedPos, uInputClamp.xy, uInputClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture(uTexture, vTextureCoord);
    vec4 contentColor = sourceColor * float(uKnockout < 0.5);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    finalColor = contentColor + outlineColor;
}
`,pA=`struct OutlineUniforms {
  uThickness:vec2<f32>,
  uColor:vec3<f32>,
  uAlpha:f32,
  uAngleStep:f32,
  uKnockout:f32,
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> outlineUniforms : OutlineUniforms;

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {
  let sourceColor: vec4<f32> = textureSample(uTexture, uSampler, uv);
  let contentColor: vec4<f32> = sourceColor * (1. - outlineUniforms.uKnockout);
  
  let outlineAlpha: f32 = outlineUniforms.uAlpha * outlineMaxAlphaAtPos(uv) * (1. - sourceColor.a);
  let outlineColor: vec4<f32> = vec4<f32>(vec3<f32>(outlineUniforms.uColor) * outlineAlpha, outlineAlpha);
  
  return contentColor + outlineColor;
}

fn outlineMaxAlphaAtPos(uv: vec2<f32>) -> f32 {
  let thickness = outlineUniforms.uThickness;

  if (thickness.x == 0. || thickness.y == 0.) {
    return 0.;
  }
  
  let angleStep = outlineUniforms.uAngleStep;

  var displacedColor: vec4<f32>;
  var displacedPos: vec2<f32>;

  var maxAlpha: f32 = 0.;
  var displaced: vec2<f32>;
  var curColor: vec4<f32>;

  for (var angle = 0.; angle <= DOUBLE_PI; angle += angleStep)
  {
    displaced.x = uv.x + thickness.x * cos(angle);
    displaced.y = uv.y + thickness.y * sin(angle);
    curColor = textureSample(uTexture, uSampler, clamp(displaced, gfu.uInputClamp.xy, gfu.uInputClamp.zw));
    maxAlpha = max(maxAlpha, curColor.a);
  }

  return maxAlpha;
}

const DOUBLE_PI: f32 = 3.14159265358979323846264 * 2.;`,mA=Object.defineProperty,gA=(s,t,i)=>t in s?mA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Pi=(s,t,i)=>(gA(s,typeof t!="symbol"?t+"":t,i),i);const ao=class Gi extends ji{constructor(...t){let i=t[0]??{};typeof i=="number"&&(mt("6.0.0","OutlineFilter constructor params are now options object. See params: { thickness, color, quality, alpha, knockout }"),i={thickness:i},t[1]!==void 0&&(i.color=t[1]),t[2]!==void 0&&(i.quality=t[2]),t[3]!==void 0&&(i.alpha=t[3]),t[4]!==void 0&&(i.knockout=t[4])),i={...Gi.DEFAULT_OPTIONS,...i};const r=i.quality??.1,l=an.from({vertex:{source:ro,entryPoint:"mainVertex"},fragment:{source:pA,entryPoint:"mainFragment"}}),u=Pn.from({vertex:so,fragment:dA.replace(/\$\{ANGLE_STEP\}/,Gi.getAngleStep(r).toFixed(7)),name:"outline-filter"});super({gpuProgram:l,glProgram:u,resources:{outlineUniforms:{uThickness:{value:new Float32Array(2),type:"vec2<f32>"},uColor:{value:new Float32Array(3),type:"vec3<f32>"},uAlpha:{value:i.alpha,type:"f32"},uAngleStep:{value:0,type:"f32"},uKnockout:{value:i.knockout?1:0,type:"f32"}}}}),Pi(this,"uniforms"),Pi(this,"_thickness"),Pi(this,"_quality"),Pi(this,"_color"),this.uniforms=this.resources.outlineUniforms.uniforms,this.uniforms.uAngleStep=Gi.getAngleStep(r),this._color=new Me,this.color=i.color??0,Object.assign(this,i)}apply(t,i,r,l){this.uniforms.uThickness[0]=this.thickness/i.source.width,this.uniforms.uThickness[1]=this.thickness/i.source.height,t.applyFilter(this,i,r,l)}static getAngleStep(t){return parseFloat((Math.PI*2/Math.max(t*Gi.MAX_SAMPLES,Gi.MIN_SAMPLES)).toFixed(7))}get thickness(){return this._thickness}set thickness(t){this._thickness=this.padding=t}get color(){return this._color.value}set color(t){this._color.setValue(t);const[i,r,l]=this._color.toArray();this.uniforms.uColor[0]=i,this.uniforms.uColor[1]=r,this.uniforms.uColor[2]=l}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get quality(){return this._quality}set quality(t){this._quality=t,this.uniforms.uAngleStep=Gi.getAngleStep(t)}get knockout(){return this.uniforms.uKnockout===1}set knockout(t){this.uniforms.uKnockout=t?1:0}};Pi(ao,"DEFAULT_OPTIONS",{thickness:1,color:0,alpha:1,quality:.1,knockout:!1});Pi(ao,"MIN_SAMPLES",1);Pi(ao,"MAX_SAMPLES",100);let cc=ao;var yA=`
precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform vec2 uCenter;
uniform float uTime;
uniform float uSpeed;
uniform vec4 uWave;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

const float PI = 3.14159;

void main()
{
    float uAmplitude = uWave[0];
    float uWavelength = uWave[1];
    float uBrightness = uWave[2];
    float uRadius = uWave[3];

    float halfWavelength = uWavelength * 0.5 / uInputSize.x;
    float maxRadius = uRadius / uInputSize.x;
    float currentRadius = uTime * uSpeed / uInputSize.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            finalColor = texture(uTexture, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - uCenter / uInputSize.xy);
    dir.y *= uInputSize.y / uInputSize.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        finalColor = texture(uTexture, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );

    vec2 offset = diffUV * powDiff / uInputSize.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, uInputClamp.xy, uInputClamp.zw);
    vec4 color = texture(uTexture, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // finalColor = texture(uTexture, vTextureCoord + offset);

    color.rgb *= 1.0 + (uBrightness - 1.0) * p * fade;

    finalColor = color;
}
`,vA=`
struct ShockWaveUniforms {
    uTime: f32,
    uOffset: vec2<f32>,
    uSpeed: f32,
    uWave: vec4<f32>,
};

struct GlobalFilterUniforms {
    uInputSize:vec4<f32>,
    uInputPixel:vec4<f32>,
    uInputClamp:vec4<f32>,
    uOutputFrame:vec4<f32>,
    uGlobalFrame:vec4<f32>,
    uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> shockwaveUniforms : ShockWaveUniforms;

@fragment
fn mainFragment(
    @builtin(position) position: vec4<f32>,
    @location(0) uv : vec2<f32>
) -> @location(0) vec4<f32> {

    let uTime = shockwaveUniforms.uTime;
    let uOffset = shockwaveUniforms.uOffset;
    let uSpeed = shockwaveUniforms.uSpeed;
    let uAmplitude = shockwaveUniforms.uWave[0];
    let uWavelength = shockwaveUniforms.uWave[1];
    let uBrightness = shockwaveUniforms.uWave[2];
    let uRadius = shockwaveUniforms.uWave[3];
    let halfWavelength: f32 = uWavelength * 0.5 / gfu.uInputSize.x;
    let maxRadius: f32 = uRadius / gfu.uInputSize.x;
    let currentRadius: f32 = uTime * uSpeed / gfu.uInputSize.x;
    var fade: f32 = 1.0;
    var returnColorOnly: bool = false;
    
    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            returnColorOnly = true;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }
    var dir: vec2<f32> = vec2<f32>(uv - uOffset / gfu.uInputSize.xy);
    dir.y *= gfu.uInputSize.y / gfu.uInputSize.x;

    let dist:f32 = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        returnColorOnly = true;
    }

    let diffUV: vec2<f32> = normalize(dir);
    let diff: f32 = (dist - currentRadius) / halfWavelength;
    let p: f32 = 1.0 - pow(abs(diff), 2.0);
    let powDiff: f32 = 1.25 * sin(diff * PI) * p * ( uAmplitude * fade );
    let offset: vec2<f32> = diffUV * powDiff / gfu.uInputSize.xy;
    // Do clamp :
    let coord: vec2<f32> = uv + offset;
    let clampedCoord: vec2<f32> = clamp(coord, gfu.uInputClamp.xy, gfu.uInputClamp.zw);

    var clampedColor: vec4<f32> = textureSample(uTexture, uSampler, clampedCoord);
    
    if (boolVec2(coord, clampedCoord)) 
    {
        clampedColor *= max(0.0, 1.0 - length(coord - clampedCoord));
    }
    // No clamp :
    var finalColor = clampedColor;

    return select(finalColor, textureSample(uTexture, uSampler, uv), returnColorOnly);
}

fn boolVec2(x: vec2<f32>, y: vec2<f32>) -> bool
{
    if (x.x == y.x && x.y == y.y)
    {
        return true;
    }
    
    return false;
}

const PI: f32 = 3.14159265358979323846264;
`,xA=Object.defineProperty,bA=(s,t,i)=>t in s?xA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,Bc=(s,t,i)=>(bA(s,typeof t!="symbol"?t+"":t,i),i);const uv=class hv extends ji{constructor(...t){let i=t[0]??{};(Array.isArray(i)||"x"in i&&"y"in i)&&(mt("6.0.0","ShockwaveFilter constructor params are now options object. See params: { center, speed, amplitude, wavelength, brightness, radius, time }"),i={center:i,...t[1]},t[2]!==void 0&&(i.time=t[2])),i={...hv.DEFAULT_OPTIONS,...i};const r=an.from({vertex:{source:ro,entryPoint:"mainVertex"},fragment:{source:vA,entryPoint:"mainFragment"}}),l=Pn.from({vertex:so,fragment:yA,name:"shockwave-filter"});super({gpuProgram:r,glProgram:l,resources:{shockwaveUniforms:{uTime:{value:i.time,type:"f32"},uCenter:{value:i.center,type:"vec2<f32>"},uSpeed:{value:i.speed,type:"f32"},uWave:{value:new Float32Array(4),type:"vec4<f32>"}}}}),Bc(this,"uniforms"),Bc(this,"time"),this.time=0,this.uniforms=this.resources.shockwaveUniforms.uniforms,Object.assign(this,i)}apply(t,i,r,l){this.uniforms.uTime=this.time,t.applyFilter(this,i,r,l)}get center(){return this.uniforms.uCenter}set center(t){Array.isArray(t)&&(t={x:t[0],y:t[1]}),this.uniforms.uCenter=t}get centerX(){return this.uniforms.uCenter.x}set centerX(t){this.uniforms.uCenter.x=t}get centerY(){return this.uniforms.uCenter.y}set centerY(t){this.uniforms.uCenter.y=t}get speed(){return this.uniforms.uSpeed}set speed(t){this.uniforms.uSpeed=t}get amplitude(){return this.uniforms.uWave[0]}set amplitude(t){this.uniforms.uWave[0]=t}get wavelength(){return this.uniforms.uWave[1]}set wavelength(t){this.uniforms.uWave[1]=t}get brightness(){return this.uniforms.uWave[2]}set brightness(t){this.uniforms.uWave[2]=t}get radius(){return this.uniforms.uWave[3]}set radius(t){this.uniforms.uWave[3]=t}};Bc(uv,"DEFAULT_OPTIONS",{center:{x:0,y:0},speed:500,amplitude:30,wavelength:160,brightness:1,radius:-1});let fc=uv;var _A=`precision highp float;
in vec2 vTextureCoord;
out vec4 finalColor;

uniform sampler2D uTexture;
uniform float uStrength;
uniform float uNoiseScale;
uniform float uOffsetX;
uniform float uOffsetY;
uniform float uOffsetZ;
uniform float uStep;

uniform vec4 uInputSize;
uniform vec4 uInputClamp;

//Noise from: https://www.shadertoy.com/view/4sc3z2
const vec3 MOD3 = vec3(.1031,.11369,.13787);
vec3 hash33(vec3 p3)
{
	p3 = fract(p3 * MOD3);
    p3 += dot(p3, p3.yxz+19.19);
    return -1.0 + 2.0 * fract(vec3((p3.x + p3.y)*p3.z, (p3.x+p3.z)*p3.y, (p3.y+p3.z)*p3.x));
}

float simplex_noise(vec3 p)
{
    const float K1 = 0.333333333;
    const float K2 = 0.166666667;
    
    vec3 i = floor(p + (p.x + p.y + p.z) * K1);
    vec3 d0 = p - (i - (i.x + i.y + i.z) * K2);
    
    vec3 e = step(vec3(0.0), d0 - d0.yzx);
	vec3 i1 = e * (1.0 - e.zxy);
	vec3 i2 = 1.0 - e.zxy * (1.0 - e);
    
    vec3 d1 = d0 - (i1 - 1.0 * K2);
    vec3 d2 = d0 - (i2 - 2.0 * K2);
    vec3 d3 = d0 - (1.0 - 3.0 * K2);
    
    vec4 h = max(0.6 - vec4(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), 0.0);
    vec4 n = h * h * h * h * vec4(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.0)));
    
    return dot(vec4(31.316), n);
}

void main(void)
{
    float noise = simplex_noise(
                    vec3(vTextureCoord*uNoiseScale+vec2(uOffsetX, uOffsetY), uOffsetZ)
                ) * 0.5 + 0.5;

    noise += 2.0 * uStrength - 1.0;
    noise = clamp(noise, 0.0, 1.0);

    if (uStep > 0.0) {  //step > 0.5
        noise = 1.0 - step(noise, uStep);
    }

    finalColor = texture(uTexture, vTextureCoord) * noise;
}
`,SA=`struct SimplexUniforms {
  uStrength:f32,
  uNoiseScale:f32,
  uOffsetX:f32,
  uOffsetY:f32,
  uOffsetZ:f32,
  uStep:f32
};

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;

@group(0) @binding(1) var uTexture: texture_2d<f32>; 
@group(0) @binding(2) var uSampler: sampler;
@group(1) @binding(0) var<uniform> simplexUniforms : SimplexUniforms;

@fragment
fn mainFragment(
  @location(0) uv: vec2<f32>,
  @builtin(position) position: vec4<f32>
) -> @location(0) vec4<f32> {
  var noise: f32 = simplex_noise(vec3<f32>(uv * simplexUniforms.uNoiseScale + vec2<f32>(simplexUniforms.uOffsetX, simplexUniforms.uOffsetY), simplexUniforms.uOffsetZ)) * 0.5 + 0.5;
	noise = noise + (2. * simplexUniforms.uStrength - 1.);
	noise = clamp(noise, 0.0, 1.0);
	if (simplexUniforms.uStep > 0.0) {
		noise = 1. - step(noise, simplexUniforms.uStep);
	}
	return textureSample(uTexture, uSampler, uv) * noise;
}

const MOD3: vec3<f32> = vec3<f32>(0.1031, 0.11369, 0.13787);
fn hash33(p3: vec3<f32>) -> vec3<f32> {
	var p3_var = p3;
	p3_var = fract(p3_var * MOD3);
	p3_var = p3_var + (dot(p3_var, p3_var.yxz + 19.19));
	return -1. + 2. * fract(vec3<f32>((p3_var.x + p3_var.y) * p3_var.z, (p3_var.x + p3_var.z) * p3_var.y, (p3_var.y + p3_var.z) * p3_var.x));
} 

fn simplex_noise(p: vec3<f32>) -> f32 {
	let K1: f32 = 0.33333334;
	let K2: f32 = 0.16666667;
	let i: vec3<f32> = floor(p + (p.x + p.y + p.z) * K1);
	let d0: vec3<f32> = p - (i - (i.x + i.y + i.z) * K2);
	let e: vec3<f32> = step(vec3<f32>(0.), d0 - d0.yzx);
	let i1: vec3<f32> = e * (1. - e.zxy);
	let i2: vec3<f32> = 1. - e.zxy * (1. - e);
	let d1: vec3<f32> = d0 - (i1 - 1. * K2);
	let d2: vec3<f32> = d0 - (i2 - 2. * K2);
	let d3: vec3<f32> = d0 - (1. - 3. * K2);
	let h: vec4<f32> = max(vec4<f32>(0.6) - vec4<f32>(dot(d0, d0), dot(d1, d1), dot(d2, d2), dot(d3, d3)), vec4<f32>(0.0));
	let n: vec4<f32> = h * h * h * h * vec4<f32>(dot(d0, hash33(i)), dot(d1, hash33(i + i1)), dot(d2, hash33(i + i2)), dot(d3, hash33(i + 1.)));
	return dot(vec4<f32>(31.316), n);
} `,wA=Object.defineProperty,AA=(s,t,i)=>t in s?wA(s,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[t]=i,CA=(s,t,i)=>(AA(s,t+"",i),i);const cv=class fv extends ji{constructor(t){t={...fv.defaults,...t};const i=an.from({vertex:{source:ro,entryPoint:"mainVertex"},fragment:{source:SA,entryPoint:"mainFragment"}}),r=Pn.from({vertex:so,fragment:_A,name:"simplex-filter"});super({gpuProgram:i,glProgram:r,resources:{simplexUniforms:{uStrength:{value:(t==null?void 0:t.strength)??0,type:"f32"},uNoiseScale:{value:(t==null?void 0:t.noiseScale)??0,type:"f32"},uOffsetX:{value:(t==null?void 0:t.offsetX)??0,type:"f32"},uOffsetY:{value:(t==null?void 0:t.offsetY)??0,type:"f32"},uOffsetZ:{value:(t==null?void 0:t.offsetZ)??0,type:"f32"},uStep:{value:(t==null?void 0:t.step)??0,type:"f32"}}}})}get strength(){return this.resources.simplexUniforms.uniforms.uStrength}set strength(t){this.resources.simplexUniforms.uniforms.uStrength=t}get noiseScale(){return this.resources.simplexUniforms.uniforms.uNoiseScale}set noiseScale(t){this.resources.simplexUniforms.uniforms.uNoiseScale=t}get offsetX(){return this.resources.simplexUniforms.uniforms.uOffsetX}set offsetX(t){this.resources.simplexUniforms.uniforms.uOffsetX=t}get offsetY(){return this.resources.simplexUniforms.uniforms.uOffsetY}set offsetY(t){this.resources.simplexUniforms.uniforms.uOffsetY=t}get offsetZ(){return this.resources.simplexUniforms.uniforms.uOffsetZ}set offsetZ(t){this.resources.simplexUniforms.uniforms.uOffsetZ=t}get step(){return this.resources.simplexUniforms.uniforms.uStep}set step(t){this.resources.simplexUniforms.uniforms.uStep=t}};CA(cv,"defaults",{strength:.5,noiseScale:10,offsetX:0,offsetY:0,offsetZ:0,step:-1});let dc=cv;function Nc(s,t,i,r){switch(r=="-1"&&(r=TA()),t==-1&&(t=Math.floor(Math.random()*5)),t){case 1:{const l=.9*i;s.clear().rect(-l,-l,2*l,2*l).fill(r);break}case 2:{const h=2.2*i,f=Math.sqrt(3)/2*h,p=[0,0-2/3*f],m=[0-h/2,0+f/3],g=[0+h/2,0+f/3];s.clear().poly([...p,...m,...g]).fill(r);break}case 3:{const f=1.3*i,p=.7*i,m=[];for(let g=0;g<5*2;g++){const v=Math.PI/5*g,_=g%2===0?f:p,x=0+Math.cos(v)*_,C=0+Math.sin(v)*_;m.push(x,C)}s.clear().poly(m).fill(r);break}case 4:{const h=1.1*i,f=.8*i,p=1*i,m=1.5*i;s.clear().bezierCurveTo(0,0-f,0-h,0-f,0-h,0).bezierCurveTo(0-h,0+f,0,0+p,0,0+m).bezierCurveTo(0,0+p,0+h,0+f,0+h,0).bezierCurveTo(0+h,0-f,0,0-f,0,0).fill(r);break}default:s.clear().circle(0,0,i).fill(r)}return[t,r]}function TA(){let s,t;do{const i=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),l=Math.floor(Math.random()*256);t=.333*i+.333*r+.333*l,s=`#${i.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${l.toString(16).padStart(2,"0")}`}while(t<140);return s}class oa{constructor(t){this.layer=t.layers??4,this.numChildren=t.numChildren??6,this.shape_num=t.shape_num??0,this.radius=t.radius??10,this.colour=t.colour??"white",this.container=new Gn,this.children=[],this.distance=(this.radius+2)*Math.pow(3,this.layer-1),this.moveControls=[],this.motionFunc=function(r){},this.setMotionFunc(t.motionFunc??0),this.shape=new la,this.container.addChild(this.shape);const i=Nc(this.shape,this.shape_num,this.radius,this.colour);if(this.shape_num=Number(i[0]),this.colour=String(i[1]),this.shape.filters=[],t.filters&&this.addFilters(t.filters),this.layer>1){const r={...t};r.layers=this.layer-1;for(let l=0;l<this.numChildren;l++){const u=new oa(r);this.children.push(u);const h=2*Math.PI/this.numChildren;u.container.x=this.distance*Math.cos(l*h),u.container.y=this.distance*Math.sin(l*h),this.container.addChild(u.container)}}}destroy(){for(let t=0;t<this.children.length;t++)this.children[t].destroy();this.shape.destroy,this.container.destroy}setMotionFunc(t){switch(t){case 1:{this.motionFunc=function(i){const r=2*Math.PI/this.numChildren;for(let l=0;l<this.children.length;l++){const u=this.children[l].container,h=2*this.distance/3*Math.cos(l*r),f=2*this.distance/3*Math.sin(l*r),p=Math.atan2(u.y-f,u.x-h);u.x=h+this.distance/3*Math.cos(p+7*this.layer*i),u.y=f+this.distance/3*Math.sin(p+7*this.layer*i)}this.container.rotation+=this.layer*this.layer*i};break}case 2:{this.moveControls[0]=1,this.moveControls[1]=0,this.motionFunc=function(i){const r=2*Math.PI/this.numChildren;for(let l=0;l<this.children.length;l++){const u=this.children[l].container,h=-1*l*r,f=3/2*Math.PI/this.distance,p=1/2*Math.PI;Math.sqrt(Math.pow(u.x,2)+Math.pow(u.y,2)),this.moveControls[1]+=1.7*this.moveControls[0]*i*this.layer,this.moveControls[1]<=0?this.moveControls[0]=1:this.moveControls[1]>=2*Math.PI&&(this.moveControls[0]=-1),u.x=((this.moveControls[1]-p)*Math.cos(h)+this.moveControls[0]*Math.sin(this.moveControls[1])*Math.sin(h))/f,u.y=((this.moveControls[1]-p)*-1*Math.sin(h)+this.moveControls[0]*Math.sin(this.moveControls[1])*Math.cos(h))/f}this.container.rotation+=this.layer*this.layer/10*i};break}case 3:{this.moveControls[0]=-1,this.moveControls[1]=(.5+24/Math.pow(this.layer,3))*this.distance,this.moveControls[2]=1/this.layer*this.distance,this.motionFunc=function(i){const r=2*Math.PI/this.numChildren;for(let l=0;l<this.children.length;l++){const h=this.children[l].container,f=Math.sqrt(Math.pow(h.x,2)+Math.pow(h.y,2));f>=this.moveControls[1]?this.moveControls[0]=-1:f<=this.moveControls[2]&&(this.moveControls[0]=1);const p=30*(this.moveControls[0]*Math.pow(this.distance,2/3)+this.layer)*i;h.x+=p*Math.cos(l*r),h.y+=p*Math.sin(l*r)}this.container.rotation+=5*this.layer*i};break}default:this.moveControls[0]=-1,this.motionFunc=function(i){const r=2*Math.PI/this.numChildren,l=this.distance,u=1/this.layer*this.distance;for(let h=0;h<this.children.length;h++){const f=this.children[h],p=f.container;Math.sqrt(Math.pow(p.x,2)+Math.pow(p.y,2))>=l?f.moveControls[0]=-1:Math.sqrt(Math.pow(p.x,2)+Math.pow(p.y,2))<=u&&(f.moveControls[0]=1);const m=30*(f.moveControls[0]*Math.pow(this.distance,2/3)+this.layer)*i;p.x+=m*Math.cos(h*r),p.y+=m*Math.sin(h*r)}this.container.rotation+=this.layer*this.layer*i}}}setShape({shape_num:t,colour:i}){this.colour=i??this.colour,this.shape_num=t??this.shape_num;const r=Nc(this.shape,this.shape_num,this.radius,this.colour);this.shape_num=Number(r[0]),this.colour=String(r[1]);for(let l=0;l<this.children.length;l++)this.children[l].setShape({shape_num:t,colour:i})}addFilters(t){const i=this.shape.filters,r=Array.isArray(i)?[...i]:i?[i]:[];for(const l of t)switch(l){case"outline":{r.some(u=>u instanceof cc)||r.push(new cc);break}case"glow":{r.some(u=>u instanceof hc)||r.push(new hc);break}}this.shape.filters=r;for(const l of this.children)l.addFilters(t)}removeFilters(t){const i=this.shape.filters;var r=Array.isArray(i)?i:i?[i]:[];for(const l of t)switch(l){case"outline":{r=r.filter(u=>!(u instanceof cc));break}case"glow":{r=r.filter(u=>!(u instanceof hc));break}}this.shape.filters=r;for(const l of this.children)l.removeFilters(t)}motion(t){if(this.motionFunc(t),this.layer!=1)for(let i=0;i<this.children.length;i++)this.children[i].motion(t)}}var MA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function EA(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dv={exports:{}};(function(s,t){(function(){var i,r;r=function(l){return s.exports=l},i={linear:function(l,u,h,f){return h*l/f+u},easeInQuad:function(l,u,h,f){return h*(l/=f)*l+u},easeOutQuad:function(l,u,h,f){return-h*(l/=f)*(l-2)+u},easeInOutQuad:function(l,u,h,f){return(l/=f/2)<1?h/2*l*l+u:-h/2*(--l*(l-2)-1)+u},easeInCubic:function(l,u,h,f){return h*(l/=f)*l*l+u},easeOutCubic:function(l,u,h,f){return h*((l=l/f-1)*l*l+1)+u},easeInOutCubic:function(l,u,h,f){return(l/=f/2)<1?h/2*l*l*l+u:h/2*((l-=2)*l*l+2)+u},easeInQuart:function(l,u,h,f){return h*(l/=f)*l*l*l+u},easeOutQuart:function(l,u,h,f){return-h*((l=l/f-1)*l*l*l-1)+u},easeInOutQuart:function(l,u,h,f){return(l/=f/2)<1?h/2*l*l*l*l+u:-h/2*((l-=2)*l*l*l-2)+u},easeInQuint:function(l,u,h,f){return h*(l/=f)*l*l*l*l+u},easeOutQuint:function(l,u,h,f){return h*((l=l/f-1)*l*l*l*l+1)+u},easeInOutQuint:function(l,u,h,f){return(l/=f/2)<1?h/2*l*l*l*l*l+u:h/2*((l-=2)*l*l*l*l+2)+u},easeInSine:function(l,u,h,f){return-h*Math.cos(l/f*(Math.PI/2))+h+u},easeOutSine:function(l,u,h,f){return h*Math.sin(l/f*(Math.PI/2))+u},easeInOutSine:function(l,u,h,f){return-h/2*(Math.cos(Math.PI*l/f)-1)+u},easeInExpo:function(l,u,h,f){return l===0?u:h*Math.pow(2,10*(l/f-1))+u},easeOutExpo:function(l,u,h,f){return l===f?u+h:h*(-Math.pow(2,-10*l/f)+1)+u},easeInOutExpo:function(l,u,h,f){return(l/=f/2)<1?h/2*Math.pow(2,10*(l-1))+u:h/2*(-Math.pow(2,-10*--l)+2)+u},easeInCirc:function(l,u,h,f){return-h*(Math.sqrt(1-(l/=f)*l)-1)+u},easeOutCirc:function(l,u,h,f){return h*Math.sqrt(1-(l=l/f-1)*l)+u},easeInOutCirc:function(l,u,h,f){return(l/=f/2)<1?-h/2*(Math.sqrt(1-l*l)-1)+u:h/2*(Math.sqrt(1-(l-=2)*l)+1)+u},easeInElastic:function(l,u,h,f){var p,m,g;return g=1.70158,m=0,p=h,l===0||(l/=f),m||(m=f*.3),p<Math.abs(h)?(p=h,g=m/4):g=m/(2*Math.PI)*Math.asin(h/p),-(p*Math.pow(2,10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m))+u},easeOutElastic:function(l,u,h,f){var p,m,g;return g=1.70158,m=0,p=h,l===0||(l/=f),m||(m=f*.3),p<Math.abs(h)?(p=h,g=m/4):g=m/(2*Math.PI)*Math.asin(h/p),p*Math.pow(2,-10*l)*Math.sin((l*f-g)*(2*Math.PI)/m)+h+u},easeInOutElastic:function(l,u,h,f){var p,m,g;return g=1.70158,m=0,p=h,l===0||(l/=f/2),m||(m=f*(.3*1.5)),p<Math.abs(h)?(p=h,g=m/4):g=m/(2*Math.PI)*Math.asin(h/p),l<1?-.5*(p*Math.pow(2,10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m))+u:p*Math.pow(2,-10*(l-=1))*Math.sin((l*f-g)*(2*Math.PI)/m)*.5+h+u},easeInBack:function(l,u,h,f,p){return p===void 0&&(p=1.70158),h*(l/=f)*l*((p+1)*l-p)+u},easeOutBack:function(l,u,h,f,p){return p===void 0&&(p=1.70158),h*((l=l/f-1)*l*((p+1)*l+p)+1)+u},easeInOutBack:function(l,u,h,f,p){return p===void 0&&(p=1.70158),(l/=f/2)<1?h/2*(l*l*(((p*=1.525)+1)*l-p))+u:h/2*((l-=2)*l*(((p*=1.525)+1)*l+p)+2)+u},easeInBounce:function(l,u,h,f){var p;return p=i.easeOutBounce(f-l,0,h,f),h-p+u},easeOutBounce:function(l,u,h,f){return(l/=f)<1/2.75?h*(7.5625*l*l)+u:l<2/2.75?h*(7.5625*(l-=1.5/2.75)*l+.75)+u:l<2.5/2.75?h*(7.5625*(l-=2.25/2.75)*l+.9375)+u:h*(7.5625*(l-=2.625/2.75)*l+.984375)+u},easeInOutBounce:function(l,u,h,f){var p;return l<f/2?(p=i.easeInBounce(l*2,0,h,f),p*.5+u):(p=i.easeOutBounce(l*2-f,0,h,f),p*.5+h*.5+u)}},r(i)}).call(MA)})(dv);var RA=dv.exports;const vy=EA(RA);function lo(s,t){if(s){if(typeof s=="function")return s;if(typeof s=="string")return vy[s]}else return vy[t]}class OA{constructor(t){this.viewport=t,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new It(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=t=>this.handleWheel(t),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){var t;(t=this.viewport.options.events.domElement)==null||t.removeEventListener("wheel",this.wheelFunction)}down(t){if(!(this.viewport.pause||!this.viewport.visible)){if(t.pointerType==="mouse"?this.isMouseDown=!0:this.get(t.pointerId)||this.touches.push({id:t.pointerId,last:null}),this.count()===1){this.last=t.global.clone();const i=this.viewport.plugins.get("decelerate",!0),r=this.viewport.plugins.get("bounce",!0);(!i||!i.isActive())&&(!r||!r.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(t)&&this.viewport.options.stopPropagation&&t.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(t){return Math.abs(t)>=this.viewport.threshold}move(t){if(this.viewport.pause||!this.viewport.visible)return;const i=this.viewport.plugins.move(t);if(this.clickedAvailable&&this.last){const r=t.global.x-this.last.x,l=t.global.y-this.last.y;(this.checkThreshold(r)||this.checkThreshold(l))&&(this.clickedAvailable=!1)}i&&this.viewport.options.stopPropagation&&t.stopPropagation()}up(t){if(this.viewport.pause||!this.viewport.visible)return;t.pointerType==="mouse"&&(this.isMouseDown=!1),t.pointerType!=="mouse"&&this.remove(t.pointerId);const i=this.viewport.plugins.up(t);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:t,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),i&&this.viewport.options.stopPropagation&&t.stopPropagation()}getPointerPosition(t){const i=new At;return this.viewport.options.events.mapPositionToPoint(i,t.clientX,t.clientY),i}handleWheel(t){if(this.viewport.pause||!this.viewport.visible)return;const i=this.viewport.toLocal(this.getPointerPosition(t));this.viewport.left<=i.x&&i.x<=this.viewport.right&&this.viewport.top<=i.y&&i.y<=this.viewport.bottom&&this.viewport.plugins.wheel(t)&&!this.viewport.options.passiveWheel&&t.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(t){for(const i of this.touches)if(i.id===t)return i;return null}remove(t){for(let i=0;i<this.touches.length;i++)if(this.touches[i].id===t){this.touches.splice(i,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const Xr=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];let zA=class{constructor(t){this.viewport=t,this.list=[],this.plugins={}}add(t,i,r=Xr.length){const l=this.plugins[t];l&&l.destroy(),this.plugins[t]=i;const u=Xr.indexOf(t);u!==-1&&Xr.splice(u,1),Xr.splice(r,0,t),this.sort()}get(t,i){var r;return i&&(r=this.plugins[t])!=null&&r.paused?null:this.plugins[t]}update(t){for(const i of this.list)i.update(t)}resize(){for(const t of this.list)t.resize()}reset(){for(const t of this.list)t.reset()}removeAll(){this.list.forEach(t=>{t.destroy()}),this.plugins={},this.sort()}remove(t){var i;this.plugins[t]&&((i=this.plugins[t])==null||i.destroy(),delete this.plugins[t],this.viewport.emit("plugin-remove",t),this.sort())}pause(t){var i;(i=this.plugins[t])==null||i.pause()}resume(t){var i;(i=this.plugins[t])==null||i.resume()}sort(){this.list=[];for(const t of Xr)this.plugins[t]&&this.list.push(this.plugins[t])}down(t){let i=!1;for(const r of this.list)r.down(t)&&(i=!0);return i}move(t){let i=!1;for(const r of this.viewport.plugins.list)r.move(t)&&(i=!0);return i}up(t){let i=!1;for(const r of this.list)r.up(t)&&(i=!0);return i}wheel(t){let i=!1;for(const r of this.list)r.wheel(t)&&(i=!0);return i}},Ke=class{constructor(t){this.parent=t,this.paused=!1}destroy(){}down(t){return!1}move(t){return!1}up(t){return!1}wheel(t){return!1}update(t){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}};const DA={removeOnInterrupt:!1,ease:"linear",time:1e3};class UA extends Ke{constructor(t,i={}){super(t),this.startWidth=null,this.startHeight=null,this.deltaWidth=null,this.deltaHeight=null,this.width=null,this.height=null,this.time=0,this.options=Object.assign({},DA,i),this.options.ease=lo(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(t){if(this.paused)return;this.time+=t;const i=new At(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const r=this.parent.width,l=this.parent.height;this.complete(),(r!==this.parent.width||l!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:i,type:"animate"})}else{const r=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const l=this.startWidth,u=this.deltaWidth;this.parent.fitWidth(l+u*r,this.keepCenter,this.height===null)}if(this.height!==null){const l=this.startHeight,u=this.deltaHeight;this.parent.fitHeight(l+u*r,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const l=this.startX,u=this.startY,h=this.deltaX,f=this.deltaY,p=new At(this.parent.x,this.parent.y);this.parent.moveCenter(l+h*r,u+f*r),this.parent.emit("moved",{viewport:this.parent,original:p,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:i,type:"animate"})}}}const BA={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};let NA=class extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},BA,i),this.ease=lo(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const r=this.options.underflow.toLowerCase();r==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=r.indexOf("left")!==-1?-1:r.indexOf("right")!==-1?1:0,this.underflowY=r.indexOf("top")!==-1?-1:r.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(t){if(!this.paused){if(this.bounce(),this.toX){const i=this.toX;i.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),i.time>=this.options.time?(this.parent.x=i.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(i.time,i.start,i.delta,this.options.time)}if(this.toY){const i=this.toY;i.time+=t,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),i.time>=this.options.time?(this.parent.y=i.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(i.time,i.start,i.delta,this.options.time)}}}calcUnderflowX(){let t;switch(this.underflowX){case-1:t=0;break;case 1:t=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:t=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return t}calcUnderflowY(){let t;switch(this.underflowY){case-1:t=0;break;case 1:t=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:t=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return t}oob(){const t=this.options.bounceBox;if(t){const i=typeof t.x>"u"?0:t.x,r=typeof t.y>"u"?0:t.y,l=typeof t.width>"u"?this.parent.worldWidth:t.width,u=typeof t.height>"u"?this.parent.worldHeight:t.height;return{left:this.parent.left<i,right:this.parent.right>l,top:this.parent.top<r,bottom:this.parent.bottom>u,topLeft:new At(i*this.parent.scale.x,r*this.parent.scale.y),bottomRight:new At(l*this.parent.scale.x-this.parent.screenWidth,u*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new At(0,0),bottomRight:new At(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var t,i;if(this.paused)return;let r,l=this.parent.plugins.get("decelerate",!0);l&&(l.x||l.y)&&(l.x&&l.percentChangeX===((t=l.options)==null?void 0:t.friction)||l.y&&l.percentChangeY===((i=l.options)==null?void 0:i.friction))&&(r=this.oob(),(r.left&&this.left||r.right&&this.right)&&(l.percentChangeX=this.options.friction),(r.top&&this.top||r.bottom&&this.bottom)&&(l.percentChangeY=this.options.friction));const u=this.parent.plugins.get("drag",!0)||{},h=this.parent.plugins.get("pinch",!0)||{};if(l=l||{},!(u!=null&&u.active)&&!(h!=null&&h.active)&&(!this.toX||!this.toY)&&(!l.x||!l.y)){r=r||this.oob();const f=r.topLeft,p=r.bottomRight;if(!this.toX&&!l.x){let m=null;r.left&&this.left?m=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-f.x:r.right&&this.right&&(m=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-p.x),m!==null&&this.parent.x!==m&&(this.toX={time:0,start:this.parent.x,delta:m-this.parent.x,end:m},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!l.y){let m=null;r.top&&this.top?m=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-f.y:r.bottom&&this.bottom&&(m=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-p.y),m!==null&&this.parent.y!==m&&(this.toY={time:0,start:this.parent.y,delta:m-this.parent.y,end:m},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}};const HA={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class kA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},HA,i),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="none"?this.noUnderflow=!0:t==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=t.indexOf("left")!==-1?-1:t.indexOf("right")!==-1?1:0,this.underflowY=t.indexOf("top")!==-1?-1:t.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const t=new At(this.parent.x,this.parent.y),i=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,r=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,r=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,r=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,i.x=0,r=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,i.x=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let r=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,r=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,r=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,r=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,i.y=0,r=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,i.y=0,r=!0);r&&this.parent.emit("moved",{viewport:this.parent,original:t,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const GA={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class PA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},GA,i),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&t<this.options.minWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&t>this.options.maxWidth){const r=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&i<this.options.minHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&i>this.options.maxHeight){const r=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/r,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const t={x:null,y:null},i={x:null,y:null};if(typeof this.options.minScale=="number")t.x=this.options.minScale,t.y=this.options.minScale;else if(this.options.minScale!==null){const u=this.options.minScale;t.x=typeof u.x>"u"?null:u.x,t.y=typeof u.y>"u"?null:u.y}if(typeof this.options.maxScale=="number")i.x=this.options.maxScale,i.y=this.options.maxScale;else if(this.options.maxScale!==null){const u=this.options.maxScale;i.x=typeof u.x>"u"?null:u.x,i.y=typeof u.y>"u"?null:u.y}let r=this.parent.scale.x,l=this.parent.scale.y;t.x!==null&&r<t.x&&(r=t.x),i.x!==null&&r>i.x&&(r=i.x),t.y!==null&&l<t.y&&(l=t.y),i.y!==null&&l>i.y&&(l=i.y),(r!==this.parent.scale.x||l!==this.parent.scale.y)&&(this.parent.scale.set(r,l),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const LA={friction:.98,bounce:.8,minSpeed:.01},hi=16;class YA extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},LA,i),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",r=>this.handleMoved(r))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const t=this.parent.input.count();return(t===1||t>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(t){if(this.saved.length){const i=this.saved[this.saved.length-1];t.type==="clamp-x"&&t.original?i.x===t.original.x&&(i.x=this.parent.x):t.type==="clamp-y"&&t.original&&i.y===t.original.y&&(i.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const t=performance.now();for(const i of this.saved)if(i.time>=t-100){const r=t-i.time;this.x=(this.parent.x-i.x)/r,this.y=(this.parent.y-i.y)/r,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(t){t=t||{},typeof t.x<"u"&&(this.x=t.x,this.percentChangeX=this.options.friction),typeof t.y<"u"&&(this.y=t.y,this.percentChangeY=this.options.friction)}update(t){if(this.paused)return;const i=this.x||this.y,r=this.timeSinceRelease,l=this.timeSinceRelease+t;if(this.x){const u=this.percentChangeX,h=Math.log(u);this.parent.x+=this.x*hi/h*(Math.pow(u,l/hi)-Math.pow(u,r/hi)),this.x*=Math.pow(this.percentChangeX,t/hi)}if(this.y){const u=this.percentChangeY,h=Math.log(u);this.parent.y+=this.y*hi/h*(Math.pow(u,l/hi)-Math.pow(u,r/hi)),this.y*=Math.pow(this.percentChangeY,t/hi)}this.timeSinceRelease+=t,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),i&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const XA={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};let jA=class extends Ke{constructor(t,i={}){super(t),this.windowEventHandlers=[],this.options=Object.assign({},XA,i),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){const i=l=>{t.includes(l.code)&&(this.keyIsPressed=!0)},r=l=>{t.includes(l.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",r),this.addWindowEventHandler("keydown",i)}addWindowEventHandler(t,i){typeof window>"u"||(window.addEventListener(t,i),this.windowEventHandlers.push({event:t,handler:i}))}destroy(){typeof window>"u"||this.windowEventHandlers.forEach(({event:t,handler:i})=>{window.removeEventListener(t,i)})}mouseButtons(t){!t||t==="all"?this.mouse=[!0,!0,!0]:this.mouse=[t.indexOf("left")!==-1,t.indexOf("middle")!==-1,t.indexOf("right")!==-1]}parseUnderflow(){const t=this.options.underflow.toLowerCase();t==="center"?(this.underflowX=0,this.underflowY=0):(t.includes("left")?this.underflowX=-1:t.includes("right")?this.underflowX=1:this.underflowX=0,t.includes("top")?this.underflowY=-1:t.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(t){const i=t.pointerType==="mouse",r=this.parent.input.count();return!!((r===1||r>1&&!this.parent.plugins.get("pinch",!0))&&(!i||this.mouse[t.button]))}checkKeyPress(t){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&t.data.pointerType==="touch"}down(t){return this.paused||!this.options.pressDrag?!1:this.checkButtons(t)&&this.checkKeyPress(t)?(this.last={x:t.global.x,y:t.global.y},(this.parent.parent||this.parent).toLocal(this.last,void 0,this.last),this.current=t.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(t){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===t.data.pointerId){const i=t.global.x,r=t.global.y,l=this.parent.input.count();if(l===1||l>1&&!this.parent.plugins.get("pinch",!0)){const u={x:i,y:r};(this.parent.parent||this.parent).toLocal(u,void 0,u);const h=u.x-this.last.x,f=u.y-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(h)||this.yDirection&&this.parent.input.checkThreshold(f))return this.xDirection&&(this.parent.x+=(u.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(u.y-this.last.y)*this.options.factor),this.last=u,this.moved||this.parent.emit("drag-start",{event:t,screen:new At(this.last.x,this.last.y),world:this.parent.toWorld(new At(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}else this.moved=!1}return!1}up(t){if(this.paused)return!1;const i=this.parent.input.touches;if(i.length===1){const r=i[0];return r.last&&(this.last={x:r.last.x,y:r.last.y},this.current=r.id),this.moved=!1,!0}else if(this.last&&this.moved){const r=new At(this.last.x,this.last.y);return(this.parent.parent||this.parent).toGlobal(r,r,!0),this.parent.emit("drag-end",{event:t,screen:r,world:this.parent.toWorld(r),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(t){if(this.paused)return!1;if(this.options.wheel){const i=this.parent.plugins.get("wheel",!0);if(!i||!i.options.wheelZoom&&!t.ctrlKey){const r=t.deltaMode?this.options.lineHeight:1,l=[t.deltaX,t.deltaY],[u,h]=this.options.wheelSwapAxes?l.reverse():l;return this.xDirection&&(this.parent.x+=u*r*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=h*r*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||t.preventDefault(),this.parent.options.stopPropagation&&t.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const t=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,t.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,t.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,t.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,t.y=0)}};const FA={speed:0,acceleration:null,radius:null};class qA extends Ke{constructor(t,i,r={}){super(t),this.target=i,this.options=Object.assign({},FA,r),this.velocity={x:0,y:0}}update(t){if(this.paused)return;const i=this.parent.center;let r=this.target.x,l=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-i.y,2)+Math.pow(this.target.x-i.x,2))>this.options.radius){const f=Math.atan2(this.target.y-i.y,this.target.x-i.x);r=this.target.x-Math.cos(f)*this.options.radius,l=this.target.y-Math.sin(f)*this.options.radius}else return;const u=r-i.x,h=l-i.y;if(u||h)if(this.options.speed)if(this.options.acceleration){const f=Math.atan2(l-i.y,r-i.x),p=Math.sqrt(Math.pow(u,2)+Math.pow(h,2));if(p){const m=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);p>m?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*t,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*t,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const g=Math.cos(f)*this.velocity.x,v=Math.sin(f)*this.velocity.y,_=Math.abs(g)>Math.abs(u)?r:i.x+g,x=Math.abs(v)>Math.abs(h)?l:i.y+v;this.parent.moveCenter(_,x),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const f=Math.atan2(l-i.y,r-i.x),p=Math.cos(f)*this.options.speed,m=Math.sin(f)*this.options.speed,g=Math.abs(p)>Math.abs(u)?r:i.x+p,v=Math.abs(m)>Math.abs(h)?l:i.y+m;this.parent.moveCenter(g,v),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(r,l),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const VA={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};let IA=class extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},VA,i),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const t=this.options.distance;t!==null?(this.left=t,this.top=t,this.right=this.parent.screenWidth-t,this.bottom=this.parent.screenHeight-t):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(t){if(this.paused||t.pointerType!=="mouse"&&t.pointerId!==1||!this.options.allowButtons&&t.buttons!==0)return!1;const i=t.global.x,r=t.global.y;if(this.radiusSquared){const l=this.parent.toScreen(this.parent.center);if(Math.pow(l.x-i,2)+Math.pow(l.y-r,2)>=this.radiusSquared){const u=Math.atan2(l.y-r,l.x-i);this.options.linear?(this.horizontal=Math.round(Math.cos(u))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(u))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(u)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(u)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&i<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&i>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&r<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&r>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const t=this.parent.plugins.get("decelerate",!0);this.horizontal&&t&&!this.options.noDecelerate&&t.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const t=this.parent.plugins.get("decelerate",!0);this.vertical&&t&&!this.options.noDecelerate&&t.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const t=this.parent.center;this.horizontal&&(t.x+=this.horizontal*this.options.speed),this.vertical&&(t.y+=this.vertical*this.options.speed),this.parent.moveCenter(t),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}};const WA={noDrag:!1,percent:1,center:null,factor:1,axis:"all"},ZA=new At;class $A extends Ke{constructor(t,i={}){super(t),this.active=!1,this.pinching=!1,this.moved=!1,this.options=Object.assign({},WA,i)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(t){if(this.paused||!this.active)return!1;const{x:i,y:r}=(this.parent.parent||this.parent).toLocal(t.global,void 0,ZA),l=this.parent.input.touches;if(l.length>=2){const u=l[0],h=l[1],f=u.last&&h.last?Math.sqrt(Math.pow(h.last.x-u.last.x,2)+Math.pow(h.last.y-u.last.y,2)):null;if(u.id===t.pointerId?u.last={x:i,y:r,data:t}:h.id===t.pointerId&&(h.last={x:i,y:r,data:t}),f){let p;const m=new At(u.last.x+(h.last.x-u.last.x)/2,u.last.y+(h.last.y-u.last.y)/2);this.options.center||(p=this.parent.toLocal(m,this.parent.parent||this.parent));let g=Math.sqrt(Math.pow(h.last.x-u.last.x,2)+Math.pow(h.last.y-u.last.y,2));g=g===0?g=1e-10:g;const v=(1-f/g)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=v),this.isAxisY()&&(this.parent.scale.y+=v),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:m});const _=this.parent.plugins.get("clamp-zoom",!0);if(_&&_.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const x=(this.parent.parent||this.parent).toLocal(p,this.parent);this.parent.x+=(m.x-x.x)*this.options.factor,this.parent.y+=(m.y-x.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(m.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(m.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=m,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const QA={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};let KA=class extends Ke{constructor(t,i,r,l={}){super(t),this.options=Object.assign({},QA,l),this.ease=lo(l.ease,"easeInOutSine"),this.x=i,this.y=r,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const t=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-t.x,this.deltaY=this.y-t.y,this.startX=t.x,this.startY=t.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const t=this.parent.plugins.get("decelerate",!0);t&&(t.x||t.y)&&(t.percentChangeX=t.percentChangeY=this.options.friction)}return!1}update(t){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const i=this.snapping;i.time+=t;let r,l,u;const h=this.startX,f=this.startY,p=this.deltaX,m=this.deltaY;if(i.time>this.options.time)r=!0,l=h+p,u=f+m;else{const g=this.ease(i.time,0,1,this.options.time);l=h+p*g,u=f+m*g}this.options.topLeft?this.parent.moveCorner(l,u):this.parent.moveCenter(l,u),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),r&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const i=this.options.topLeft?this.parent.corner:this.parent.center;(i.x!==this.x||i.y!==this.y)&&this.snapStart()}}};const JA={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class t3 extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},JA,i),this.ease=lo(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=t.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=t.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(t.container.scale.x=this.xScale,t.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):i.forceStart&&this.createSnapping()}createSnapping(){const t=this.parent.worldScreenWidth,i=this.parent.worldScreenHeight,r=this.parent.screenWidth/this.xScale,l=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:t,startY:i,deltaX:r-t,deltaY:l-i},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(t){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let i;if(!this.options.center&&!this.options.noMove&&(i=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const r=this.snapping;if(r.time+=t,r.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const u=this.snapping,h=this.ease(u.time,u.startX,u.deltaX,this.options.time),f=this.ease(u.time,u.startY,u.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/h,this.parent.scale.y=this.parent.screenHeight/f}const l=this.parent.plugins.get("clamp-zoom",!0);l&&l.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(i))}}resume(){this.snapping=null,super.resume()}}const e3={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};let n3=class extends Ke{constructor(t,i={}){super(t),this.options=Object.assign({},e3,i),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(t){typeof window>"u"||(window.addEventListener("keydown",i=>{t.includes(i.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",i=>{t.includes(i.code)&&(this.keyIsPressed=!1)}))}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const t=this.smoothingCenter,i=this.smoothing;let r;this.options.center||(r=this.parent.toLocal(t)),this.isAxisX()&&(this.parent.scale.x+=i.x),this.isAxisY()&&(this.parent.scale.y+=i.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const l=this.parent.plugins.get("clamp-zoom",!0);if(l&&l.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const u=this.parent.parent||this.parent;u.toLocal(r,this.parent,r);const h=u.toLocal(t);this.parent.x+=h.x-r.x,this.parent.y+=h.y-r.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,typeof this.options.smooth=="number"&&this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(t){if(this.paused)return;const i=this.parent.input.getPointerPosition(t),r=-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/200,l=Math.pow(2,(1+this.options.percent)*r);let u;this.options.center||(u=this.parent.toLocal(i)),this.isAxisX()&&(this.parent.scale.x*=l),this.isAxisY()&&(this.parent.scale.y*=l),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const h=this.parent.plugins.get("clamp-zoom",!0);if(h&&h.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.parent||this.parent;f.toLocal(u,this.parent,u);const p=f.toLocal(i);this.parent.x+=p.x-u.x,this.parent.y+=p.y-u.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}wheel(t){if(this.paused||!this.checkKeyPress())return!1;if(t.ctrlKey&&this.options.trackpadPinch)this.pinch(t);else if(this.options.wheelZoom){const i=this.parent.input.getPointerPosition(t),r=(this.options.reverse?-1:1)*-t.deltaY*(t.deltaMode?this.options.lineHeight:1)/500,l=Math.pow(2,(1+this.options.percent)*r);if(this.options.smooth){const u={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+u.x)*l-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+u.y)*l-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=i}else{let u;this.options.center||(u=this.parent.toLocal(i)),this.isAxisX()&&(this.parent.scale.x*=l),this.isAxisY()&&(this.parent.scale.y*=l),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const h=this.parent.plugins.get("clamp-zoom",!0);if(h&&h.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const f=this.parent.parent||this.parent;f.toLocal(u,this.parent,u);const p=f.toLocal(i);this.parent.x+=p.x-u.x,this.parent.y+=p.y-u.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:t,viewport:this.parent})}return!this.parent.options.passiveWheel}};const i3={screenWidth:typeof window>"u"?0:window.innerWidth,screenHeight:typeof window>"u"?0:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:qr.shared,allowPreserveDragOutside:!1};class s3 extends Gn{constructor(t){super(),this._disableOnContextMenu=i=>i.preventDefault(),this.options={...i3,...t},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new OA(this),this.plugins=new zA(this)}destroy(t){var i;!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&((i=this.options.events.domElement)==null||i.removeEventListener("contextmenu",this._disableOnContextMenu)),this.input.destroy(),super.destroy(t)}update(t){this.pause||(this.plugins.update(t),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new It(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(t=typeof window>"u"?0:window.innerWidth,i=typeof window>"u"?0:window.innerHeight,r,l){this.screenWidth=t,this.screenHeight=i,typeof r<"u"&&(this._worldWidth=r),typeof l<"u"&&(this._worldHeight=l),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(t){this._worldWidth=t,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(t){this._worldHeight=t,this.plugins.resize()}getVisibleBounds(){return new It(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(t,i){return arguments.length===2?this.toLocal(new At(t,i)):this.toLocal(t)}toScreen(t,i){return arguments.length===2?this.toGlobal(new At(t,i)):this.toGlobal(t)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new At(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(t){this.moveCenter(t)}moveCenter(...t){let i,r;typeof t[0]=="number"?(i=t[0],r=t[1]):(i=t[0].x,r=t[0].y);const l=(this.worldScreenWidth/2-i)*this.scale.x,u=(this.worldScreenHeight/2-r)*this.scale.y;return(this.x!==l||this.y!==u)&&(this.position.set(l,u),this.plugins.reset(),this.dirty=!0),this}get corner(){return new At(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(t){this.moveCorner(t)}moveCorner(...t){let i,r;return t.length===1?(i=-t[0].x*this.scale.x,r=-t[0].y*this.scale.y):(i=-t[0]*this.scale.x,r=-t[1]*this.scale.y),(i!==this.x||r!==this.y)&&(this.position.set(i,r),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(t){return this.screenWidth/t}findFitHeight(t){return this.screenHeight/t}findFit(t,i){const r=this.screenWidth/t,l=this.screenHeight/i;return Math.min(r,l)}findCover(t,i){const r=this.screenWidth/t,l=this.screenHeight/i;return Math.max(r,l)}fitWidth(t=this.worldWidth,i,r=!0,l){let u;i&&(u=this.center),this.scale.x=this.screenWidth/t,r&&(this.scale.y=this.scale.x);const h=this.plugins.get("clamp-zoom",!0);return!l&&h&&h.clamp(),i&&u&&this.moveCenter(u),this}fitHeight(t=this.worldHeight,i,r=!0,l){let u;i&&(u=this.center),this.scale.y=this.screenHeight/t,r&&(this.scale.x=this.scale.y);const h=this.plugins.get("clamp-zoom",!0);return!l&&h&&h.clamp(),i&&u&&this.moveCenter(u),this}fitWorld(t){let i;t&&(i=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const r=this.plugins.get("clamp-zoom",!0);return r&&r.clamp(),t&&i&&this.moveCenter(i),this}fit(t,i=this.worldWidth,r=this.worldHeight){let l;t&&(l=this.center),this.scale.x=this.screenWidth/i,this.scale.y=this.screenHeight/r,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const u=this.plugins.get("clamp-zoom",!0);return u&&u.clamp(),t&&l&&this.moveCenter(l),this}setZoom(t,i){let r;i&&(r=this.center),this.scale.set(t);const l=this.plugins.get("clamp-zoom",!0);return l&&l.clamp(),i&&r&&this.moveCenter(r),this}zoomPercent(t,i){return this.setZoom(this.scale.x+this.scale.x*t,i)}zoom(t,i){return this.fitWidth(t+this.worldScreenWidth,i),this}get scaled(){return this.scale.x}set scaled(t){this.setZoom(t,!0)}snapZoom(t){return this.plugins.add("snap-zoom",new t3(this,t)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new At(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(t){this.x=-t*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(t){this.x=-t*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(t){this.y=-t*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(t){this.y=-t*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(t){this._dirty=t}get forceHitArea(){return this._forceHitArea}set forceHitArea(t){t?(this._forceHitArea=t,this.hitArea=t):(this._forceHitArea=null,this.hitArea=new It(0,0,this.worldWidth,this.worldHeight))}drag(t){return this.plugins.add("drag",new jA(this,t)),this}clamp(t){return this.plugins.add("clamp",new kA(this,t)),this}decelerate(t){return this.plugins.add("decelerate",new YA(this,t)),this}bounce(t){return this.plugins.add("bounce",new NA(this,t)),this}pinch(t){return this.plugins.add("pinch",new $A(this,t)),this}snap(t,i,r){return this.plugins.add("snap",new KA(this,t,i,r)),this}follow(t,i){return this.plugins.add("follow",new qA(this,t,i)),this}wheel(t){return this.plugins.add("wheel",new n3(this,t)),this}animate(t){return this.plugins.add("animate",new UA(this,t)),this}clampZoom(t){return this.plugins.add("clamp-zoom",new PA(this,t)),this}mouseEdges(t){return this.plugins.add("mouse-edges",new IA(this,t)),this}get pause(){return!!this._pause}set pause(t){this._pause=t,this.lastViewport=null,this.moving=!1,this.zooming=!1,t&&this.input.pause()}ensureVisible(t,i,r,l,u){u&&(r>this.worldScreenWidth||l>this.worldScreenHeight)&&(this.fit(!0,r,l),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let h=!1;t<this.left?(this.left=t,h=!0):t+r>this.right&&(this.right=t+r,h=!0),i<this.top?(this.top=i,h=!0):i+l>this.bottom&&(this.bottom=i+l,h=!0),h&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}class oo{constructor(){this.app=new $l,this.viewport=null,this.zoom=!1}addZoom(t,i,r){this.zoom=r,this.viewport&&this.viewport.destroy(),this.viewport=new s3({screenWidth:t,screenHeight:i,events:this.app.renderer.events}),r&&this.viewport.drag().pinch().wheel(),this.app.stage.addChild(this.viewport)}static async create({canvas:t,height:i,width:r,background:l,zoom:u}){const h=new oo;return h.app=new $l,await h.app.init({canvas:t,background:l??"black",width:r,height:i}),h.addZoom(r,i,u??!1),h.app.stage.filters=[],h}refreshZoom(){this.viewport&&(this.viewport.setZoom(1),this.viewport.moveCenter(0,0))}addChild(t){this.viewport&&this.viewport.addChild(t)}removeChild(t){this.viewport&&this.viewport.removeChild(t)}addFilters(t){const i=this.app.stage.filters,r=Array.isArray(i)?[...i]:i?[i]:[];for(const l of t)switch(l){case"blur":{r.some(u=>u instanceof ql)||r.push(new ql);break}case"bloom":{r.some(u=>u instanceof uc)||r.push(new uc);break}case"shockwave":{r.some(u=>u instanceof fc)||r.push(new fc);break}case"noise":{r.some(u=>u instanceof dc)||r.push(new dc);break}}this.app.stage.filters=r}removeFilters(t){const i=this.app.stage.filters;var r=Array.isArray(i)?i:i?[i]:[];for(const l of t)switch(l){case"blur":{r=r.filter(u=>!(u instanceof ql));break}case"bloom":{r=r.filter(u=>!(u instanceof uc));break}case"shockwave":{r=r.filter(u=>!(u instanceof fc));break}case"noise":{r=r.filter(u=>!(u instanceof dc));break}}this.app.stage.filters=r}}const Ql=["blur","bloom","noise"],Jr=["glow","outline"],r3=[...Ql,...Jr],a3=[0,1,2,3,4],l3=[0,1,2,3];function o3(s){const t=P.useRef(null),i=P.useRef(null),r=P.useRef(null),l=P.useRef(null),[u,h]=P.useState(null),[f,p]=P.useState([]),m=P.useRef(1);return P.useLayoutEffect(()=>{if(t.current){const g=Math.min(t.current.getBoundingClientRect().width,window.innerHeight);h(g)}},[]),P.useEffect(()=>{if(!i.current||u===null)return;const g=i.current;(async()=>{l.current=await oo.create({canvas:g,height:u,width:u,zoom:!0});const v=_=>{_.preventDefault()};g.addEventListener("wheel",v,{passive:!1}),r.current=new oa({radius:u/80}),r.current.container.position.set(0,0),l.current.refreshZoom(),l.current.addChild(r.current.container),l.current.app.ticker.add(_=>{r.current&&r.current.motion(m.current*.001*_.deltaTime)})})()},[u]),P.useEffect(()=>{if(!(!l.current||!u)){l.current.refreshZoom(),r.current&&(l.current.removeChild(r.current.container),r.current.destroy()),r.current=new oa({layers:s.layers,radius:u/80,numChildren:s.children,colour:s.colour,motionFunc:s.func,shape_num:s.shape}),r.current.container.position.set(0,0),l.current.addChild(r.current.container);for(const g of s.filters)Jr.includes(g)&&r.current.addFilters([g])}},[s.layers,s.children,s.func]),P.useEffect(()=>{if(!r.current||!l.current)return;const g=s.filters.filter(_=>!f.includes(_)),v=f.filter(_=>!s.filters.includes(_));if(g.length>0)for(const _ of g)Jr.includes(_)?r.current.addFilters([_]):Ql.includes(_)&&l.current.addFilters([_]);if(v.length>0)for(const _ of v)Jr.includes(_)?r.current.removeFilters([_]):Ql.includes(_)&&l.current.removeFilters([_]);p(s.filters)},[s.filters]),P.useEffect(()=>{m.current=s.speed},[s.speed]),P.useEffect(()=>{var g;(g=r.current)==null||g.setShape({colour:s.colour=="#NaNNaNNaN"?"#ffffff":s.colour})},[s.colour]),P.useEffect(()=>{var g;(g=r.current)==null||g.setShape({shape_num:s.shape})},[s.shape]),P.useEffect(()=>{var g;(g=l.current)==null||g.refreshZoom()},[s.onZoom]),F.jsx("div",{className:"interactive__art",ref:t,children:u&&F.jsx("canvas",{ref:i})})}function ci(s){const t={...s};t.filters=[];var i=[];if(s.filters)for(const m of s.filters)Jr.includes(m)?t.filters.push(m):Ql.includes(m)&&i.push(m);const r=P.useRef(null),l=P.useRef(null),u=P.useRef(null),h=P.useRef(null),[f,p]=P.useState(null);return P.useLayoutEffect(()=>{if(r.current){const m=r.current.getBoundingClientRect().width;p(m)}},[]),P.useEffect(()=>{if(!l.current||f===null)return;t.radius=s.radius??f/80;const m=l.current;(async()=>(h.current=await oo.create({canvas:m,height:f,width:f}),h.current.addFilters(i),u.current=new oa(t),u.current.container.position.set(0,0),h.current.refreshZoom(),h.current.addChild(u.current.container),h.current.app.ticker.add(g=>{u.current&&u.current.motion(.001*g.deltaTime)})))()},[f]),F.jsx("div",{ref:r,style:{width:"100%"},children:f&&F.jsx("canvas",{ref:l})})}const u3={galleries:[{name:"Spin Art",preview:F.jsx(ci,{}),link:"/gallery/spin"}]};function pv(){P.useEffect(()=>{const s=new IntersectionObserver(i=>{for(const r of i)r.isIntersecting&&(r.target.classList.add("visible"),s.unobserve(r.target))},{threshold:.1});return document.querySelectorAll(".tile").forEach(i=>s.observe(i)),()=>s.disconnect()},[])}function h3(){return pv(),F.jsx(c3,{galleries:u3.galleries})}function c3({galleries:s}){return F.jsxs("main",{children:[F.jsx("section",{className:"home-section",children:F.jsxs("div",{className:"section-content home-section-content",children:[F.jsx("img",{src:Xy,alt:"Math Art Logo",className:"home-logo"}),F.jsx("h1",{className:"section-head",children:"Welcome to Math Art!"})]})}),F.jsx("section",{className:"featured featured-galleries",children:F.jsxs("div",{className:"section-content",children:[F.jsx("h1",{className:"section-head",children:"Featured Galleries"}),F.jsx("ul",{role:"list",className:"section-tiles",children:s.map((t,i)=>F.jsx("li",{role:"listitem",className:"tile-item nr-scroll-animation item-2up",style:{"--nr-animation-transform-y":"20%"},children:F.jsxs(Li,{to:t.link??"/",className:"tile tile-2up small-loaded medium-loaded large-loaded",children:[F.jsx("div",{className:"tile__media","aria-hidden":"true",children:t.preview}),F.jsx("div",{className:"tile__description","aria-hidden":"true",children:F.jsx("div",{className:"tile__head",children:F.jsx("h2",{children:t.name})})})]})},i))})]})})]})}const f3={title:"Spin Art",featured:{name:"The Classic",description:F.jsxs(F.Fragment,{children:[F.jsx("p",{children:"This Gallery explores the Artistic potential of nested spining"}),F.jsx("p",{children:"The Classic Spin Art is composed of two simple motions:"}),F.jsxs("ul",{children:[F.jsx("li",{children:"Each child spins around the parent at contant speed"}),F.jsx("li",{children:"Each child moves closer or further away from the parent at constant speed"})]}),F.jsx("p",{children:"Putting these simple motions togther and nesting them within eachother give you -- The Classic Spin Art!"})]}),preview:F.jsx(ci,{}),link:"/art/spin-classic"},gallery:[{name:"Lovely Dance",preview:F.jsx(ci,{shape_num:4,motionFunc:1,colour:"#ff00ff"})},{name:"Glow with the Stars",preview:F.jsx(ci,{numChildren:5,shape_num:3,colour:"yellow",filters:["glow"]})},{name:"Clovers",preview:F.jsx(ci,{numChildren:3,shape_num:2,colour:"00aa00",filters:["bloom"]})},{name:"Behind the Mist",preview:F.jsx(ci,{numChildren:8,shape_num:1,colour:"ff0000",filters:["noise","blur"]})},{name:"The Absolute Chaos",preview:F.jsx(ci,{numChildren:7,shape_num:-1,motionFunc:3,colour:"-1",filters:["outline"]})}]};function d3(){const{id:s}=By();if(pv(),s==="spin"){const t=f3;return F.jsx(p3,{title:t.title,featured:t.featured,gallery:t.gallery})}else return F.jsx("div",{children:"Artwork Note Found."})}function p3({title:s,featured:t,gallery:i}){return F.jsxs(F.Fragment,{children:[F.jsx("section",{className:"featured featured-display",children:F.jsxs("div",{className:"section-content",children:[F.jsx("h1",{className:"section-head",children:s}),F.jsx("ul",{role:"list",className:"section-tiles",children:F.jsx("li",{role:"listitem",className:"tile-item item-hero",children:F.jsxs("div",{className:"tile tile-hero","aria-label":"",children:[F.jsx("div",{className:"tile__media","aria-hidden":"true",children:t.preview}),F.jsxs("div",{className:"tile__description","aria-hidden":"true",children:[F.jsxs("div",{className:"tile__head",children:[F.jsx("h2",{children:t.name}),t.description]}),F.jsx(Li,{to:t.link??"/",className:"button art-page-link",target:"_blank",rel:"noopener noreferrer",children:"Customize this piece"})]})]})},"1")})]})}),F.jsx("section",{className:"variations",children:F.jsxs("div",{className:"section-content",children:[F.jsx("h1",{className:"section-head",children:"Variations"}),F.jsx("ul",{role:"list",className:"section-tiles",children:i.map((r,l)=>F.jsx("li",{role:"listitem",className:"tile-item item-2up",children:F.jsxs("div",{className:"tile tile-2up","aria-label":"",children:[F.jsx("div",{className:"tile__media","aria-hidden":"true",children:r.preview}),F.jsx("div",{className:"tile__description","aria-hidden":"true",children:F.jsx("div",{className:"tile__head",children:F.jsx("h2",{children:r.name})})})]})},l))})]})})]})}function uo(){return(uo=Object.assign||function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s}).apply(this,arguments)}function mv(s,t){if(s==null)return{};var i,r,l={},u=Object.keys(s);for(r=0;r<u.length;r++)t.indexOf(i=u[r])>=0||(l[i]=s[i]);return l}function Hc(s){var t=P.useRef(s),i=P.useRef(function(r){t.current&&t.current(r)});return t.current=s,i.current}var ua=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=1),s>i?i:s<t?t:s},ta=function(s){return"touches"in s},kc=function(s){return s&&s.ownerDocument.defaultView||self},xy=function(s,t,i){var r=s.getBoundingClientRect(),l=ta(t)?function(u,h){for(var f=0;f<u.length;f++)if(u[f].identifier===h)return u[f];return u[0]}(t.touches,i):t;return{left:ua((l.pageX-(r.left+kc(s).pageXOffset))/r.width),top:ua((l.pageY-(r.top+kc(s).pageYOffset))/r.height)}},by=function(s){!ta(s)&&s.preventDefault()},gv=me.memo(function(s){var t=s.onMove,i=s.onKey,r=mv(s,["onMove","onKey"]),l=P.useRef(null),u=Hc(t),h=Hc(i),f=P.useRef(null),p=P.useRef(!1),m=P.useMemo(function(){var x=function(A){by(A),(ta(A)?A.touches.length>0:A.buttons>0)&&l.current?u(xy(l.current,A,f.current)):O(!1)},C=function(){return O(!1)};function O(A){var M=p.current,D=kc(l.current),B=A?D.addEventListener:D.removeEventListener;B(M?"touchmove":"mousemove",x),B(M?"touchend":"mouseup",C)}return[function(A){var M=A.nativeEvent,D=l.current;if(D&&(by(M),!function(q,I){return I&&!ta(q)}(M,p.current)&&D)){if(ta(M)){p.current=!0;var B=M.changedTouches||[];B.length&&(f.current=B[0].identifier)}D.focus(),u(xy(D,M,f.current)),O(!0)}},function(A){var M=A.which||A.keyCode;M<37||M>40||(A.preventDefault(),h({left:M===39?.05:M===37?-.05:0,top:M===40?.05:M===38?-.05:0}))},O]},[h,u]),g=m[0],v=m[1],_=m[2];return P.useEffect(function(){return _},[_]),me.createElement("div",uo({},r,{onTouchStart:g,onMouseDown:g,className:"react-colorful__interactive",ref:l,onKeyDown:v,tabIndex:0,role:"slider"}))}),sf=function(s){return s.filter(Boolean).join(" ")},yv=function(s){var t=s.color,i=s.left,r=s.top,l=r===void 0?.5:r,u=sf(["react-colorful__pointer",s.className]);return me.createElement("div",{className:u,style:{top:100*l+"%",left:100*i+"%"}},me.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},ce=function(s,t,i){return t===void 0&&(t=0),i===void 0&&(i=Math.pow(10,t)),Math.round(i*s)/i},m3=function(s){return b3(Gc(s))},Gc=function(s){return s[0]==="#"&&(s=s.substring(1)),s.length<6?{r:parseInt(s[0]+s[0],16),g:parseInt(s[1]+s[1],16),b:parseInt(s[2]+s[2],16),a:s.length===4?ce(parseInt(s[3]+s[3],16)/255,2):1}:{r:parseInt(s.substring(0,2),16),g:parseInt(s.substring(2,4),16),b:parseInt(s.substring(4,6),16),a:s.length===8?ce(parseInt(s.substring(6,8),16)/255,2):1}},g3=function(s){return x3(v3(s))},y3=function(s){var t=s.s,i=s.v,r=s.a,l=(200-t)*i/100;return{h:ce(s.h),s:ce(l>0&&l<200?t*i/100/(l<=100?l:200-l)*100:0),l:ce(l/2),a:ce(r,2)}},Pc=function(s){var t=y3(s);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},v3=function(s){var t=s.h,i=s.s,r=s.v,l=s.a;t=t/360*6,i/=100,r/=100;var u=Math.floor(t),h=r*(1-i),f=r*(1-(t-u)*i),p=r*(1-(1-t+u)*i),m=u%6;return{r:ce(255*[r,f,h,h,p,r][m]),g:ce(255*[p,r,r,f,h,h][m]),b:ce(255*[h,h,p,r,r,f][m]),a:ce(l,2)}},Pl=function(s){var t=s.toString(16);return t.length<2?"0"+t:t},x3=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=l<1?Pl(ce(255*l)):"";return"#"+Pl(t)+Pl(i)+Pl(r)+u},b3=function(s){var t=s.r,i=s.g,r=s.b,l=s.a,u=Math.max(t,i,r),h=u-Math.min(t,i,r),f=h?u===t?(i-r)/h:u===i?2+(r-t)/h:4+(t-i)/h:0;return{h:ce(60*(f<0?f+6:f)),s:ce(u?h/u*100:0),v:ce(u/255*100),a:l}},_3=me.memo(function(s){var t=s.hue,i=s.onChange,r=sf(["react-colorful__hue",s.className]);return me.createElement("div",{className:r},me.createElement(gv,{onMove:function(l){i({h:360*l.left})},onKey:function(l){i({h:ua(t+360*l.left,0,360)})},"aria-label":"Hue","aria-valuenow":ce(t),"aria-valuemax":"360","aria-valuemin":"0"},me.createElement(yv,{className:"react-colorful__hue-pointer",left:t/360,color:Pc({h:t,s:100,v:100,a:1})})))}),S3=me.memo(function(s){var t=s.hsva,i=s.onChange,r={backgroundColor:Pc({h:t.h,s:100,v:100,a:1})};return me.createElement("div",{className:"react-colorful__saturation",style:r},me.createElement(gv,{onMove:function(l){i({s:100*l.left,v:100-100*l.top})},onKey:function(l){i({s:ua(t.s+100*l.left,0,100),v:ua(t.v-100*l.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+ce(t.s)+"%, Brightness "+ce(t.v)+"%"},me.createElement(yv,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:Pc(t)})))}),vv=function(s,t){if(s===t)return!0;for(var i in s)if(s[i]!==t[i])return!1;return!0},w3=function(s,t){return s.toLowerCase()===t.toLowerCase()||vv(Gc(s),Gc(t))};function A3(s,t,i){var r=Hc(i),l=P.useState(function(){return s.toHsva(t)}),u=l[0],h=l[1],f=P.useRef({color:t,hsva:u});P.useEffect(function(){if(!s.equal(t,f.current.color)){var m=s.toHsva(t);f.current={hsva:m,color:t},h(m)}},[t,s]),P.useEffect(function(){var m;vv(u,f.current.hsva)||s.equal(m=s.fromHsva(u),f.current.color)||(f.current={hsva:u,color:m},r(m))},[u,s,r]);var p=P.useCallback(function(m){h(function(g){return Object.assign({},g,m)})},[]);return[u,p]}var C3=typeof window<"u"?P.useLayoutEffect:P.useEffect,T3=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},_y=new Map,M3=function(s){C3(function(){var t=s.current?s.current.ownerDocument:document;if(t!==void 0&&!_y.has(t)){var i=t.createElement("style");i.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,_y.set(t,i);var r=T3();r&&i.setAttribute("nonce",r),t.head.appendChild(i)}},[])},E3=function(s){var t=s.className,i=s.colorModel,r=s.color,l=r===void 0?i.defaultColor:r,u=s.onChange,h=mv(s,["className","colorModel","color","onChange"]),f=P.useRef(null);M3(f);var p=A3(i,l,u),m=p[0],g=p[1],v=sf(["react-colorful",t]);return me.createElement("div",uo({},h,{ref:f,className:v}),me.createElement(S3,{hsva:m,onChange:g}),me.createElement(_3,{hue:m.h,onChange:g,className:"react-colorful__last-control"}))},R3={defaultColor:"000",toHsva:m3,fromHsva:function(s){return g3({h:s.h,s:s.s,v:s.v,a:1})},equal:w3},O3=function(s){return me.createElement(E3,uo({},s,{colorModel:R3}))};function Sy({name:s,value:t,type:i,onClick:r}){return F.jsx("button",{onClick:()=>r(),className:`art-control-btn text-btn chaos-btn${" "+i}${s==t?" active":""}`,children:"Chaos"},s)}function z3({onClick:s}){return F.jsx("button",{className:"art-control-btn zoom-btn text-btn",onClick:()=>{s()},children:"Reset Zoom"})}function wy({value:s,setValue:t,min:i=2,max:r=8}){const[l,u]=P.useState(s.toString()),h=P.useRef(null),f=()=>{let p=parseInt(l,10);isNaN(p)&&(p=s),p=Math.min(r,Math.max(i,p)),t(p),u(p.toString())};return F.jsx("input",{className:"input__box",type:"number",min:i,max:r,value:l,onChange:p=>{u(p.target.value)},onKeyDown:p=>{h.current=p.key,p.key==="Enter"&&f(),["e","E","+","-"].includes(p.key)&&p.preventDefault()},onBlur:f})}function D3({size:s,name:t,shape:i,colour:r,onClick:l}){const u=P.useRef(null);return P.useEffect(()=>{if(!u.current)return;const h=u.current;(async()=>{const f=new $l;await f.init({canvas:h,backgroundAlpha:0,width:s,height:s});const p=new la;Nc(p,t,s/3,r),f.stage.addChild(p),p.position.set(s/2,s/2)})()},[]),F.jsx("button",{onClick:()=>l(),className:`art-control-btn graphic-btn shape-btn${t==i?" active":""}`,children:F.jsx("canvas",{ref:u})},t)}function U3({size:s,name:t,func:i,onClick:r}){return F.jsx("button",{onClick:()=>r(i),className:`art-control-btn graphic-btn motion-btn${t==i?" active":""}`,style:{height:s,width:s},children:F.jsx(ci,{layers:2,motionFunc:t,radius:5})})}function B3({name:s,filters:t,onClick:i}){return F.jsx("button",{onClick:()=>i(),className:`art-control-btn text-btn filter-btn${t.includes(s)?" active":""}`,children:s})}function N3(){const[s,t]=P.useState(1),[i,r]=P.useState(6),[l,u]=P.useState(4),[h,f]=P.useState("#ffffff"),[p,m]=P.useState([]),[g,v]=P.useState(0),[_,x]=P.useState(0),[C,O]=P.useState(!1);return{title:"Spin Art",art:F.jsx(o3,{speed:s,layers:l,children:i,shape:g,func:_,colour:h,filters:p,onZoom:C}),controls:[{description:"Zoom:",input:F.jsx(z3,{onClick:()=>O(!C)})},{description:"Speed:",input:F.jsxs(F.Fragment,{children:[F.jsx("input",{type:"range",min:"0",max:"4",step:"0.1",value:s,onChange:A=>t(parseFloat(A.target.value)),className:"range-slider"}),F.jsxs("span",{className:"range-value",children:[s.toFixed(1),"x"]})]})},{description:"Children:",input:F.jsx(wy,{value:i,setValue:r,min:2,max:8})},{description:"Layers:",input:F.jsx(wy,{value:l,setValue:u,min:2,max:6})},{description:"Shape Color:",input:F.jsxs("div",{className:"art-controls-btn-wrapper",children:[F.jsx(O3,{color:h,onChange:A=>{f(A)}}),F.jsx("div",{className:"btn-wrapper",children:F.jsx(Sy,{name:"-1",value:h,type:"colour-btn",onClick:()=>{f("-1")}})})]})},{description:"Shapes:",input:F.jsxs("div",{className:"art-controls-btn-wrapper",children:[a3.map(A=>F.jsx("div",{className:"btn-wrapper",children:F.jsx(D3,{size:30,name:A,shape:g,colour:"white",onClick:()=>v(A)},A)})),F.jsx("div",{className:"btn-wrapper",children:F.jsx(Sy,{name:-1,value:g,type:"shape-btn",onClick:()=>v(-1)})})]})},{description:"Motion:",input:F.jsx("div",{className:"art-controls-btn-wrapper",children:l3.map(A=>F.jsx("div",{className:"btn-wrapper",children:F.jsx(U3,{size:50,name:A,func:_,onClick:()=>x(A)},A)}))})},{description:"Filters:",input:F.jsx("div",{className:"art-controls-btn-wrapper",children:r3.map(A=>F.jsx("div",{className:"btn-wrapper",children:F.jsx(B3,{name:A,filters:p,onClick:()=>m(M=>M.includes(A)?M.filter(D=>D!==A):[...M,A])},A)}))})}]}}function H3(){const{id:s}=By();if(s==="spin-classic"){const t=N3();return F.jsx(k3,{title:t.title,art:t.art,controls:t.controls})}else return F.jsx("div",{children:"Artwork Note Found."})}function k3({title:s,art:t,controls:i}){return F.jsxs("section",{className:"interactive",children:[F.jsxs("div",{className:"interactive__controls",children:[F.jsx("h1",{className:"section-head",children:s}),F.jsx("div",{children:i.map((r,l)=>F.jsxs("div",{className:"control",children:[F.jsx("div",{className:"control__description",children:r.description}),F.jsx("div",{className:"control__input",children:r.input})]},l))})]}),t]})}function G3(){return F.jsx("main",{children:F.jsx("section",{className:"featured about-section",children:F.jsxs("div",{className:"section-content about-content",children:[F.jsx("h1",{className:"section-head",children:"About Math Art"}),F.jsxs("p",{children:["This site is a home for dynamic, interactive MathArt. It is built on a personal fascination on nestations with randomness, and as I'd like to call it — ",F.jsx("i",{children:"structured chaos"}),"."]}),F.jsx("br",{}),F.jsxs("p",{children:["The idea began with a simple question:"," ",F.jsx("i",{children:"Can something feel both structured and unpredictable?"})," That led to the concept of nestations, layering harmonic motions within each other. Each layer is simple and patterned on its own, but when nested and driven by random or chosen parameters, the result becomes surprisingly intricate, unique, and expressive. While the math behind these pieces isn’t driven by advanced theory, the process itself — recursive, intuitive, and emergent — mirrors deeper mathematical ideas like fractals and chaos. These are not simulations of theorems, but explorations of form and behavior using math as a creative tool."]}),F.jsx("br",{}),F.jsx("p",{children:"This site exists to bring those ideas to life. It’s a space for visual experimentation, where small changes ripple outward into entirely new art pieces. Visitors can explore curated galleries or generate their own versions through interactive tools. The goal isn’t just to present finished pieces, but to invite play, customization, and creative discovery. At its core, this project is about sharing a sense of visual curiosity, and perhaps helping others explore abstract mathematical art that I wish I had more exposure to growing up."}),F.jsx("br",{}),F.jsx("p",{children:"More features and galleries coming soon!"})]})})})}function P3(){const t=pi().pathname.startsWith("/art");return F.jsxs(F.Fragment,{children:[!t&&F.jsx(x_,{}),F.jsxs(Pb,{children:[F.jsx(jr,{path:"/",element:F.jsx(h3,{})}),F.jsx(jr,{path:"/gallery/:id",element:F.jsx(d3,{})}),F.jsx(jr,{path:"/art/:id",element:F.jsx(H3,{})}),F.jsx(jr,{path:"/about",element:F.jsx(G3,{})})]})]})}function L3(){return F.jsx(u_,{children:F.jsx(P3,{})})}const Y3=new URLSearchParams(window.location.search),Ay=Y3.get("redirect");Ay&&window.history.replaceState(null,"",decodeURIComponent(Ay));W1.createRoot(document.getElementById("root")).render(F.jsx(L3,{}));export{Me as $,D0 as A,Te as B,Gn as C,di as D,zt as E,ji as F,an as G,Jy as H,rn as I,Yi as J,Mg as K,na as L,Ct as M,k2 as N,W2 as O,At as P,Jt as Q,sa as R,V2 as S,qr as T,_c as U,It as V,K2 as W,Rg as X,Xh as Y,zg as Z,p2 as _,kn as a,n0 as a0,U0 as a1,mt as a2,Kt as a3,iS as a4,CS as a5,FS as a6,VS as a7,QS as a8,JS as a9,tw as aa,Yr as ab,Wr as ac,my as ad,no as ae,rS as af,Zl as ag,Ds as ah,V0 as ai,Ig as aj,qg as ak,B_ as al,la as am,H_ as an,Z0 as ao,xS as b,ra as c,jl as d,Qe as e,Vg as f,gS as g,Zc as h,R0 as i,d0 as j,gn as k,$c as l,jS as m,mg as n,qS as o,ZS as p,KS as q,Z_ as r,H0 as s,eo as t,Ht as u,N_ as v,Le as w,Pn as x,nw as y,Bn as z};
